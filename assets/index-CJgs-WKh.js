(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function _E(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bh={exports:{}},Ra={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function MT(){if(Oy)return Ra;Oy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ra.Fragment=e,Ra.jsx=r,Ra.jsxs=r,Ra}var Dy;function xT(){return Dy||(Dy=1,bh.exports=MT()),bh.exports}var W=xT(),Ch={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function LT(){if(Iy)return ie;Iy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function R(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function H(C,U,G){this.props=C,this.context=U,this.refs=z,this.updater=G||w}H.prototype.isReactComponent={},H.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},H.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function j(){}j.prototype=H.prototype;function B(C,U,G){this.props=C,this.context=U,this.refs=z,this.updater=G||w}var X=B.prototype=new j;X.constructor=B,P(X,H.prototype),X.isPureReactComponent=!0;var Z=Array.isArray;function le(){}var Y={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function Ye(C,U,G){var K=G.ref;return{$$typeof:i,type:C,key:U,ref:K!==void 0?K:null,props:G}}function Je(C,U){return Ye(C.type,U,C.props)}function st(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function at(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return U[G]})}var qi=/\/+/g;function En(C,U){return typeof C=="object"&&C!==null&&C.key!=null?at(""+C.key):U.toString(36)}function en(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(le,le):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function x(C,U,G,K,re){var ce=typeof C;(ce==="undefined"||ce==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case i:case e:be=!0;break;case _:return be=C._init,x(be(C._payload),U,G,K,re)}}if(be)return re=re(C),be=K===""?"."+En(C,0):K,Z(re)?(G="",be!=null&&(G=be.replace(qi,"$&/")+"/"),x(re,U,G,"",function(xs){return xs})):re!=null&&(st(re)&&(re=Je(re,G+(re.key==null||C&&C.key===re.key?"":(""+re.key).replace(qi,"$&/")+"/")+be)),U.push(re)),1;be=0;var gt=K===""?".":K+":";if(Z(C))for(var qe=0;qe<C.length;qe++)K=C[qe],ce=gt+En(K,qe),be+=x(K,U,G,ce,re);else if(qe=R(C),typeof qe=="function")for(C=qe.call(C),qe=0;!(K=C.next()).done;)K=K.value,ce=gt+En(K,qe++),be+=x(K,U,G,ce,re);else if(ce==="object"){if(typeof C.then=="function")return x(en(C),U,G,K,re);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return be}function V(C,U,G){if(C==null)return C;var K=[],re=0;return x(C,K,"","",function(ce){return U.call(G,ce,re++)}),K}function ne(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var we=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},De={map:V,forEach:function(C,U,G){V(C,function(){U.apply(this,arguments)},G)},count:function(C){var U=0;return V(C,function(){U++}),U},toArray:function(C){return V(C,function(U){return U})||[]},only:function(C){if(!st(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ie.Activity=y,ie.Children=De,ie.Component=H,ie.Fragment=r,ie.Profiler=o,ie.PureComponent=B,ie.StrictMode=a,ie.Suspense=p,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Y.H.useMemoCache(C)}},ie.cache=function(C){return function(){return C.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(C,U,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var K=P({},C.props),re=C.key;if(U!=null)for(ce in U.key!==void 0&&(re=""+U.key),U)!oe.call(U,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&U.ref===void 0||(K[ce]=U[ce]);var ce=arguments.length-2;if(ce===1)K.children=G;else if(1<ce){for(var be=Array(ce),gt=0;gt<ce;gt++)be[gt]=arguments[gt+2];K.children=be}return Ye(C.type,re,K)},ie.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},ie.createElement=function(C,U,G){var K,re={},ce=null;if(U!=null)for(K in U.key!==void 0&&(ce=""+U.key),U)oe.call(U,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(re[K]=U[K]);var be=arguments.length-2;if(be===1)re.children=G;else if(1<be){for(var gt=Array(be),qe=0;qe<be;qe++)gt[qe]=arguments[qe+2];re.children=gt}if(C&&C.defaultProps)for(K in be=C.defaultProps,be)re[K]===void 0&&(re[K]=be[K]);return Ye(C,ce,re)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(C){return{$$typeof:d,render:C}},ie.isValidElement=st,ie.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:ne}},ie.memo=function(C,U){return{$$typeof:m,type:C,compare:U===void 0?null:U}},ie.startTransition=function(C){var U=Y.T,G={};Y.T=G;try{var K=C(),re=Y.S;re!==null&&re(G,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(le,we)}catch(ce){we(ce)}finally{U!==null&&G.types!==null&&(U.types=G.types),Y.T=U}},ie.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ie.use=function(C){return Y.H.use(C)},ie.useActionState=function(C,U,G){return Y.H.useActionState(C,U,G)},ie.useCallback=function(C,U){return Y.H.useCallback(C,U)},ie.useContext=function(C){return Y.H.useContext(C)},ie.useDebugValue=function(){},ie.useDeferredValue=function(C,U){return Y.H.useDeferredValue(C,U)},ie.useEffect=function(C,U){return Y.H.useEffect(C,U)},ie.useEffectEvent=function(C){return Y.H.useEffectEvent(C)},ie.useId=function(){return Y.H.useId()},ie.useImperativeHandle=function(C,U,G){return Y.H.useImperativeHandle(C,U,G)},ie.useInsertionEffect=function(C,U){return Y.H.useInsertionEffect(C,U)},ie.useLayoutEffect=function(C,U){return Y.H.useLayoutEffect(C,U)},ie.useMemo=function(C,U){return Y.H.useMemo(C,U)},ie.useOptimistic=function(C,U){return Y.H.useOptimistic(C,U)},ie.useReducer=function(C,U,G){return Y.H.useReducer(C,U,G)},ie.useRef=function(C){return Y.H.useRef(C)},ie.useState=function(C){return Y.H.useState(C)},ie.useSyncExternalStore=function(C,U,G){return Y.H.useSyncExternalStore(C,U,G)},ie.useTransition=function(){return Y.H.useTransition()},ie.version="19.2.0",ie}var My;function Lu(){return My||(My=1,Ch.exports=LT()),Ch.exports}var D=Lu();const kT=_E(D);var Th={exports:{}},Aa={},wh={exports:{}},Rh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function UT(){return xy||(xy=1,(function(i){function e(x,V){var ne=x.length;x.push(V);e:for(;0<ne;){var we=ne-1>>>1,De=x[we];if(0<o(De,V))x[we]=V,x[ne]=De,ne=we;else break e}}function r(x){return x.length===0?null:x[0]}function a(x){if(x.length===0)return null;var V=x[0],ne=x.pop();if(ne!==V){x[0]=ne;e:for(var we=0,De=x.length,C=De>>>1;we<C;){var U=2*(we+1)-1,G=x[U],K=U+1,re=x[K];if(0>o(G,ne))K<De&&0>o(re,G)?(x[we]=re,x[K]=ne,we=K):(x[we]=G,x[U]=ne,we=U);else if(K<De&&0>o(re,ne))x[we]=re,x[K]=ne,we=K;else break e}}return V}function o(x,V){var ne=x.sortIndex-V.sortIndex;return ne!==0?ne:x.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var p=[],m=[],_=1,y=null,E=3,R=!1,w=!1,P=!1,z=!1,H=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function X(x){for(var V=r(m);V!==null;){if(V.callback===null)a(m);else if(V.startTime<=x)a(m),V.sortIndex=V.expirationTime,e(p,V);else break;V=r(m)}}function Z(x){if(P=!1,X(x),!w)if(r(p)!==null)w=!0,le||(le=!0,at());else{var V=r(m);V!==null&&en(Z,V.startTime-x)}}var le=!1,Y=-1,oe=5,Ye=-1;function Je(){return z?!0:!(i.unstable_now()-Ye<oe)}function st(){if(z=!1,le){var x=i.unstable_now();Ye=x;var V=!0;try{e:{w=!1,P&&(P=!1,j(Y),Y=-1),R=!0;var ne=E;try{t:{for(X(x),y=r(p);y!==null&&!(y.expirationTime>x&&Je());){var we=y.callback;if(typeof we=="function"){y.callback=null,E=y.priorityLevel;var De=we(y.expirationTime<=x);if(x=i.unstable_now(),typeof De=="function"){y.callback=De,X(x),V=!0;break t}y===r(p)&&a(p),X(x)}else a(p);y=r(p)}if(y!==null)V=!0;else{var C=r(m);C!==null&&en(Z,C.startTime-x),V=!1}}break e}finally{y=null,E=ne,R=!1}V=void 0}}finally{V?at():le=!1}}}var at;if(typeof B=="function")at=function(){B(st)};else if(typeof MessageChannel<"u"){var qi=new MessageChannel,En=qi.port2;qi.port1.onmessage=st,at=function(){En.postMessage(null)}}else at=function(){H(st,0)};function en(x,V){Y=H(function(){x(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(x){x.callback=null},i.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<x?Math.floor(1e3/x):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(x){switch(E){case 1:case 2:case 3:var V=3;break;default:V=E}var ne=E;E=V;try{return x()}finally{E=ne}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(x,V){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var ne=E;E=x;try{return V()}finally{E=ne}},i.unstable_scheduleCallback=function(x,V,ne){var we=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,x){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ne+De,x={id:_++,callback:V,priorityLevel:x,startTime:ne,expirationTime:De,sortIndex:-1},ne>we?(x.sortIndex=ne,e(m,x),r(p)===null&&x===r(m)&&(P?(j(Y),Y=-1):P=!0,en(Z,ne-we))):(x.sortIndex=De,e(p,x),w||R||(w=!0,le||(le=!0,at()))),x},i.unstable_shouldYield=Je,i.unstable_wrapCallback=function(x){var V=E;return function(){var ne=E;E=V;try{return x.apply(this,arguments)}finally{E=ne}}}})(Rh)),Rh}var Ly;function zT(){return Ly||(Ly=1,wh.exports=UT()),wh.exports}var Ah={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function PT(){if(ky)return dt;ky=1;var i=Lu();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:m,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},dt.flushSync=function(p){var m=f.T,_=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=m,a.p=_,a.d.f()}},dt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},dt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},dt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:R}):_==="script"&&a.d.X(p,{crossOrigin:y,integrity:E,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},dt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin);a.d.L(p,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},dt.requestFormReset=function(p){a.d.r(p)},dt.unstable_batchedUpdates=function(p,m){return p(m)},dt.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.2.0",dt}var Uy;function HT(){if(Uy)return Ah.exports;Uy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ah.exports=PT(),Ah.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function BT(){if(zy)return Aa;zy=1;var i=zT(),e=Lu(),r=HT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function m(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return p(c),t;if(h===l)return p(c),n;h=h.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=h;else{for(var g=!1,v=c.child;v;){if(v===s){g=!0,s=c,l=h;break}if(v===l){g=!0,l=c,s=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===s){g=!0,s=h,l=c;break}if(v===l){g=!0,l=h,s=c;break}v=v.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),B=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Ye=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function at(t){return t===null||typeof t!="object"?null:(t=st&&t[st]||t["@@iterator"],typeof t=="function"?t:null)}var qi=Symbol.for("react.client.reference");function En(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===qi?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case H:return"Profiler";case z:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList";case Ye:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case B:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:En(t.type)||"Memo";case oe:n=t._payload,t=t._init;try{return En(t(n))}catch{}}return null}var en=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},we=[],De=-1;function C(t){return{current:t}}function U(t){0>De||(t.current=we[De],we[De]=null,De--)}function G(t,n){De++,we[De]=t.current,t.current=n}var K=C(null),re=C(null),ce=C(null),be=C(null);function gt(t,n){switch(G(ce,n),G(re,t),G(K,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?$_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=$_(n),t=J_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(K),G(K,t)}function qe(){U(K),U(re),U(ce)}function xs(t){t.memoizedState!==null&&G(be,t);var n=K.current,s=J_(n,t.type);n!==s&&(G(re,t),G(K,s))}function wl(t){re.current===t&&(U(K),U(re)),be.current===t&&(U(be),ba._currentValue=ne)}var ic,Np;function Vi(t){if(ic===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ic=n&&n[1]||"",Np=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ic+t+Np}var rc=!1;function sc(t,n){if(!t||rc)return"";rc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(I){var O=I}Reflect.construct(t,[],k)}else{try{k.call()}catch(I){O=I}t.call(k.prototype)}}else{try{throw Error()}catch(I){O=I}(k=t())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(I){if(I&&O&&typeof I.stack=="string")return[I.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var S=g.split(`
`),N=v.split(`
`);for(c=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===S.length||c===N.length)for(l=S.length-1,c=N.length-1;1<=l&&0<=c&&S[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(S[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||S[l]!==N[c]){var M=`
`+S[l].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=l&&0<=c);break}}}finally{rc=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Vi(s):""}function u0(t,n){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return t.child!==n&&n!==null?Vi("Suspense Fallback"):Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return sc(t.type,!1);case 11:return sc(t.type.render,!1);case 1:return sc(t.type,!0);case 31:return Vi("Activity");default:return""}}function Op(t){try{var n="",s=null;do n+=u0(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ac=Object.prototype.hasOwnProperty,lc=i.unstable_scheduleCallback,oc=i.unstable_cancelCallback,c0=i.unstable_shouldYield,f0=i.unstable_requestPaint,Dt=i.unstable_now,h0=i.unstable_getCurrentPriorityLevel,Dp=i.unstable_ImmediatePriority,Ip=i.unstable_UserBlockingPriority,Rl=i.unstable_NormalPriority,d0=i.unstable_LowPriority,Mp=i.unstable_IdlePriority,p0=i.log,m0=i.unstable_setDisableYieldValue,Ls=null,It=null;function Jn(t){if(typeof p0=="function"&&m0(t),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Ls,t)}catch{}}var Mt=Math.clz32?Math.clz32:y0,g0=Math.log,_0=Math.LN2;function y0(t){return t>>>=0,t===0?32:31-(g0(t)/_0|0)|0}var Al=256,Nl=262144,Ol=4194304;function Gi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dl(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=l&134217727;return v!==0?(l=v&~h,l!==0?c=Gi(l):(g&=v,g!==0?c=Gi(g):s||(s=v&~t,s!==0&&(c=Gi(s))))):(v=l&~h,v!==0?c=Gi(v):g!==0?c=Gi(g):s||(s=l&~t,s!==0&&(c=Gi(s)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:c}function ks(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function v0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xp(){var t=Ol;return Ol<<=1,(Ol&62914560)===0&&(Ol=4194304),t}function uc(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Us(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function E0(t,n,s,l,c,h){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var v=t.entanglements,S=t.expirationTimes,N=t.hiddenUpdates;for(s=g&~s;0<s;){var M=31-Mt(s),k=1<<M;v[M]=0,S[M]=-1;var O=N[M];if(O!==null)for(N[M]=null,M=0;M<O.length;M++){var I=O[M];I!==null&&(I.lane&=-536870913)}s&=~k}l!==0&&Lp(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function Lp(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Mt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function kp(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Mt(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Up(t,n){var s=n&-n;return s=(s&42)!==0?1:cc(s),(s&(t.suspendedLanes|n))!==0?0:s}function cc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zp(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:by(t.type))}function Pp(t,n){var s=V.p;try{return V.p=t,n()}finally{V.p=s}}var ei=Math.random().toString(36).slice(2),lt="__reactFiber$"+ei,Et="__reactProps$"+ei,wr="__reactContainer$"+ei,hc="__reactEvents$"+ei,S0="__reactListeners$"+ei,b0="__reactHandles$"+ei,Hp="__reactResources$"+ei,zs="__reactMarker$"+ei;function dc(t){delete t[lt],delete t[Et],delete t[hc],delete t[S0],delete t[b0]}function Rr(t){var n=t[lt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[wr]||s[lt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=ay(t);t!==null;){if(s=t[lt])return s;t=ay(t)}return n}t=s,s=t.parentNode}return null}function Ar(t){if(t=t[lt]||t[wr]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ps(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Nr(t){var n=t[Hp];return n||(n=t[Hp]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(t){t[zs]=!0}var Bp=new Set,jp={};function Yi(t,n){Or(t,n),Or(t+"Capture",n)}function Or(t,n){for(jp[t]=n,t=0;t<n.length;t++)Bp.add(n[t])}var C0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qp={},Vp={};function T0(t){return ac.call(Vp,t)?!0:ac.call(qp,t)?!1:C0.test(t)?Vp[t]=!0:(qp[t]=!0,!1)}function Il(t,n,s){if(T0(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ml(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Sn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gp(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function w0(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function pc(t){if(!t._valueTracker){var n=Gp(t)?"checked":"value";t._valueTracker=w0(t,n,""+t[n])}}function Yp(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Gp(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function xl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var R0=/[\n"\\]/g;function qt(t){return t.replace(R0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mc(t,n,s,l,c,h,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+jt(n)):t.value!==""+jt(n)&&(t.value=""+jt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?gc(t,g,jt(n)):s!=null?gc(t,g,jt(s)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+jt(v):t.removeAttribute("name")}function Fp(t,n,s,l,c,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){pc(t);return}s=s!=null?""+jt(s):"",n=n!=null?""+jt(n):s,v||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=v?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),pc(t)}function gc(t,n,s){n==="number"&&xl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Dr(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+jt(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Kp(t,n,s){if(n!=null&&(n=""+jt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+jt(s):""}function Qp(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(en(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=jt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),pc(t)}function Ir(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var A0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xp(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||A0.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Wp(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Xp(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Xp(t,h,n[h])}function _c(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(t){return O0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bn(){}var yc=null;function vc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,xr=null;function Zp(t){var n=Ar(t);if(n&&(t=n.stateNode)){var s=t[Et]||null;e:switch(t=n.stateNode,n.type){case"input":if(mc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+qt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Et]||null;if(!c)throw Error(a(90));mc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Yp(l)}break e;case"textarea":Kp(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Dr(t,!!s.multiple,n,!1)}}}var Ec=!1;function $p(t,n,s){if(Ec)return t(n,s);Ec=!0;try{var l=t(n);return l}finally{if(Ec=!1,(Mr!==null||xr!==null)&&(bo(),Mr&&(n=Mr,t=xr,xr=Mr=null,Zp(n),t)))for(n=0;n<t.length;n++)Zp(t[n])}}function Hs(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Et]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(Cn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Sc=!1}var ti=null,bc=null,kl=null;function Jp(){if(kl)return kl;var t,n=bc,s=n.length,l,c="value"in ti?ti.value:ti.textContent,h=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[h-l];l++);return kl=c.slice(t,1<l?1-l:void 0)}function Ul(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zl(){return!0}function em(){return!1}function St(t){function n(s,l,c,h,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(s=t[v],this[v]=s?s(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?zl:em,this.isPropagationStopped=em,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=St(Fi),js=y({},Fi,{view:0,detail:0}),D0=St(js),Cc,Tc,qs,Hl=y({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qs&&(qs&&t.type==="mousemove"?(Cc=t.screenX-qs.screenX,Tc=t.screenY-qs.screenY):Tc=Cc=0,qs=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Tc}}),tm=St(Hl),I0=y({},Hl,{dataTransfer:0}),M0=St(I0),x0=y({},js,{relatedTarget:0}),wc=St(x0),L0=y({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=St(L0),U0=y({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z0=St(U0),P0=y({},Fi,{data:0}),nm=St(P0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=j0[t])?!!n[t]:!1}function Rc(){return q0}var V0=y({},js,{key:function(t){if(t.key){var n=H0[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G0=St(V0),Y0=y({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=St(Y0),F0=y({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),K0=St(F0),Q0=y({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),X0=St(Q0),W0=y({},Hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=St(W0),$0=y({},Fi,{newState:0,oldState:0}),J0=St($0),eC=[9,13,27,32],Ac=Cn&&"CompositionEvent"in window,Vs=null;Cn&&"documentMode"in document&&(Vs=document.documentMode);var tC=Cn&&"TextEvent"in window&&!Vs,rm=Cn&&(!Ac||Vs&&8<Vs&&11>=Vs),sm=" ",am=!1;function lm(t,n){switch(t){case"keyup":return eC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function nC(t,n){switch(t){case"compositionend":return om(n);case"keypress":return n.which!==32?null:(am=!0,sm);case"textInput":return t=n.data,t===sm&&am?null:t;default:return null}}function iC(t,n){if(Lr)return t==="compositionend"||!Ac&&lm(t,n)?(t=Jp(),kl=bc=ti=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rm&&n.locale!=="ko"?null:n.data;default:return null}}var rC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!rC[t.type]:n==="textarea"}function cm(t,n,s,l){Mr?xr?xr.push(l):xr=[l]:Mr=l,n=Oo(n,"onChange"),0<n.length&&(s=new Pl("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Gs=null,Ys=null;function sC(t){F_(t,0)}function Bl(t){var n=Ps(t);if(Yp(n))return t}function fm(t,n){if(t==="change")return n}var hm=!1;if(Cn){var Nc;if(Cn){var Oc="oninput"in document;if(!Oc){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Oc=typeof dm.oninput=="function"}Nc=Oc}else Nc=!1;hm=Nc&&(!document.documentMode||9<document.documentMode)}function pm(){Gs&&(Gs.detachEvent("onpropertychange",mm),Ys=Gs=null)}function mm(t){if(t.propertyName==="value"&&Bl(Ys)){var n=[];cm(n,Ys,t,vc(t)),$p(sC,n)}}function aC(t,n,s){t==="focusin"?(pm(),Gs=n,Ys=s,Gs.attachEvent("onpropertychange",mm)):t==="focusout"&&pm()}function lC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(Ys)}function oC(t,n){if(t==="click")return Bl(n)}function uC(t,n){if(t==="input"||t==="change")return Bl(n)}function cC(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xt=typeof Object.is=="function"?Object.is:cC;function Fs(t,n){if(xt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!ac.call(n,c)||!xt(t[c],n[c]))return!1}return!0}function gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _m(t,n){var s=gm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gm(s)}}function ym(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ym(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xl(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=xl(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var fC=Cn&&"documentMode"in document&&11>=document.documentMode,kr=null,Ic=null,Ks=null,Mc=!1;function Em(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mc||kr==null||kr!==xl(l)||(l=kr,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ks&&Fs(Ks,l)||(Ks=l,l=Oo(Ic,"onSelect"),0<l.length&&(n=new Pl("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=kr)))}function Ki(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ur={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},xc={},Sm={};Cn&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Qi(t){if(xc[t])return xc[t];if(!Ur[t])return t;var n=Ur[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sm)return xc[t]=n[s];return t}var bm=Qi("animationend"),Cm=Qi("animationiteration"),Tm=Qi("animationstart"),hC=Qi("transitionrun"),dC=Qi("transitionstart"),pC=Qi("transitioncancel"),wm=Qi("transitionend"),Rm=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function tn(t,n){Rm.set(t,n),Yi(n,[t])}var jl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vt=[],zr=0,kc=0;function ql(){for(var t=zr,n=kc=zr=0;n<t;){var s=Vt[n];Vt[n++]=null;var l=Vt[n];Vt[n++]=null;var c=Vt[n];Vt[n++]=null;var h=Vt[n];if(Vt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&Am(s,c,h)}}function Vl(t,n,s,l){Vt[zr++]=t,Vt[zr++]=n,Vt[zr++]=s,Vt[zr++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,s,l){return Vl(t,n,s,l),Gl(t)}function Xi(t,n){return Vl(t,null,null,n),Gl(t)}function Am(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,h=t.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Mt(s),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),h):null}function Gl(t){if(50<ma)throw ma=0,Ff=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pr={};function mC(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,n,s,l){return new mC(t,n,s,l)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tn(t,n){var s=t.alternate;return s===null?(s=Lt(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Nm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yl(t,n,s,l,c,h){var g=0;if(l=t,typeof t=="function")zc(t)&&(g=1);else if(typeof t=="string")g=ET(t,s,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ye:return t=Lt(31,s,n,c),t.elementType=Ye,t.lanes=h,t;case P:return Wi(s.children,c,h,n);case z:g=8,c|=24;break;case H:return t=Lt(12,s,n,c|2),t.elementType=H,t.lanes=h,t;case Z:return t=Lt(13,s,n,c),t.elementType=Z,t.lanes=h,t;case le:return t=Lt(19,s,n,c),t.elementType=le,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:g=10;break e;case j:g=9;break e;case X:g=11;break e;case Y:g=14;break e;case oe:g=16,l=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Lt(g,s,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Wi(t,n,s,l){return t=Lt(7,t,l,n),t.lanes=s,t}function Pc(t,n,s){return t=Lt(6,t,null,n),t.lanes=s,t}function Om(t){var n=Lt(18,null,null,0);return n.stateNode=t,n}function Hc(t,n,s){return n=Lt(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dm=new WeakMap;function Gt(t,n){if(typeof t=="object"&&t!==null){var s=Dm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Op(n)},Dm.set(t,n),n)}return{value:t,source:n,stack:Op(n)}}var Hr=[],Br=0,Fl=null,Qs=0,Yt=[],Ft=0,ni=null,hn=1,dn="";function wn(t,n){Hr[Br++]=Qs,Hr[Br++]=Fl,Fl=t,Qs=n}function Im(t,n,s){Yt[Ft++]=hn,Yt[Ft++]=dn,Yt[Ft++]=ni,ni=t;var l=hn;t=dn;var c=32-Mt(l)-1;l&=~(1<<c),s+=1;var h=32-Mt(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hn=1<<32-Mt(n)+c|s<<c|l,dn=h+t}else hn=1<<h|s<<c|l,dn=t}function Bc(t){t.return!==null&&(wn(t,1),Im(t,1,0))}function jc(t){for(;t===Fl;)Fl=Hr[--Br],Hr[Br]=null,Qs=Hr[--Br],Hr[Br]=null;for(;t===ni;)ni=Yt[--Ft],Yt[Ft]=null,dn=Yt[--Ft],Yt[Ft]=null,hn=Yt[--Ft],Yt[Ft]=null}function Mm(t,n){Yt[Ft++]=hn,Yt[Ft++]=dn,Yt[Ft++]=ni,hn=n.id,dn=n.overflow,ni=t}var ot=null,Le=null,_e=!1,ii=null,Kt=!1,qc=Error(a(519));function ri(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xs(Gt(n,t)),qc}function xm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[lt]=t,n[Et]=l,s){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<_a.length;s++)he(_a[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":he("invalid",n),Fp(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":he("invalid",n);break;case"textarea":he("invalid",n),Qp(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||W_(n.textContent,s)?(l.popover!=null&&(he("beforetoggle",n),he("toggle",n)),l.onScroll!=null&&he("scroll",n),l.onScrollEnd!=null&&he("scrollend",n),l.onClick!=null&&(n.onclick=bn),n=!0):n=!1,n||ri(t,!0)}function Lm(t){for(ot=t.return;ot;)switch(ot.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ot=ot.return}}function jr(t){if(t!==ot)return!1;if(!_e)return Lm(t),_e=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||lh(t.type,t.memoizedProps)),s=!s),s&&Le&&ri(t),Lm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Le=sy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Le=sy(t)}else n===27?(n=Le,yi(t.type)?(t=hh,hh=null,Le=t):Le=n):Le=ot?Xt(t.stateNode.nextSibling):null;return!0}function Zi(){Le=ot=null,_e=!1}function Vc(){var t=ii;return t!==null&&(wt===null?wt=t:wt.push.apply(wt,t),ii=null),t}function Xs(t){ii===null?ii=[t]:ii.push(t)}var Gc=C(null),$i=null,Rn=null;function si(t,n,s){G(Gc,n._currentValue),n._currentValue=s}function An(t){t._currentValue=Gc.current,U(Gc)}function Yc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Fc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=c;for(var S=0;S<n.length;S++)if(v.context===n[S]){h.lanes|=s,v=h.alternate,v!==null&&(v.lanes|=s),Yc(h.return,s,t),l||(g=null);break e}h=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,h=g.alternate,h!==null&&(h.lanes|=s),Yc(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function qr(t,n,s,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var v=c.type;xt(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===be.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ba):t=[ba])}c=c.return}t!==null&&Fc(n,t,s,l),n.flags|=262144}function Kl(t){for(t=t.firstContext;t!==null;){if(!xt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ji(t){$i=t,Rn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ut(t){return km($i,t)}function Ql(t,n){return $i===null&&Ji(t),km(t,n)}function km(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Rn===null){if(t===null)throw Error(a(308));Rn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Rn=Rn.next=n;return s}var gC=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},_C=i.unstable_scheduleCallback,yC=i.unstable_NormalPriority,Fe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new gC,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&_C(yC,function(){t.controller.abort()})}var Zs=null,Qc=0,Vr=0,Gr=null;function vC(t,n){if(Zs===null){var s=Zs=[];Qc=0,Vr=$f(),Gr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qc++,n.then(Um,Um),n}function Um(){if(--Qc===0&&Zs!==null){Gr!==null&&(Gr.status="fulfilled");var t=Zs;Zs=null,Vr=0,Gr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function EC(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var zm=x.S;x.S=function(t,n){E_=Dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vC(t,n),zm!==null&&zm(t,n)};var er=C(null);function Xc(){var t=er.current;return t!==null?t:Ie.pooledCache}function Xl(t,n){n===null?G(er,er.current):G(er,n.pool)}function Pm(){var t=Xc();return t===null?null:{parent:Fe._currentValue,pool:t}}var Yr=Error(a(460)),Wc=Error(a(474)),Wl=Error(a(542)),Zl={then:function(){}};function Hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(bn,bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t;default:if(typeof n.status=="string")n.then(bn,bn);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t}throw nr=n,Yr}}function tr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(nr=s,Yr):s}}var nr=null;function jm(){if(nr===null)throw Error(a(459));var t=nr;return nr=null,t}function qm(t){if(t===Yr||t===Wl)throw Error(a(483))}var Fr=null,$s=0;function $l(t){var n=$s;return $s+=1,Fr===null&&(Fr=[]),Bm(Fr,t,n)}function Js(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jl(t,n){throw n.$$typeof===E?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Vm(t){function n(T,b){if(t){var A=T.deletions;A===null?(T.deletions=[b],T.flags|=16):A.push(b)}}function s(T,b){if(!t)return null;for(;b!==null;)n(T,b),b=b.sibling;return null}function l(T){for(var b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function c(T,b){return T=Tn(T,b),T.index=0,T.sibling=null,T}function h(T,b,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<b?(T.flags|=67108866,b):A):(T.flags|=67108866,b)):(T.flags|=1048576,b)}function g(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function v(T,b,A,L){return b===null||b.tag!==6?(b=Pc(A,T.mode,L),b.return=T,b):(b=c(b,A),b.return=T,b)}function S(T,b,A,L){var $=A.type;return $===P?M(T,b,A.props.children,L,A.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===oe&&tr($)===b.type)?(b=c(b,A.props),Js(b,A),b.return=T,b):(b=Yl(A.type,A.key,A.props,null,T.mode,L),Js(b,A),b.return=T,b)}function N(T,b,A,L){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=Hc(A,T.mode,L),b.return=T,b):(b=c(b,A.children||[]),b.return=T,b)}function M(T,b,A,L,$){return b===null||b.tag!==7?(b=Wi(A,T.mode,L,$),b.return=T,b):(b=c(b,A),b.return=T,b)}function k(T,b,A){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Pc(""+b,T.mode,A),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case R:return A=Yl(b.type,b.key,b.props,null,T.mode,A),Js(A,b),A.return=T,A;case w:return b=Hc(b,T.mode,A),b.return=T,b;case oe:return b=tr(b),k(T,b,A)}if(en(b)||at(b))return b=Wi(b,T.mode,A,null),b.return=T,b;if(typeof b.then=="function")return k(T,$l(b),A);if(b.$$typeof===B)return k(T,Ql(T,b),A);Jl(T,b)}return null}function O(T,b,A,L){var $=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return $!==null?null:v(T,b,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return A.key===$?S(T,b,A,L):null;case w:return A.key===$?N(T,b,A,L):null;case oe:return A=tr(A),O(T,b,A,L)}if(en(A)||at(A))return $!==null?null:M(T,b,A,L,null);if(typeof A.then=="function")return O(T,b,$l(A),L);if(A.$$typeof===B)return O(T,b,Ql(T,A),L);Jl(T,A)}return null}function I(T,b,A,L,$){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(A)||null,v(b,T,""+L,$);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return T=T.get(L.key===null?A:L.key)||null,S(b,T,L,$);case w:return T=T.get(L.key===null?A:L.key)||null,N(b,T,L,$);case oe:return L=tr(L),I(T,b,A,L,$)}if(en(L)||at(L))return T=T.get(A)||null,M(b,T,L,$,null);if(typeof L.then=="function")return I(T,b,A,$l(L),$);if(L.$$typeof===B)return I(T,b,A,Ql(b,L),$);Jl(b,L)}return null}function F(T,b,A,L){for(var $=null,ye=null,Q=b,ae=b=0,me=null;Q!==null&&ae<A.length;ae++){Q.index>ae?(me=Q,Q=null):me=Q.sibling;var ve=O(T,Q,A[ae],L);if(ve===null){Q===null&&(Q=me);break}t&&Q&&ve.alternate===null&&n(T,Q),b=h(ve,b,ae),ye===null?$=ve:ye.sibling=ve,ye=ve,Q=me}if(ae===A.length)return s(T,Q),_e&&wn(T,ae),$;if(Q===null){for(;ae<A.length;ae++)Q=k(T,A[ae],L),Q!==null&&(b=h(Q,b,ae),ye===null?$=Q:ye.sibling=Q,ye=Q);return _e&&wn(T,ae),$}for(Q=l(Q);ae<A.length;ae++)me=I(Q,T,ae,A[ae],L),me!==null&&(t&&me.alternate!==null&&Q.delete(me.key===null?ae:me.key),b=h(me,b,ae),ye===null?$=me:ye.sibling=me,ye=me);return t&&Q.forEach(function(Ci){return n(T,Ci)}),_e&&wn(T,ae),$}function J(T,b,A,L){if(A==null)throw Error(a(151));for(var $=null,ye=null,Q=b,ae=b=0,me=null,ve=A.next();Q!==null&&!ve.done;ae++,ve=A.next()){Q.index>ae?(me=Q,Q=null):me=Q.sibling;var Ci=O(T,Q,ve.value,L);if(Ci===null){Q===null&&(Q=me);break}t&&Q&&Ci.alternate===null&&n(T,Q),b=h(Ci,b,ae),ye===null?$=Ci:ye.sibling=Ci,ye=Ci,Q=me}if(ve.done)return s(T,Q),_e&&wn(T,ae),$;if(Q===null){for(;!ve.done;ae++,ve=A.next())ve=k(T,ve.value,L),ve!==null&&(b=h(ve,b,ae),ye===null?$=ve:ye.sibling=ve,ye=ve);return _e&&wn(T,ae),$}for(Q=l(Q);!ve.done;ae++,ve=A.next())ve=I(Q,T,ae,ve.value,L),ve!==null&&(t&&ve.alternate!==null&&Q.delete(ve.key===null?ae:ve.key),b=h(ve,b,ae),ye===null?$=ve:ye.sibling=ve,ye=ve);return t&&Q.forEach(function(IT){return n(T,IT)}),_e&&wn(T,ae),$}function Ne(T,b,A,L){if(typeof A=="object"&&A!==null&&A.type===P&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case R:e:{for(var $=A.key;b!==null;){if(b.key===$){if($=A.type,$===P){if(b.tag===7){s(T,b.sibling),L=c(b,A.props.children),L.return=T,T=L;break e}}else if(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===oe&&tr($)===b.type){s(T,b.sibling),L=c(b,A.props),Js(L,A),L.return=T,T=L;break e}s(T,b);break}else n(T,b);b=b.sibling}A.type===P?(L=Wi(A.props.children,T.mode,L,A.key),L.return=T,T=L):(L=Yl(A.type,A.key,A.props,null,T.mode,L),Js(L,A),L.return=T,T=L)}return g(T);case w:e:{for($=A.key;b!==null;){if(b.key===$)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){s(T,b.sibling),L=c(b,A.children||[]),L.return=T,T=L;break e}else{s(T,b);break}else n(T,b);b=b.sibling}L=Hc(A,T.mode,L),L.return=T,T=L}return g(T);case oe:return A=tr(A),Ne(T,b,A,L)}if(en(A))return F(T,b,A,L);if(at(A)){if($=at(A),typeof $!="function")throw Error(a(150));return A=$.call(A),J(T,b,A,L)}if(typeof A.then=="function")return Ne(T,b,$l(A),L);if(A.$$typeof===B)return Ne(T,b,Ql(T,A),L);Jl(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,b!==null&&b.tag===6?(s(T,b.sibling),L=c(b,A),L.return=T,T=L):(s(T,b),L=Pc(A,T.mode,L),L.return=T,T=L),g(T)):s(T,b)}return function(T,b,A,L){try{$s=0;var $=Ne(T,b,A,L);return Fr=null,$}catch(Q){if(Q===Yr||Q===Wl)throw Q;var ye=Lt(29,Q,null,T.mode);return ye.lanes=L,ye.return=T,ye}finally{}}}var ir=Vm(!0),Gm=Vm(!1),ai=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oi(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Se&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Gl(t),Am(t,null,s),n}return Vl(t,l,n,s),Gl(t)}function ea(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,kp(t,s)}}function Jc(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=n:h=h.next=n}else c=h=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ef=!1;function ta(){if(ef){var t=Gr;if(t!==null)throw t}}function na(t,n,s,l){ef=!1;var c=t.updateQueue;ai=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var S=v,N=S.next;S.next=null,g===null?h=N:g.next=N,g=S;var M=t.alternate;M!==null&&(M=M.updateQueue,v=M.lastBaseUpdate,v!==g&&(v===null?M.firstBaseUpdate=N:v.next=N,M.lastBaseUpdate=S))}if(h!==null){var k=c.baseState;g=0,M=N=S=null,v=h;do{var O=v.lane&-536870913,I=O!==v.lane;if(I?(pe&O)===O:(l&O)===O){O!==0&&O===Vr&&(ef=!0),M!==null&&(M=M.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var F=t,J=v;O=n;var Ne=s;switch(J.tag){case 1:if(F=J.payload,typeof F=="function"){k=F.call(Ne,k,O);break e}k=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=J.payload,O=typeof F=="function"?F.call(Ne,k,O):F,O==null)break e;k=y({},k,O);break e;case 2:ai=!0}}O=v.callback,O!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[O]:I.push(O))}else I={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},M===null?(N=M=I,S=k):M=M.next=I,g|=O;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;I=v,v=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);M===null&&(S=k),c.baseState=S,c.firstBaseUpdate=N,c.lastBaseUpdate=M,h===null&&(c.shared.lanes=0),di|=g,t.lanes=g,t.memoizedState=k}}function Ym(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ym(s[t],n)}var Kr=C(null),eo=C(0);function Km(t,n){t=Un,G(eo,t),G(Kr,n),Un=t|n.baseLanes}function tf(){G(eo,Un),G(Kr,Kr.current)}function nf(){Un=eo.current,U(Kr),U(eo)}var kt=C(null),Qt=null;function ui(t){var n=t.alternate;G(Ve,Ve.current&1),G(kt,t),Qt===null&&(n===null||Kr.current!==null||n.memoizedState!==null)&&(Qt=t)}function rf(t){G(Ve,Ve.current),G(kt,t),Qt===null&&(Qt=t)}function Qm(t){t.tag===22?(G(Ve,Ve.current),G(kt,t),Qt===null&&(Qt=t)):ci()}function ci(){G(Ve,Ve.current),G(kt,kt.current)}function Ut(t){U(kt),Qt===t&&(Qt=null),U(Ve)}var Ve=C(0);function to(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ch(s)||fh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Nn=0,se=null,Re=null,Ke=null,no=!1,Qr=!1,rr=!1,io=0,ia=0,Xr=null,SC=0;function He(){throw Error(a(321))}function sf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!xt(t[s],n[s]))return!1;return!0}function af(t,n,s,l,c,h){return Nn=h,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,x.H=t===null||t.memoizedState===null?Ig:Sf,rr=!1,h=s(l,c),rr=!1,Qr&&(h=Wm(n,s,l,c)),Xm(t),h}function Xm(t){x.H=aa;var n=Re!==null&&Re.next!==null;if(Nn=0,Ke=Re=se=null,no=!1,ia=0,Xr=null,n)throw Error(a(300));t===null||Qe||(t=t.dependencies,t!==null&&Kl(t)&&(Qe=!0))}function Wm(t,n,s,l){se=t;var c=0;do{if(Qr&&(Xr=null),ia=0,Qr=!1,25<=c)throw Error(a(301));if(c+=1,Ke=Re=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}x.H=Mg,h=n(s,l)}while(Qr);return h}function bC(){var t=x.H,n=t.useState()[0];return n=typeof n.then=="function"?ra(n):n,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(se.flags|=1024),n}function lf(){var t=io!==0;return io=0,t}function of(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function uf(t){if(no){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}no=!1}Nn=0,Ke=Re=se=null,Qr=!1,ia=io=0,Xr=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?se.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Ge(){if(Re===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var n=Ke===null?se.memoizedState:Ke.next;if(n!==null)Ke=n,Re=t;else{if(t===null)throw se.alternate===null?Error(a(467)):Error(a(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ke===null?se.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ra(t){var n=ia;return ia+=1,Xr===null&&(Xr=[]),t=Bm(Xr,t,n),n=se,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,x.H=n===null||n.memoizedState===null?Ig:Sf),t}function so(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ra(t);if(t.$$typeof===B)return ut(t)}throw Error(a(438,String(t)))}function cf(t){var n=null,s=se.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=se.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ro(),se.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=Je;return n.index++,s}function On(t,n){return typeof n=="function"?n(t):n}function ao(t){var n=Ge();return ff(n,Re,t)}function ff(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var v=g=null,S=null,N=n,M=!1;do{var k=N.lane&-536870913;if(k!==N.lane?(pe&k)===k:(Nn&k)===k){var O=N.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),k===Vr&&(M=!0);else if((Nn&O)===O){N=N.next,O===Vr&&(M=!0);continue}else k={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=k,g=h):S=S.next=k,se.lanes|=O,di|=O;k=N.action,rr&&s(h,k),h=N.hasEagerState?N.eagerState:s(h,k)}else O={lane:k,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(v=S=O,g=h):S=S.next=O,se.lanes|=k,di|=k;N=N.next}while(N!==null&&N!==n);if(S===null?g=h:S.next=v,!xt(h,t.memoizedState)&&(Qe=!0,M&&(s=Gr,s!==null)))throw s;t.memoizedState=h,t.baseState=g,t.baseQueue=S,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hf(t){var n=Ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,h=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);xt(h,n.memoizedState)||(Qe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function Zm(t,n,s){var l=se,c=Ge(),h=_e;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!xt((Re||c).memoizedState,s);if(g&&(c.memoizedState=s,Qe=!0),c=c.queue,mf(eg.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,Wr(9,{destroy:void 0},Jm.bind(null,l,c,s,n),null),Ie===null)throw Error(a(349));h||(Nn&127)!==0||$m(l,n,s)}return s}function $m(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=se.updateQueue,n===null?(n=ro(),se.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Jm(t,n,s,l){n.value=s,n.getSnapshot=l,tg(n)&&ng(t)}function eg(t,n,s){return s(function(){tg(n)&&ng(t)})}function tg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!xt(t,s)}catch{return!0}}function ng(t){var n=Xi(t,2);n!==null&&Rt(n,t,2)}function df(t){var n=_t();if(typeof t=="function"){var s=t;if(t=s(),rr){Jn(!0);try{s()}finally{Jn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},n}function ig(t,n,s,l){return t.baseState=s,ff(t,Re,typeof l=="function"?l:On)}function CC(t,n,s,l,c){if(uo(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};x.T!==null?s(!0):h.isTransition=!1,l(h),s=n.pending,s===null?(h.next=n.pending=h,rg(n,h)):(h.next=s.next,n.pending=s.next=h)}}function rg(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=x.T,g={};x.T=g;try{var v=s(c,l),S=x.S;S!==null&&S(g,v),sg(t,n,v)}catch(N){pf(t,n,N)}finally{h!==null&&g.types!==null&&(h.types=g.types),x.T=h}}else try{h=s(c,l),sg(t,n,h)}catch(N){pf(t,n,N)}}function sg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ag(t,n,l)},function(l){return pf(t,n,l)}):ag(t,n,s)}function ag(t,n,s){n.status="fulfilled",n.value=s,lg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,rg(t,s)))}function pf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lg(n),n=n.next;while(n!==l)}t.action=null}function lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function og(t,n){return n}function ug(t,n){if(_e){var s=Ie.formState;if(s!==null){e:{var l=se;if(_e){if(Le){t:{for(var c=Le,h=Kt;c.nodeType!==8;){if(!h){c=null;break t}if(c=Xt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Le=Xt(c.nextSibling),l=c.data==="F!";break e}}ri(l)}l=!1}l&&(n=s[0])}}return s=_t(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=l,s=Ng.bind(null,se,l),l.dispatch=s,l=df(!1),h=Ef.bind(null,se,!1,l.queue),l=_t(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=CC.bind(null,se,c,h,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function cg(t){var n=Ge();return fg(n,Re,t)}function fg(t,n,s){if(n=ff(t,n,og)[0],t=ao(On)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ra(n)}catch(g){throw g===Yr?Wl:g}else l=n;n=Ge();var c=n.queue,h=c.dispatch;return s!==n.memoizedState&&(se.flags|=2048,Wr(9,{destroy:void 0},TC.bind(null,c,s),null)),[l,h,t]}function TC(t,n){t.action=n}function hg(t){var n=Ge(),s=Re;if(s!==null)return fg(n,s,t);Ge(),n=n.memoizedState,s=Ge();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Wr(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=se.updateQueue,n===null&&(n=ro(),se.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function dg(){return Ge().memoizedState}function lo(t,n,s,l){var c=_t();se.flags|=t,c.memoizedState=Wr(1|n,{destroy:void 0},s,l===void 0?null:l)}function oo(t,n,s,l){var c=Ge();l=l===void 0?null:l;var h=c.memoizedState.inst;Re!==null&&l!==null&&sf(l,Re.memoizedState.deps)?c.memoizedState=Wr(n,h,s,l):(se.flags|=t,c.memoizedState=Wr(1|n,h,s,l))}function pg(t,n){lo(8390656,8,t,n)}function mf(t,n){oo(2048,8,t,n)}function wC(t){se.flags|=4;var n=se.updateQueue;if(n===null)n=ro(),se.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function mg(t){var n=Ge().memoizedState;return wC({ref:n,nextImpl:t}),function(){if((Se&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(t,n){return oo(4,2,t,n)}function _g(t,n){return oo(4,4,t,n)}function yg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function vg(t,n,s){s=s!=null?s.concat([t]):null,oo(4,4,yg.bind(null,n,t),s)}function gf(){}function Eg(t,n){var s=Ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&sf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Sg(t,n){var s=Ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&sf(n,l[1]))return l[0];if(l=t(),rr){Jn(!0);try{t()}finally{Jn(!1)}}return s.memoizedState=[l,n],l}function _f(t,n,s){return s===void 0||(Nn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=b_(),se.lanes|=t,di|=t,s)}function bg(t,n,s,l){return xt(s,n)?s:Kr.current!==null?(t=_f(t,s,l),xt(t,n)||(Qe=!0),t):(Nn&42)===0||(Nn&1073741824)!==0&&(pe&261930)===0?(Qe=!0,t.memoizedState=s):(t=b_(),se.lanes|=t,di|=t,n)}function Cg(t,n,s,l,c){var h=V.p;V.p=h!==0&&8>h?h:8;var g=x.T,v={};x.T=v,Ef(t,!1,n,s);try{var S=c(),N=x.S;if(N!==null&&N(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=EC(S,l);sa(t,n,M,Ht(t))}else sa(t,n,l,Ht(t))}catch(k){sa(t,n,{then:function(){},status:"rejected",reason:k},Ht())}finally{V.p=h,g!==null&&v.types!==null&&(g.types=v.types),x.T=g}}function RC(){}function yf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Tg(t).queue;Cg(t,c,n,ne,s===null?RC:function(){return wg(t),s(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ne},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wg(t){var n=Tg(t);n.next===null&&(n=t.alternate.memoizedState),sa(t,n.next.queue,{},Ht())}function vf(){return ut(ba)}function Rg(){return Ge().memoizedState}function Ag(){return Ge().memoizedState}function AC(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ht();t=li(s);var l=oi(n,t,s);l!==null&&(Rt(l,n,s),ea(l,n,s)),n={cache:Kc()},t.payload=n;return}n=n.return}}function NC(t,n,s){var l=Ht();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},uo(t)?Og(n,s):(s=Uc(t,n,s,l),s!==null&&(Rt(s,t,l),Dg(s,n,l)))}function Ng(t,n,s){var l=Ht();sa(t,n,s,l)}function sa(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(uo(t))Og(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,v=h(g,s);if(c.hasEagerState=!0,c.eagerState=v,xt(v,g))return Vl(t,n,c,0),Ie===null&&ql(),!1}catch{}finally{}if(s=Uc(t,n,c,l),s!==null)return Rt(s,t,l),Dg(s,n,l),!0}return!1}function Ef(t,n,s,l){if(l={lane:2,revertLane:$f(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},uo(t)){if(n)throw Error(a(479))}else n=Uc(t,s,l,2),n!==null&&Rt(n,t,2)}function uo(t){var n=t.alternate;return t===se||n!==null&&n===se}function Og(t,n){Qr=no=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Dg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,kp(t,s)}}var aa={readContext:ut,use:so,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};aa.useEffectEvent=He;var Ig={readContext:ut,use:so,useCallback:function(t,n){return _t().memoizedState=[t,n===void 0?null:n],t},useContext:ut,useEffect:pg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,lo(4194308,4,yg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return lo(4194308,4,t,n)},useInsertionEffect:function(t,n){lo(4,2,t,n)},useMemo:function(t,n){var s=_t();n=n===void 0?null:n;var l=t();if(rr){Jn(!0);try{t()}finally{Jn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=_t();if(s!==void 0){var c=s(n);if(rr){Jn(!0);try{s(n)}finally{Jn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=NC.bind(null,se,t),[l.memoizedState,t]},useRef:function(t){var n=_t();return t={current:t},n.memoizedState=t},useState:function(t){t=df(t);var n=t.queue,s=Ng.bind(null,se,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:gf,useDeferredValue:function(t,n){var s=_t();return _f(s,t,n)},useTransition:function(){var t=df(!1);return t=Cg.bind(null,se,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=se,c=_t();if(_e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Ie===null)throw Error(a(349));(pe&127)!==0||$m(l,n,s)}c.memoizedState=s;var h={value:s,getSnapshot:n};return c.queue=h,pg(eg.bind(null,l,h,t),[t]),l.flags|=2048,Wr(9,{destroy:void 0},Jm.bind(null,l,h,s,n),null),s},useId:function(){var t=_t(),n=Ie.identifierPrefix;if(_e){var s=dn,l=hn;s=(l&~(1<<32-Mt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=io++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=SC++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vf,useFormState:ug,useActionState:ug,useOptimistic:function(t){var n=_t();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,se,!0,s),s.dispatch=n,[t,n]},useMemoCache:cf,useCacheRefresh:function(){return _t().memoizedState=AC.bind(null,se)},useEffectEvent:function(t){var n=_t(),s={impl:t};return n.memoizedState=s,function(){if((Se&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Sf={readContext:ut,use:so,useCallback:Eg,useContext:ut,useEffect:mf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:_g,useMemo:Sg,useReducer:ao,useRef:dg,useState:function(){return ao(On)},useDebugValue:gf,useDeferredValue:function(t,n){var s=Ge();return bg(s,Re.memoizedState,t,n)},useTransition:function(){var t=ao(On)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:ra(t),n]},useSyncExternalStore:Zm,useId:Rg,useHostTransitionStatus:vf,useFormState:cg,useActionState:cg,useOptimistic:function(t,n){var s=Ge();return ig(s,Re,t,n)},useMemoCache:cf,useCacheRefresh:Ag};Sf.useEffectEvent=mg;var Mg={readContext:ut,use:so,useCallback:Eg,useContext:ut,useEffect:mf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:_g,useMemo:Sg,useReducer:hf,useRef:dg,useState:function(){return hf(On)},useDebugValue:gf,useDeferredValue:function(t,n){var s=Ge();return Re===null?_f(s,t,n):bg(s,Re.memoizedState,t,n)},useTransition:function(){var t=hf(On)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:ra(t),n]},useSyncExternalStore:Zm,useId:Rg,useHostTransitionStatus:vf,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var s=Ge();return Re!==null?ig(s,Re,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Ag};Mg.useEffectEvent=mg;function bf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:y({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Cf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Ht(),c=li(l);c.payload=n,s!=null&&(c.callback=s),n=oi(t,c,l),n!==null&&(Rt(n,t,l),ea(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Ht(),c=li(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=oi(t,c,l),n!==null&&(Rt(n,t,l),ea(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Ht(),l=li(s);l.tag=2,n!=null&&(l.callback=n),n=oi(t,l,s),n!==null&&(Rt(n,t,s),ea(n,t,s))}};function xg(t,n,s,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!Fs(s,l)||!Fs(c,h):!0}function Lg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Cf.enqueueReplaceState(n,n.state,null)}function sr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=y({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function kg(t){jl(t)}function Ug(t){console.error(t)}function zg(t){jl(t)}function co(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Tf(t,n,s){return s=li(s),s.tag=3,s.payload={element:null},s.callback=function(){co(t,n)},s}function Hg(t){return t=li(t),t.tag=3,t}function Bg(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Pg(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Pg(n,s,l),typeof c!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function OC(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&qr(n,s,c,!0),s=kt.current,s!==null){switch(s.tag){case 31:case 13:return Qt===null?Co():s.alternate===null&&Be===0&&(Be=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Zl?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Xf(t,l,c)),!1;case 22:return s.flags|=65536,l===Zl?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Xf(t,l,c)),!1}throw Error(a(435,s.tag))}return Xf(t,l,c),Co(),!1}if(_e)return n=kt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(a(422),{cause:l}),Xs(Gt(t,s)))):(l!==qc&&(n=Error(a(423),{cause:l}),Xs(Gt(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Gt(l,s),c=Tf(t.stateNode,l,c),Jc(t,c),Be!==4&&(Be=2)),!1;var h=Error(a(520),{cause:l});if(h=Gt(h,s),pa===null?pa=[h]:pa.push(h),Be!==4&&(Be=2),n===null)return!0;l=Gt(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Tf(s.stateNode,l,t),Jc(s,t),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(pi===null||!pi.has(h))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Hg(c),Bg(c,t,s,l),Jc(s,c),!1}s=s.return}while(s!==null);return!1}var wf=Error(a(461)),Qe=!1;function ct(t,n,s,l){n.child=t===null?Gm(n,null,s,l):ir(n,t.child,s,l)}function jg(t,n,s,l,c){s=s.render;var h=n.ref;if("ref"in l){var g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}else g=l;return Ji(n),l=af(t,n,s,g,h,c),v=lf(),t!==null&&!Qe?(of(t,n,c),Dn(t,n,c)):(_e&&v&&Bc(n),n.flags|=1,ct(t,n,l,c),n.child)}function qg(t,n,s,l,c){if(t===null){var h=s.type;return typeof h=="function"&&!zc(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,Vg(t,n,h,l,c)):(t=Yl(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!xf(t,c)){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:Fs,s(g,l)&&t.ref===n.ref)return Dn(t,n,c)}return n.flags|=1,t=Tn(h,l),t.ref=n.ref,t.return=n,n.child=t}function Vg(t,n,s,l,c){if(t!==null){var h=t.memoizedProps;if(Fs(h,l)&&t.ref===n.ref)if(Qe=!1,n.pendingProps=l=h,xf(t,c))(t.flags&131072)!==0&&(Qe=!0);else return n.lanes=t.lanes,Dn(t,n,c)}return Rf(t,n,s,l,c)}function Gg(t,n,s,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Yg(t,n,h,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xl(n,h!==null?h.cachePool:null),h!==null?Km(n,h):tf(),Qm(n);else return l=n.lanes=536870912,Yg(t,n,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(Xl(n,h.cachePool),Km(n,h),ci(),n.memoizedState=null):(t!==null&&Xl(n,null),tf(),ci());return ct(t,n,c,s),n.child}function la(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yg(t,n,s,l,c){var h=Xc();return h=h===null?null:{parent:Fe._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Xl(n,null),tf(),Qm(n),t!==null&&qr(t,n,l,!0),n.childLanes=c,null}function fo(t,n){return n=po({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fg(t,n,s){return ir(n,t.child,null,s),t=fo(n,n.pendingProps),t.flags|=2,Ut(n),n.memoizedState=null,t}function DC(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(_e){if(l.mode==="hidden")return t=fo(n,l),n.lanes=536870912,la(null,t);if(rf(n),(t=Le)?(t=ry(t,Kt),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ni!==null?{id:hn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},s=Om(t),s.return=n,n.child=s,ot=n,Le=null)):t=null,t===null)throw ri(n);return n.lanes=536870912,null}return fo(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(rf(n),c)if(n.flags&256)n.flags&=-257,n=Fg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||qr(t,n,s,!1),c=(s&t.childLanes)!==0,Qe||c){if(l=Ie,l!==null&&(g=Up(l,s),g!==0&&g!==h.retryLane))throw h.retryLane=g,Xi(t,g),Rt(l,t,g),wf;Co(),n=Fg(t,n,s)}else t=h.treeContext,Le=Xt(g.nextSibling),ot=n,_e=!0,ii=null,Kt=!1,t!==null&&Mm(n,t),n=fo(n,l),n.flags|=4096;return n}return t=Tn(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ho(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Rf(t,n,s,l,c){return Ji(n),s=af(t,n,s,l,void 0,c),l=lf(),t!==null&&!Qe?(of(t,n,c),Dn(t,n,c)):(_e&&l&&Bc(n),n.flags|=1,ct(t,n,s,c),n.child)}function Kg(t,n,s,l,c,h){return Ji(n),n.updateQueue=null,s=Wm(n,l,s,c),Xm(t),l=lf(),t!==null&&!Qe?(of(t,n,h),Dn(t,n,h)):(_e&&l&&Bc(n),n.flags|=1,ct(t,n,s,h),n.child)}function Qg(t,n,s,l,c){if(Ji(n),n.stateNode===null){var h=Pr,g=s.contextType;typeof g=="object"&&g!==null&&(h=ut(g)),h=new s(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Cf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Zc(n),g=s.contextType,h.context=typeof g=="object"&&g!==null?ut(g):Pr,h.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(bf(n,s,g,l),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Cf.enqueueReplaceState(h,h.state,null),na(n,l,h,c),ta(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var v=n.memoizedProps,S=sr(s,v);h.props=S;var N=h.context,M=s.contextType;g=Pr,typeof M=="object"&&M!==null&&(g=ut(M));var k=s.getDerivedStateFromProps;M=typeof k=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,M||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||N!==g)&&Lg(n,h,l,g),ai=!1;var O=n.memoizedState;h.state=O,na(n,l,h,c),ta(),N=n.memoizedState,v||O!==N||ai?(typeof k=="function"&&(bf(n,s,k,l),N=n.memoizedState),(S=ai||xg(n,s,S,l,O,N,g))?(M||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),h.props=l,h.state=N,h.context=g,l=S):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,$c(t,n),g=n.memoizedProps,M=sr(s,g),h.props=M,k=n.pendingProps,O=h.context,N=s.contextType,S=Pr,typeof N=="object"&&N!==null&&(S=ut(N)),v=s.getDerivedStateFromProps,(N=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==k||O!==S)&&Lg(n,h,l,S),ai=!1,O=n.memoizedState,h.state=O,na(n,l,h,c),ta();var I=n.memoizedState;g!==k||O!==I||ai||t!==null&&t.dependencies!==null&&Kl(t.dependencies)?(typeof v=="function"&&(bf(n,s,v,l),I=n.memoizedState),(M=ai||xg(n,s,M,l,O,I,S)||t!==null&&t.dependencies!==null&&Kl(t.dependencies))?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,I,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,I,S)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=S,l=M):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,ho(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ir(n,t.child,null,c),n.child=ir(n,null,s,c)):ct(t,n,s,c),n.memoizedState=h.state,t=n.child):t=Dn(t,n,c),t}function Xg(t,n,s,l){return Zi(),n.flags|=256,ct(t,n,s,l),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:Pm()}}function Of(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Pt),t}function Wg(t,n,s){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(_e){if(c?ui(n):ci(),(t=Le)?(t=ry(t,Kt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ni!==null?{id:hn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},s=Om(t),s.return=n,n.child=s,ot=n,Le=null)):t=null,t===null)throw ri(n);return fh(t)?n.lanes=32:n.lanes=536870912,null}var v=l.children;return l=l.fallback,c?(ci(),c=n.mode,v=po({mode:"hidden",children:v},c),l=Wi(l,c,s,null),v.return=n,l.return=n,v.sibling=l,n.child=v,l=n.child,l.memoizedState=Nf(s),l.childLanes=Of(t,g,s),n.memoizedState=Af,la(null,l)):(ui(n),Df(n,v))}var S=t.memoizedState;if(S!==null&&(v=S.dehydrated,v!==null)){if(h)n.flags&256?(ui(n),n.flags&=-257,n=If(t,n,s)):n.memoizedState!==null?(ci(),n.child=t.child,n.flags|=128,n=null):(ci(),v=l.fallback,c=n.mode,l=po({mode:"visible",children:l.children},c),v=Wi(v,c,s,null),v.flags|=2,l.return=n,v.return=n,l.sibling=v,n.child=l,ir(n,t.child,null,s),l=n.child,l.memoizedState=Nf(s),l.childLanes=Of(t,g,s),n.memoizedState=Af,n=la(null,l));else if(ui(n),fh(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var N=g.dgst;g=N,l=Error(a(419)),l.stack="",l.digest=g,Xs({value:l,source:null,stack:null}),n=If(t,n,s)}else if(Qe||qr(t,n,s,!1),g=(s&t.childLanes)!==0,Qe||g){if(g=Ie,g!==null&&(l=Up(g,s),l!==0&&l!==S.retryLane))throw S.retryLane=l,Xi(t,l),Rt(g,t,l),wf;ch(v)||Co(),n=If(t,n,s)}else ch(v)?(n.flags|=192,n.child=t.child,n=null):(t=S.treeContext,Le=Xt(v.nextSibling),ot=n,_e=!0,ii=null,Kt=!1,t!==null&&Mm(n,t),n=Df(n,l.children),n.flags|=4096);return n}return c?(ci(),v=l.fallback,c=n.mode,S=t.child,N=S.sibling,l=Tn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,N!==null?v=Tn(N,v):(v=Wi(v,c,s,null),v.flags|=2),v.return=n,l.return=n,l.sibling=v,n.child=l,la(null,l),l=n.child,v=t.child.memoizedState,v===null?v=Nf(s):(c=v.cachePool,c!==null?(S=Fe._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=Pm(),v={baseLanes:v.baseLanes|s,cachePool:c}),l.memoizedState=v,l.childLanes=Of(t,g,s),n.memoizedState=Af,la(t.child,l)):(ui(n),s=t.child,t=s.sibling,s=Tn(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Df(t,n){return n=po({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function po(t,n){return t=Lt(22,t,null,n),t.lanes=0,t}function If(t,n,s){return ir(n,t.child,null,s),t=Df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yc(t.return,n,s)}function Mf(t,n,s,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=h)}function $g(t,n,s){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=Ve.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,G(Ve,g),ct(t,n,l,s),l=_e?Qs:0,!v&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zg(t,s,n);else if(t.tag===19)Zg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&to(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Mf(n,!1,c,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&to(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Mf(n,!0,s,null,h,l);break;case"together":Mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Dn(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),di|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(qr(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Tn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Tn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Kl(t)))}function IC(t,n,s){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),si(n,Fe,t.memoizedState.cache),Zi();break;case 27:case 5:xs(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:si(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ui(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wg(t,n,s):(ui(n),t=Dn(t,n,s),t!==null?t.sibling:null);ui(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(qr(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return $g(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Ve,Ve.current),l)break;return null;case 22:return n.lanes=0,Gg(t,n,s,n.pendingProps);case 24:si(n,Fe,t.memoizedState.cache)}return Dn(t,n,s)}function Jg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Qe=!0;else{if(!xf(t,s)&&(n.flags&128)===0)return Qe=!1,IC(t,n,s);Qe=(t.flags&131072)!==0}else Qe=!1,_e&&(n.flags&1048576)!==0&&Im(n,Qs,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=tr(n.elementType),n.type=t,typeof t=="function")zc(t)?(l=sr(t,l),n.tag=1,n=Qg(null,n,t,l,s)):(n.tag=0,n=Rf(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===X){n.tag=11,n=jg(null,n,t,l,s);break e}else if(c===Y){n.tag=14,n=qg(null,n,t,l,s);break e}}throw n=En(t)||t,Error(a(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=sr(l,n.pendingProps),Qg(t,n,l,c,s);case 3:e:{if(gt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,$c(t,n),na(n,l,null,s);var g=n.memoizedState;if(l=g.cache,si(n,Fe,l),l!==h.cache&&Fc(n,[Fe],s,!0),ta(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Xg(t,n,l,s);break e}else if(l!==c){c=Gt(Error(a(424)),n),Xs(c),n=Xg(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=Xt(t.firstChild),ot=n,_e=!0,ii=null,Kt=!0,s=Gm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Zi(),l===c){n=Dn(t,n,s);break e}ct(t,n,l,s)}n=n.child}return n;case 26:return ho(t,n),t===null?(s=cy(n.type,null,n.pendingProps,null))?n.memoizedState=s:_e||(s=n.type,t=n.pendingProps,l=Do(ce.current).createElement(s),l[lt]=n,l[Et]=t,ft(l,s,t),et(l),n.stateNode=l):n.memoizedState=cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xs(n),t===null&&_e&&(l=n.stateNode=ly(n.type,n.pendingProps,ce.current),ot=n,Kt=!0,c=Le,yi(n.type)?(hh=c,Le=Xt(l.firstChild)):Le=c),ct(t,n,n.pendingProps.children,s),ho(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&_e&&((c=l=Le)&&(l=lT(l,n.type,n.pendingProps,Kt),l!==null?(n.stateNode=l,ot=n,Le=Xt(l.firstChild),Kt=!1,c=!0):c=!1),c||ri(n)),xs(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,lh(c,h)?l=null:g!==null&&lh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=af(t,n,bC,null,null,s),ba._currentValue=c),ho(t,n),ct(t,n,l,s),n.child;case 6:return t===null&&_e&&((t=s=Le)&&(s=oT(s,n.pendingProps,Kt),s!==null?(n.stateNode=s,ot=n,Le=null,t=!0):t=!1),t||ri(n)),null;case 13:return Wg(t,n,s);case 4:return gt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ir(n,null,l,s):ct(t,n,l,s),n.child;case 11:return jg(t,n,n.type,n.pendingProps,s);case 7:return ct(t,n,n.pendingProps,s),n.child;case 8:return ct(t,n,n.pendingProps.children,s),n.child;case 12:return ct(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,si(n,n.type,l.value),ct(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ji(n),c=ut(c),l=l(c),n.flags|=1,ct(t,n,l,s),n.child;case 14:return qg(t,n,n.type,n.pendingProps,s);case 15:return Vg(t,n,n.type,n.pendingProps,s);case 19:return $g(t,n,s);case 31:return DC(t,n,s);case 22:return Gg(t,n,s,n.pendingProps);case 24:return Ji(n),l=ut(Fe),t===null?(c=Xc(),c===null&&(c=Ie,h=Kc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=s),c=h),n.memoizedState={parent:l,cache:c},Zc(n),si(n,Fe,c)):((t.lanes&s)!==0&&($c(t,n),na(n,null,null,s),ta()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),si(n,Fe,l)):(l=h.cache,si(n,Fe,l),l!==c.cache&&Fc(n,[Fe],s,!0))),ct(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function In(t){t.flags|=4}function Lf(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(R_())t.flags|=8192;else throw nr=Zl,Wc}else t.flags&=-16777217}function e_(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!my(n))if(R_())t.flags|=8192;else throw nr=Zl,Wc}function mo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xp():536870912,t.lanes|=n,es|=n)}function oa(t,n){if(!_e)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ke(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function MC(t,n,s){var l=n.pendingProps;switch(jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(n),null;case 1:return ke(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),An(Fe),qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(jr(n)?In(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vc())),ke(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(In(n),h!==null?(ke(n),e_(n,h)):(ke(n),Lf(n,c,null,l,s))):h?h!==t.memoizedState?(In(n),ke(n),e_(n,h)):(ke(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&In(n),ke(n),Lf(n,c,t,l,s)),null;case 27:if(wl(n),s=ce.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&In(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ke(n),null}t=K.current,jr(n)?xm(n):(t=ly(c,l,s),n.stateNode=t,In(n))}return ke(n),null;case 5:if(wl(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&In(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ke(n),null}if(h=K.current,jr(n))xm(n);else{var g=Do(ce.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[lt]=n,h[Et]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;e:switch(ft(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&In(n)}}return ke(n),Lf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&In(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ce.current,jr(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=ot,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[lt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||W_(t.nodeValue,s)),t||ri(n,!0)}else t=Do(t).createTextNode(l),t[lt]=n,n.stateNode=t}return ke(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=jr(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[lt]=n}else Zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),t=!1}else s=Vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Ut(n),n):(Ut(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ke(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=jr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[lt]=n}else Zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),c=!1}else c=Vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ut(n),n):(Ut(n),null)}return Ut(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),mo(n,n.updateQueue),ke(n),null);case 4:return qe(),t===null&&nh(n.stateNode.containerInfo),ke(n),null;case 10:return An(n.type),ke(n),null;case 19:if(U(Ve),l=n.memoizedState,l===null)return ke(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)oa(l,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=to(t),h!==null){for(n.flags|=128,oa(l,!1),t=h.updateQueue,n.updateQueue=t,mo(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Nm(s,t),s=s.sibling;return G(Ve,Ve.current&1|2),_e&&wn(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Dt()>Eo&&(n.flags|=128,c=!0,oa(l,!1),n.lanes=4194304)}else{if(!c)if(t=to(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,mo(n,t),oa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!_e)return ke(n),null}else 2*Dt()-l.renderingStartTime>Eo&&s!==536870912&&(n.flags|=128,c=!0,oa(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Dt(),t.sibling=null,s=Ve.current,G(Ve,c?s&1|2:s&1),_e&&wn(n,l.treeForkCount),t):(ke(n),null);case 22:case 23:return Ut(n),nf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ke(n),n.subtreeFlags&6&&(n.flags|=8192)):ke(n),s=n.updateQueue,s!==null&&mo(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&U(er),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),An(Fe),ke(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function xC(t,n){switch(jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return An(Fe),qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wl(n),null;case 31:if(n.memoizedState!==null){if(Ut(n),n.alternate===null)throw Error(a(340));Zi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ut(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return U(Ve),null;case 4:return qe(),null;case 10:return An(n.type),null;case 22:case 23:return Ut(n),nf(),t!==null&&U(er),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return An(Fe),null;case 25:return null;default:return null}}function t_(t,n){switch(jc(n),n.tag){case 3:An(Fe),qe();break;case 26:case 27:case 5:wl(n);break;case 4:qe();break;case 31:n.memoizedState!==null&&Ut(n);break;case 13:Ut(n);break;case 19:U(Ve);break;case 10:An(n.type);break;case 22:case 23:Ut(n),nf(),t!==null&&U(er);break;case 24:An(Fe)}}function ua(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var h=s.create,g=s.inst;l=h(),g.destroy=l}s=s.next}while(s!==c)}}catch(v){Te(n,n.return,v)}}function fi(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=n;var S=s,N=v;try{N()}catch(M){Te(c,S,M)}}}l=l.next}while(l!==h)}}catch(M){Te(n,n.return,M)}}function n_(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Fm(n,s)}catch(l){Te(t,t.return,l)}}}function i_(t,n,s){s.props=sr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Te(t,n,l)}}function ca(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Te(t,n,c)}}function pn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Te(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Te(t,n,c)}else s.current=null}function r_(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Te(t,t.return,c)}}function kf(t,n,s){try{var l=t.stateNode;tT(l,t.type,s,n),l[Et]=n}catch(c){Te(t,t.return,c)}}function s_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&yi(t.type)||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=bn));else if(l!==4&&(l===27&&yi(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(zf(t,n,s),t=t.sibling;t!==null;)zf(t,n,s),t=t.sibling}function go(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&yi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(go(t,n,s),t=t.sibling;t!==null;)go(t,n,s),t=t.sibling}function a_(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ft(n,l,s),n[lt]=t,n[Et]=s}catch(h){Te(t,t.return,h)}}var Mn=!1,Xe=!1,Pf=!1,l_=typeof WeakSet=="function"?WeakSet:Set,tt=null;function LC(t,n){if(t=t.containerInfo,sh=zo,t=vm(t),Dc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var g=0,v=-1,S=-1,N=0,M=0,k=t,O=null;t:for(;;){for(var I;k!==s||c!==0&&k.nodeType!==3||(v=g+c),k!==h||l!==0&&k.nodeType!==3||(S=g+l),k.nodeType===3&&(g+=k.nodeValue.length),(I=k.firstChild)!==null;)O=k,k=I;for(;;){if(k===t)break t;if(O===s&&++N===c&&(v=g),O===h&&++M===l&&(S=g),(I=k.nextSibling)!==null)break;k=O,O=k.parentNode}k=I}s=v===-1||S===-1?null:{start:v,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(ah={focusedElem:t,selectionRange:s},zo=!1,tt=n;tt!==null;)if(n=tt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tt=t;else for(;tt!==null;){switch(n=tt,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=n,c=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var F=sr(s.type,c);t=l.getSnapshotBeforeUpdate(F,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(J){Te(s,s.return,J)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)uh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,tt=t;break}tt=n.return}}function o_(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(t,s),l&4&&ua(5,s);break;case 1:if(Ln(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Te(s,s.return,g)}else{var c=sr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Te(s,s.return,g)}}l&64&&n_(s),l&512&&ca(s,s.return);break;case 3:if(Ln(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fm(t,n)}catch(g){Te(s,s.return,g)}}break;case 27:n===null&&l&4&&a_(s);case 26:case 5:Ln(t,s),n===null&&l&4&&r_(s),l&512&&ca(s,s.return);break;case 12:Ln(t,s);break;case 31:Ln(t,s),l&4&&f_(t,s);break;case 13:Ln(t,s),l&4&&h_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=VC.bind(null,s),uT(t,s))));break;case 22:if(l=s.memoizedState!==null||Mn,!l){n=n!==null&&n.memoizedState!==null||Xe,c=Mn;var h=Xe;Mn=l,(Xe=n)&&!h?kn(t,s,(s.subtreeFlags&8772)!==0):Ln(t,s),Mn=c,Xe=h}break;case 30:break;default:Ln(t,s)}}function u_(t){var n=t.alternate;n!==null&&(t.alternate=null,u_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&dc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,bt=!1;function xn(t,n,s){for(s=s.child;s!==null;)c_(t,n,s),s=s.sibling}function c_(t,n,s){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ls,s)}catch{}switch(s.tag){case 26:Xe||pn(s,n),xn(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xe||pn(s,n);var l=ze,c=bt;yi(s.type)&&(ze=s.stateNode,bt=!1),xn(t,n,s),va(s.stateNode),ze=l,bt=c;break;case 5:Xe||pn(s,n);case 6:if(l=ze,c=bt,ze=null,xn(t,n,s),ze=l,bt=c,ze!==null)if(bt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(s.stateNode)}catch(h){Te(s,n,h)}else try{ze.removeChild(s.stateNode)}catch(h){Te(s,n,h)}break;case 18:ze!==null&&(bt?(t=ze,ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),os(t)):ny(ze,s.stateNode));break;case 4:l=ze,c=bt,ze=s.stateNode.containerInfo,bt=!0,xn(t,n,s),ze=l,bt=c;break;case 0:case 11:case 14:case 15:fi(2,s,n),Xe||fi(4,s,n),xn(t,n,s);break;case 1:Xe||(pn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&i_(s,n,l)),xn(t,n,s);break;case 21:xn(t,n,s);break;case 22:Xe=(l=Xe)||s.memoizedState!==null,xn(t,n,s),Xe=l;break;default:xn(t,n,s)}}function f_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{os(t)}catch(s){Te(n,n.return,s)}}}function h_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{os(t)}catch(s){Te(n,n.return,s)}}function kC(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new l_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new l_),n;default:throw Error(a(435,t.tag))}}function _o(t,n){var s=kC(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=GC.bind(null,t,l);l.then(c,c)}})}function Ct(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],h=t,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(yi(v.type)){ze=v.stateNode,bt=!1;break e}break;case 5:ze=v.stateNode,bt=!1;break e;case 3:case 4:ze=v.stateNode.containerInfo,bt=!0;break e}v=v.return}if(ze===null)throw Error(a(160));c_(h,g,c),ze=null,bt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)d_(n,t),n=n.sibling}var nn=null;function d_(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ct(n,t),Tt(t),l&4&&(fi(3,t,t.return),ua(3,t),fi(5,t,t.return));break;case 1:Ct(n,t),Tt(t),l&512&&(Xe||s===null||pn(s,s.return)),l&64&&Mn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=nn;if(Ct(n,t),Tt(t),l&512&&(Xe||s===null||pn(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[zs]||h[lt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),ft(h,l,s),h[lt]=t,et(h),l=h;break e;case"link":var g=dy("link","href",c).get(l+(s.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(v,1);break t}}h=c.createElement(l),ft(h,l,s),c.head.appendChild(h);break;case"meta":if(g=dy("meta","content",c).get(l+(s.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(v,1);break t}}h=c.createElement(l),ft(h,l,s),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[lt]=t,et(h),l=h}t.stateNode=l}else py(c,t.type,t.stateNode);else t.stateNode=hy(c,l,t.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?py(c,t.type,t.stateNode):hy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ct(n,t),Tt(t),l&512&&(Xe||s===null||pn(s,s.return)),s!==null&&l&4&&kf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ct(n,t),Tt(t),l&512&&(Xe||s===null||pn(s,s.return)),t.flags&32){c=t.stateNode;try{Ir(c,"")}catch(F){Te(t,t.return,F)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,kf(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Pf=!0);break;case 6:if(Ct(n,t),Tt(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(F){Te(t,t.return,F)}}break;case 3:if(xo=null,c=nn,nn=Io(n.containerInfo),Ct(n,t),nn=c,Tt(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{os(n.containerInfo)}catch(F){Te(t,t.return,F)}Pf&&(Pf=!1,p_(t));break;case 4:l=nn,nn=Io(t.stateNode.containerInfo),Ct(n,t),Tt(t),nn=l;break;case 12:Ct(n,t),Tt(t);break;case 31:Ct(n,t),Tt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_o(t,l)));break;case 13:Ct(n,t),Tt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vo=Dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_o(t,l)));break;case 22:c=t.memoizedState!==null;var S=s!==null&&s.memoizedState!==null,N=Mn,M=Xe;if(Mn=N||c,Xe=M||S,Ct(n,t),Xe=M,Mn=N,Tt(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||S||Mn||Xe||ar(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){S=s=n;try{if(h=S.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=S.stateNode;var k=S.memoizedProps.style,O=k!=null&&k.hasOwnProperty("display")?k.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(F){Te(S,S.return,F)}}}else if(n.tag===6){if(s===null){S=n;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(F){Te(S,S.return,F)}}}else if(n.tag===18){if(s===null){S=n;try{var I=S.stateNode;c?iy(I,!0):iy(S.stateNode,!1)}catch(F){Te(S,S.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,_o(t,s))));break;case 19:Ct(n,t),Tt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_o(t,l)));break;case 30:break;case 21:break;default:Ct(n,t),Tt(t)}}function Tt(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(s_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,h=Uf(t);go(t,h,c);break;case 5:var g=s.stateNode;s.flags&32&&(Ir(g,""),s.flags&=-33);var v=Uf(t);go(t,v,g);break;case 3:case 4:var S=s.stateNode.containerInfo,N=Uf(t);zf(t,N,S);break;default:throw Error(a(161))}}catch(M){Te(t,t.return,M)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function p_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;p_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ln(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)o_(t,n.alternate,n),n=n.sibling}function ar(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fi(4,n,n.return),ar(n);break;case 1:pn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&i_(n,n.return,s),ar(n);break;case 27:va(n.stateNode);case 26:case 5:pn(n,n.return),ar(n);break;case 22:n.memoizedState===null&&ar(n);break;case 30:ar(n);break;default:ar(n)}t=t.sibling}}function kn(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:kn(c,h,s),ua(4,h);break;case 1:if(kn(c,h,s),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Te(l,l.return,N)}if(l=h,c=l.updateQueue,c!==null){var v=l.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)Ym(S[c],v)}catch(N){Te(l,l.return,N)}}s&&g&64&&n_(h),ca(h,h.return);break;case 27:a_(h);case 26:case 5:kn(c,h,s),s&&l===null&&g&4&&r_(h),ca(h,h.return);break;case 12:kn(c,h,s);break;case 31:kn(c,h,s),s&&g&4&&f_(c,h);break;case 13:kn(c,h,s),s&&g&4&&h_(c,h);break;case 22:h.memoizedState===null&&kn(c,h,s),ca(h,h.return);break;case 30:break;default:kn(c,h,s)}n=n.sibling}}function Hf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ws(s))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t))}function rn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)m_(t,n,s,l),n=n.sibling}function m_(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:rn(t,n,s,l),c&2048&&ua(9,n);break;case 1:rn(t,n,s,l);break;case 3:rn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ws(t)));break;case 12:if(c&2048){rn(t,n,s,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Te(n,n.return,S)}}else rn(t,n,s,l);break;case 31:rn(t,n,s,l);break;case 13:rn(t,n,s,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?rn(t,n,s,l):fa(t,n):h._visibility&2?rn(t,n,s,l):(h._visibility|=2,Zr(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Hf(g,n);break;case 24:rn(t,n,s,l),c&2048&&Bf(n.alternate,n);break;default:rn(t,n,s,l)}}function Zr(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,v=s,S=l,N=g.flags;switch(g.tag){case 0:case 11:case 15:Zr(h,g,v,S,c),ua(8,g);break;case 23:break;case 22:var M=g.stateNode;g.memoizedState!==null?M._visibility&2?Zr(h,g,v,S,c):fa(h,g):(M._visibility|=2,Zr(h,g,v,S,c)),c&&N&2048&&Hf(g.alternate,g);break;case 24:Zr(h,g,v,S,c),c&&N&2048&&Bf(g.alternate,g);break;default:Zr(h,g,v,S,c)}n=n.sibling}}function fa(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:fa(s,l),c&2048&&Hf(l.alternate,l);break;case 24:fa(s,l),c&2048&&Bf(l.alternate,l);break;default:fa(s,l)}n=n.sibling}}var ha=8192;function $r(t,n,s){if(t.subtreeFlags&ha)for(t=t.child;t!==null;)g_(t,n,s),t=t.sibling}function g_(t,n,s){switch(t.tag){case 26:$r(t,n,s),t.flags&ha&&t.memoizedState!==null&&ST(s,nn,t.memoizedState,t.memoizedProps);break;case 5:$r(t,n,s);break;case 3:case 4:var l=nn;nn=Io(t.stateNode.containerInfo),$r(t,n,s),nn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ha,ha=16777216,$r(t,n,s),ha=l):$r(t,n,s));break;default:$r(t,n,s)}}function __(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function da(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];tt=l,v_(l,t)}__(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 0:case 11:case 15:da(t),t.flags&2048&&fi(9,t,t.return);break;case 3:da(t);break;case 12:da(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,yo(t)):da(t);break;default:da(t)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];tt=l,v_(l,t)}__(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fi(8,n,n.return),yo(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,yo(n));break;default:yo(n)}t=t.sibling}}function v_(t,n){for(;tt!==null;){var s=tt;switch(s.tag){case 0:case 11:case 15:fi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ws(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tt=l;else e:for(s=t;tt!==null;){l=tt;var c=l.sibling,h=l.return;if(u_(l),l===s){tt=null;break e}if(c!==null){c.return=h,tt=c;break e}tt=h}}}var UC={getCacheForType:function(t){var n=ut(Fe),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return ut(Fe).controller.signal}},zC=typeof WeakMap=="function"?WeakMap:Map,Se=0,Ie=null,fe=null,pe=0,Ce=0,zt=null,hi=!1,Jr=!1,jf=!1,Un=0,Be=0,di=0,lr=0,qf=0,Pt=0,es=0,pa=null,wt=null,Vf=!1,vo=0,E_=0,Eo=1/0,So=null,pi=null,We=0,mi=null,ts=null,zn=0,Gf=0,Yf=null,S_=null,ma=0,Ff=null;function Ht(){return(Se&2)!==0&&pe!==0?pe&-pe:x.T!==null?$f():zp()}function b_(){if(Pt===0)if((pe&536870912)===0||_e){var t=Nl;Nl<<=1,(Nl&3932160)===0&&(Nl=262144),Pt=t}else Pt=536870912;return t=kt.current,t!==null&&(t.flags|=32),Pt}function Rt(t,n,s){(t===Ie&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(ns(t,0),gi(t,pe,Pt,!1)),Us(t,s),((Se&2)===0||t!==Ie)&&(t===Ie&&((Se&2)===0&&(lr|=s),Be===4&&gi(t,pe,Pt,!1)),mn(t))}function C_(t,n,s){if((Se&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ks(t,n),c=l?BC(t,n):Qf(t,n,!0),h=l;do{if(c===0){Jr&&!l&&gi(t,n,0,!1);break}else{if(s=t.current.alternate,h&&!PC(s)){c=Qf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var v=t;c=pa;var S=v.current.memoizedState.isDehydrated;if(S&&(ns(v,g).flags|=256),g=Qf(v,g,!1),g!==2){if(jf&&!S){v.errorRecoveryDisabledLanes|=h,lr|=h,c=4;break e}h=wt,wt=c,h!==null&&(wt===null?wt=h:wt.push.apply(wt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){ns(t,0),gi(t,n,0,!0);break}e:{switch(l=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:gi(l,n,Pt,!hi);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=vo+300-Dt(),10<c)){if(gi(l,n,Pt,!hi),Dl(l,0,!0)!==0)break e;zn=n,l.timeoutHandle=ey(T_.bind(null,l,s,wt,So,Vf,n,Pt,lr,es,hi,h,"Throttled",-0,0),c);break e}T_(l,s,wt,So,Vf,n,Pt,lr,es,hi,h,null,-0,0)}}break}while(!0);mn(t)}function T_(t,n,s,l,c,h,g,v,S,N,M,k,O,I){if(t.timeoutHandle=-1,k=n.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},g_(n,h,k);var F=(h&62914560)===h?vo-Dt():(h&4194048)===h?E_-Dt():0;if(F=bT(k,F),F!==null){zn=h,t.cancelPendingCommit=F(M_.bind(null,t,n,h,s,l,c,g,v,S,M,k,null,O,I)),gi(t,h,g,!N);return}}M_(t,n,h,s,l,c,g,v,S)}function PC(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],h=c.getSnapshot;c=c.value;try{if(!xt(h(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gi(t,n,s,l){n&=~qf,n&=~lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Mt(c),g=1<<h;l[h]=-1,c&=~g}s!==0&&Lp(t,s,n)}function bo(){return(Se&6)===0?(ga(0),!1):!0}function Kf(){if(fe!==null){if(Ce===0)var t=fe.return;else t=fe,Rn=$i=null,uf(t),Fr=null,$s=0,t=fe;for(;t!==null;)t_(t.alternate,t),t=t.return;fe=null}}function ns(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,rT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),zn=0,Kf(),Ie=t,fe=s=Tn(t.current,null),pe=n,Ce=0,zt=null,hi=!1,Jr=ks(t,n),jf=!1,es=Pt=qf=lr=di=Be=0,wt=pa=null,Vf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Mt(l),h=1<<c;n|=t[c],l&=~h}return Un=n,ql(),s}function w_(t,n){se=null,x.H=aa,n===Yr||n===Wl?(n=jm(),Ce=3):n===Wc?(n=jm(),Ce=4):Ce=n===wf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zt=n,fe===null&&(Be=1,co(t,Gt(n,t.current)))}function R_(){var t=kt.current;return t===null?!0:(pe&4194048)===pe?Qt===null:(pe&62914560)===pe||(pe&536870912)!==0?t===Qt:!1}function A_(){var t=x.H;return x.H=aa,t===null?aa:t}function N_(){var t=x.A;return x.A=UC,t}function Co(){Be=4,hi||(pe&4194048)!==pe&&kt.current!==null||(Jr=!0),(di&134217727)===0&&(lr&134217727)===0||Ie===null||gi(Ie,pe,Pt,!1)}function Qf(t,n,s){var l=Se;Se|=2;var c=A_(),h=N_();(Ie!==t||pe!==n)&&(So=null,ns(t,n)),n=!1;var g=Be;e:do try{if(Ce!==0&&fe!==null){var v=fe,S=zt;switch(Ce){case 8:Kf(),g=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(n=!0);var N=Ce;if(Ce=0,zt=null,is(t,v,S,N),s&&Jr){g=0;break e}break;default:N=Ce,Ce=0,zt=null,is(t,v,S,N)}}HC(),g=Be;break}catch(M){w_(t,M)}while(!0);return n&&t.shellSuspendCounter++,Rn=$i=null,Se=l,x.H=c,x.A=h,fe===null&&(Ie=null,pe=0,ql()),g}function HC(){for(;fe!==null;)O_(fe)}function BC(t,n){var s=Se;Se|=2;var l=A_(),c=N_();Ie!==t||pe!==n?(So=null,Eo=Dt()+500,ns(t,n)):Jr=ks(t,n);e:do try{if(Ce!==0&&fe!==null){n=fe;var h=zt;t:switch(Ce){case 1:Ce=0,zt=null,is(t,n,h,1);break;case 2:case 9:if(Hm(h)){Ce=0,zt=null,D_(n);break}n=function(){Ce!==2&&Ce!==9||Ie!==t||(Ce=7),mn(t)},h.then(n,n);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Hm(h)?(Ce=0,zt=null,D_(n)):(Ce=0,zt=null,is(t,n,h,7));break;case 5:var g=null;switch(fe.tag){case 26:g=fe.memoizedState;case 5:case 27:var v=fe;if(g?my(g):v.stateNode.complete){Ce=0,zt=null;var S=v.sibling;if(S!==null)fe=S;else{var N=v.return;N!==null?(fe=N,To(N)):fe=null}break t}}Ce=0,zt=null,is(t,n,h,5);break;case 6:Ce=0,zt=null,is(t,n,h,6);break;case 8:Kf(),Be=6;break e;default:throw Error(a(462))}}jC();break}catch(M){w_(t,M)}while(!0);return Rn=$i=null,x.H=l,x.A=c,Se=s,fe!==null?0:(Ie=null,pe=0,ql(),Be)}function jC(){for(;fe!==null&&!c0();)O_(fe)}function O_(t){var n=Jg(t.alternate,t,Un);t.memoizedProps=t.pendingProps,n===null?To(t):fe=n}function D_(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Kg(s,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=Kg(s,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:uf(n);default:t_(s,n),n=fe=Nm(n,Un),n=Jg(s,n,Un)}t.memoizedProps=t.pendingProps,n===null?To(t):fe=n}function is(t,n,s,l){Rn=$i=null,uf(n),Fr=null,$s=0;var c=n.return;try{if(OC(t,c,n,s,pe)){Be=1,co(t,Gt(s,t.current)),fe=null;return}}catch(h){if(c!==null)throw fe=c,h;Be=1,co(t,Gt(s,t.current)),fe=null;return}n.flags&32768?(_e||l===1?t=!0:Jr||(pe&536870912)!==0?t=!1:(hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(n,t)):To(n)}function To(t){var n=t;do{if((n.flags&32768)!==0){I_(n,hi);return}t=n.return;var s=MC(n.alternate,n,Un);if(s!==null){fe=s;return}if(n=n.sibling,n!==null){fe=n;return}fe=n=t}while(n!==null);Be===0&&(Be=5)}function I_(t,n){do{var s=xC(t.alternate,t);if(s!==null){s.flags&=32767,fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){fe=t;return}fe=t=s}while(t!==null);Be=6,fe=null}function M_(t,n,s,l,c,h,g,v,S){t.cancelPendingCommit=null;do wo();while(We!==0);if((Se&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=kc,E0(t,s,h,g,v,S),t===Ie&&(fe=Ie=null,pe=0),ts=n,mi=t,zn=s,Gf=h,Yf=c,S_=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YC(Rl,function(){return z_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=x.T,x.T=null,c=V.p,V.p=2,g=Se,Se|=4;try{LC(t,n,s)}finally{Se=g,V.p=c,x.T=l}}We=1,x_(),L_(),k_()}}function x_(){if(We===1){We=0;var t=mi,n=ts,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=x.T,x.T=null;var l=V.p;V.p=2;var c=Se;Se|=4;try{d_(n,t);var h=ah,g=vm(t.containerInfo),v=h.focusedElem,S=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&ym(v.ownerDocument.documentElement,v)){if(S!==null&&Dc(v)){var N=S.start,M=S.end;if(M===void 0&&(M=N),"selectionStart"in v)v.selectionStart=N,v.selectionEnd=Math.min(M,v.value.length);else{var k=v.ownerDocument||document,O=k&&k.defaultView||window;if(O.getSelection){var I=O.getSelection(),F=v.textContent.length,J=Math.min(S.start,F),Ne=S.end===void 0?J:Math.min(S.end,F);!I.extend&&J>Ne&&(g=Ne,Ne=J,J=g);var T=_m(v,J),b=_m(v,Ne);if(T&&b&&(I.rangeCount!==1||I.anchorNode!==T.node||I.anchorOffset!==T.offset||I.focusNode!==b.node||I.focusOffset!==b.offset)){var A=k.createRange();A.setStart(T.node,T.offset),I.removeAllRanges(),J>Ne?(I.addRange(A),I.extend(b.node,b.offset)):(A.setEnd(b.node,b.offset),I.addRange(A))}}}}for(k=[],I=v;I=I.parentNode;)I.nodeType===1&&k.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<k.length;v++){var L=k[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}zo=!!sh,ah=sh=null}finally{Se=c,V.p=l,x.T=s}}t.current=n,We=2}}function L_(){if(We===2){We=0;var t=mi,n=ts,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=x.T,x.T=null;var l=V.p;V.p=2;var c=Se;Se|=4;try{o_(t,n.alternate,n)}finally{Se=c,V.p=l,x.T=s}}We=3}}function k_(){if(We===4||We===3){We=0,f0();var t=mi,n=ts,s=zn,l=S_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,ts=mi=null,U_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(pi=null),fc(s),n=n.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ls,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=x.T,c=V.p,V.p=2,x.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var v=l[g];h(v.value,{componentStack:v.stack})}}finally{x.T=n,V.p=c}}(zn&3)!==0&&wo(),mn(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Ff?ma++:(ma=0,Ff=t):ma=0,ga(0)}}function U_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ws(n)))}function wo(){return x_(),L_(),k_(),z_()}function z_(){if(We!==5)return!1;var t=mi,n=Gf;Gf=0;var s=fc(zn),l=x.T,c=V.p;try{V.p=32>s?32:s,x.T=null,s=Yf,Yf=null;var h=mi,g=zn;if(We=0,ts=mi=null,zn=0,(Se&6)!==0)throw Error(a(331));var v=Se;if(Se|=4,y_(h.current),m_(h,h.current,g,s),Se=v,ga(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ls,h)}catch{}return!0}finally{V.p=c,x.T=l,U_(t,n)}}function P_(t,n,s){n=Gt(s,n),n=Tf(t.stateNode,n,2),t=oi(t,n,2),t!==null&&(Us(t,2),mn(t))}function Te(t,n,s){if(t.tag===3)P_(t,t,s);else for(;n!==null;){if(n.tag===3){P_(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pi===null||!pi.has(l))){t=Gt(s,t),s=Hg(2),l=oi(n,s,2),l!==null&&(Bg(s,l,n,t),Us(l,2),mn(l));break}}n=n.return}}function Xf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new zC;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(jf=!0,c.add(s),t=qC.bind(null,t,n,s),n.then(t,t))}function qC(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ie===t&&(pe&s)===s&&(Be===4||Be===3&&(pe&62914560)===pe&&300>Dt()-vo?(Se&2)===0&&ns(t,0):qf|=s,es===pe&&(es=0)),mn(t)}function H_(t,n){n===0&&(n=xp()),t=Xi(t,n),t!==null&&(Us(t,n),mn(t))}function VC(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),H_(t,s)}function GC(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),H_(t,s)}function YC(t,n){return lc(t,n)}var Ro=null,rs=null,Wf=!1,Ao=!1,Zf=!1,_i=0;function mn(t){t!==rs&&t.next===null&&(rs===null?Ro=rs=t:rs=rs.next=t),Ao=!0,Wf||(Wf=!0,KC())}function ga(t,n){if(!Zf&&Ao){Zf=!0;do for(var s=!1,l=Ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,v=l.pingedLanes;h=(1<<31-Mt(42|t)+1)-1,h&=c&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,V_(l,h))}else h=pe,h=Dl(l,l===Ie?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ks(l,h)||(s=!0,V_(l,h));l=l.next}while(s);Zf=!1}}function FC(){B_()}function B_(){Ao=Wf=!1;var t=0;_i!==0&&iT()&&(t=_i);for(var n=Dt(),s=null,l=Ro;l!==null;){var c=l.next,h=j_(l,n);h===0?(l.next=null,s===null?Ro=c:s.next=c,c===null&&(rs=s)):(s=l,(t!==0||(h&3)!==0)&&(Ao=!0)),l=c}We!==0&&We!==5||ga(t),_i!==0&&(_i=0)}function j_(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Mt(h),v=1<<g,S=c[g];S===-1?((v&s)===0||(v&l)!==0)&&(c[g]=v0(v,n)):S<=n&&(t.expiredLanes|=v),h&=~v}if(n=Ie,s=pe,s=Dl(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&oc(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ks(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&oc(l),fc(s)){case 2:case 8:s=Ip;break;case 32:s=Rl;break;case 268435456:s=Mp;break;default:s=Rl}return l=q_.bind(null,t),s=lc(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&oc(l),t.callbackPriority=2,t.callbackNode=null,2}function q_(t,n){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(wo()&&t.callbackNode!==s)return null;var l=pe;return l=Dl(t,t===Ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C_(t,l,n),j_(t,Dt()),t.callbackNode!=null&&t.callbackNode===s?q_.bind(null,t):null)}function V_(t,n){if(wo())return null;C_(t,n,!0)}function KC(){sT(function(){(Se&6)!==0?lc(Dp,FC):B_()})}function $f(){if(_i===0){var t=Vr;t===0&&(t=Al,Al<<=1,(Al&261888)===0&&(Al=256)),_i=t}return _i}function G_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ll(""+t)}function Y_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function QC(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var h=G_((c[Et]||null).action),g=l.submitter;g&&(n=(n=g[Et]||null)?G_(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var v=new Pl("action","action",null,l,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_i!==0){var S=g?Y_(c,g):new FormData(c);yf(s,{pending:!0,data:S,method:c.method,action:h},null,S)}}else typeof h=="function"&&(v.preventDefault(),S=g?Y_(c,g):new FormData(c),yf(s,{pending:!0,data:S,method:c.method,action:h},h,S))},currentTarget:c}]})}}for(var Jf=0;Jf<Lc.length;Jf++){var eh=Lc[Jf],XC=eh.toLowerCase(),WC=eh[0].toUpperCase()+eh.slice(1);tn(XC,"on"+WC)}tn(bm,"onAnimationEnd"),tn(Cm,"onAnimationIteration"),tn(Tm,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(hC,"onTransitionRun"),tn(dC,"onTransitionStart"),tn(pC,"onTransitionCancel"),tn(wm,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_a));function F_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var v=l[g],S=v.instance,N=v.currentTarget;if(v=v.listener,S!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=N;try{h(c)}catch(M){jl(M)}c.currentTarget=null,h=S}else for(g=0;g<l.length;g++){if(v=l[g],S=v.instance,N=v.currentTarget,v=v.listener,S!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=N;try{h(c)}catch(M){jl(M)}c.currentTarget=null,h=S}}}}function he(t,n){var s=n[hc];s===void 0&&(s=n[hc]=new Set);var l=t+"__bubble";s.has(l)||(K_(n,t,2,!1),s.add(l))}function th(t,n,s){var l=0;n&&(l|=4),K_(s,t,l,n)}var No="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[No]){t[No]=!0,Bp.forEach(function(s){s!=="selectionchange"&&(ZC.has(s)||th(s,!1,t),th(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[No]||(n[No]=!0,th("selectionchange",!1,n))}}function K_(t,n,s,l){switch(by(n)){case 2:var c=wT;break;case 8:c=RT;break;default:c=_h}s=c.bind(null,n,s,t),c=void 0,!Sc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function ih(t,n,s,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var v=l.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=Rr(v),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=h=g;continue e}v=v.parentNode}}l=l.return}$p(function(){var N=h,M=vc(s),k=[];e:{var O=Rm.get(t);if(O!==void 0){var I=Pl,F=t;switch(t){case"keypress":if(Ul(s)===0)break e;case"keydown":case"keyup":I=G0;break;case"focusin":F="focus",I=wc;break;case"focusout":F="blur",I=wc;break;case"beforeblur":case"afterblur":I=wc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=M0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=K0;break;case bm:case Cm:case Tm:I=k0;break;case wm:I=X0;break;case"scroll":case"scrollend":I=D0;break;case"wheel":I=Z0;break;case"copy":case"cut":case"paste":I=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=im;break;case"toggle":case"beforetoggle":I=J0}var J=(n&4)!==0,Ne=!J&&(t==="scroll"||t==="scrollend"),T=J?O!==null?O+"Capture":null:O;J=[];for(var b=N,A;b!==null;){var L=b;if(A=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||A===null||T===null||(L=Hs(b,T),L!=null&&J.push(ya(b,L,A))),Ne)break;b=b.return}0<J.length&&(O=new I(O,F,null,s,M),k.push({event:O,listeners:J}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",O&&s!==yc&&(F=s.relatedTarget||s.fromElement)&&(Rr(F)||F[wr]))break e;if((I||O)&&(O=M.window===M?M:(O=M.ownerDocument)?O.defaultView||O.parentWindow:window,I?(F=s.relatedTarget||s.toElement,I=N,F=F?Rr(F):null,F!==null&&(Ne=u(F),J=F.tag,F!==Ne||J!==5&&J!==27&&J!==6)&&(F=null)):(I=null,F=N),I!==F)){if(J=tm,L="onMouseLeave",T="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(J=im,L="onPointerLeave",T="onPointerEnter",b="pointer"),Ne=I==null?O:Ps(I),A=F==null?O:Ps(F),O=new J(L,b+"leave",I,s,M),O.target=Ne,O.relatedTarget=A,L=null,Rr(M)===N&&(J=new J(T,b+"enter",F,s,M),J.target=A,J.relatedTarget=Ne,L=J),Ne=L,I&&F)t:{for(J=$C,T=I,b=F,A=0,L=T;L;L=J(L))A++;L=0;for(var $=b;$;$=J($))L++;for(;0<A-L;)T=J(T),A--;for(;0<L-A;)b=J(b),L--;for(;A--;){if(T===b||b!==null&&T===b.alternate){J=T;break t}T=J(T),b=J(b)}J=null}else J=null;I!==null&&Q_(k,O,I,J,!1),F!==null&&Ne!==null&&Q_(k,Ne,F,J,!0)}}e:{if(O=N?Ps(N):window,I=O.nodeName&&O.nodeName.toLowerCase(),I==="select"||I==="input"&&O.type==="file")var ye=fm;else if(um(O))if(hm)ye=uC;else{ye=lC;var Q=aC}else I=O.nodeName,!I||I.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&_c(N.elementType)&&(ye=fm):ye=oC;if(ye&&(ye=ye(t,N))){cm(k,ye,s,M);break e}Q&&Q(t,O,N),t==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&gc(O,"number",O.value)}switch(Q=N?Ps(N):window,t){case"focusin":(um(Q)||Q.contentEditable==="true")&&(kr=Q,Ic=N,Ks=null);break;case"focusout":Ks=Ic=kr=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Em(k,s,M);break;case"selectionchange":if(fC)break;case"keydown":case"keyup":Em(k,s,M)}var ae;if(Ac)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Lr?lm(t,s)&&(me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(me="onCompositionStart");me&&(rm&&s.locale!=="ko"&&(Lr||me!=="onCompositionStart"?me==="onCompositionEnd"&&Lr&&(ae=Jp()):(ti=M,bc="value"in ti?ti.value:ti.textContent,Lr=!0)),Q=Oo(N,me),0<Q.length&&(me=new nm(me,t,null,s,M),k.push({event:me,listeners:Q}),ae?me.data=ae:(ae=om(s),ae!==null&&(me.data=ae)))),(ae=tC?nC(t,s):iC(t,s))&&(me=Oo(N,"onBeforeInput"),0<me.length&&(Q=new nm("onBeforeInput","beforeinput",null,s,M),k.push({event:Q,listeners:me}),Q.data=ae)),QC(k,t,N,s,M)}F_(k,n)})}function ya(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Oo(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Hs(t,s),c!=null&&l.unshift(ya(t,c,h)),c=Hs(t,n),c!=null&&l.push(ya(t,c,h))),t.tag===3)return l;t=t.return}return[]}function $C(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q_(t,n,s,l,c){for(var h=n._reactName,g=[];s!==null&&s!==l;){var v=s,S=v.alternate,N=v.stateNode;if(v=v.tag,S!==null&&S===l)break;v!==5&&v!==26&&v!==27||N===null||(S=N,c?(N=Hs(s,h),N!=null&&g.unshift(ya(s,N,S))):c||(N=Hs(s,h),N!=null&&g.push(ya(s,N,S)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var JC=/\r\n?/g,eT=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(JC,`
`).replace(eT,"")}function W_(t,n){return n=X_(n),X_(t)===n}function Ae(t,n,s,l,c,h){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ir(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ir(t,""+l);break;case"className":Ml(t,"class",l);break;case"tabIndex":Ml(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(t,s,l);break;case"style":Wp(t,l,h);break;case"data":if(n!=="object"){Ml(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ll(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&Ae(t,n,"name",c.name,c,null),Ae(t,n,"formEncType",c.formEncType,c,null),Ae(t,n,"formMethod",c.formMethod,c,null),Ae(t,n,"formTarget",c.formTarget,c,null)):(Ae(t,n,"encType",c.encType,c,null),Ae(t,n,"method",c.method,c,null),Ae(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ll(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=bn);break;case"onScroll":l!=null&&he("scroll",t);break;case"onScrollEnd":l!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ll(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":he("beforetoggle",t),he("toggle",t),Il(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Il(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=N0.get(s)||s,Il(t,s,l))}}function rh(t,n,s,l,c,h){switch(s){case"style":Wp(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Ir(t,l):(typeof l=="number"||typeof l=="bigint")&&Ir(t,""+l);break;case"onScroll":l!=null&&he("scroll",t);break;case"onScrollEnd":l!=null&&he("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jp.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),h=t[Et]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Il(t,s,l)}}}function ft(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var l=!1,c=!1,h;for(h in s)if(s.hasOwnProperty(h)){var g=s[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ae(t,n,h,g,s,null)}}c&&Ae(t,n,"srcSet",s.srcSet,s,null),l&&Ae(t,n,"src",s.src,s,null);return;case"input":he("invalid",t);var v=h=g=c=null,S=null,N=null;for(l in s)if(s.hasOwnProperty(l)){var M=s[l];if(M!=null)switch(l){case"name":c=M;break;case"type":g=M;break;case"checked":S=M;break;case"defaultChecked":N=M;break;case"value":h=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,n));break;default:Ae(t,n,l,M,s,null)}}Fp(t,h,v,S,N,g,c,!1);return;case"select":he("invalid",t),l=g=h=null;for(c in s)if(s.hasOwnProperty(c)&&(v=s[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":l=v;default:Ae(t,n,c,v,s,null)}n=h,s=g,t.multiple=!!l,n!=null?Dr(t,!!l,n,!1):s!=null&&Dr(t,!!l,s,!0);return;case"textarea":he("invalid",t),h=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(v=s[g],v!=null))switch(g){case"value":l=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Ae(t,n,g,v,s,null)}Qp(t,l,c,h);return;case"option":for(S in s)if(s.hasOwnProperty(S)&&(l=s[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ae(t,n,S,l,s,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(l=0;l<_a.length;l++)he(_a[l],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ae(t,n,N,l,s,null)}return;default:if(_c(n)){for(M in s)s.hasOwnProperty(M)&&(l=s[M],l!==void 0&&rh(t,n,M,l,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(l=s[v],l!=null&&Ae(t,n,v,l,s,null))}function tT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,v=null,S=null,N=null,M=null;for(I in s){var k=s[I];if(s.hasOwnProperty(I)&&k!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":S=k;default:l.hasOwnProperty(I)||Ae(t,n,I,null,l,k)}}for(var O in l){var I=l[O];if(k=s[O],l.hasOwnProperty(O)&&(I!=null||k!=null))switch(O){case"type":h=I;break;case"name":c=I;break;case"checked":N=I;break;case"defaultChecked":M=I;break;case"value":g=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:I!==k&&Ae(t,n,O,I,l,k)}}mc(t,g,v,S,N,M,h,c);return;case"select":I=g=v=O=null;for(h in s)if(S=s[h],s.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":I=S;default:l.hasOwnProperty(h)||Ae(t,n,h,null,l,S)}for(c in l)if(h=l[c],S=s[c],l.hasOwnProperty(c)&&(h!=null||S!=null))switch(c){case"value":O=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==S&&Ae(t,n,c,h,l,S)}n=v,s=g,l=I,O!=null?Dr(t,!!s,O,!1):!!l!=!!s&&(n!=null?Dr(t,!!s,n,!0):Dr(t,!!s,s?[]:"",!1));return;case"textarea":I=O=null;for(v in s)if(c=s[v],s.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ae(t,n,v,null,l,c)}for(g in l)if(c=l[g],h=s[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":O=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Ae(t,n,g,c,l,h)}Kp(t,O,I);return;case"option":for(var F in s)if(O=s[F],s.hasOwnProperty(F)&&O!=null&&!l.hasOwnProperty(F))switch(F){case"selected":t.selected=!1;break;default:Ae(t,n,F,null,l,O)}for(S in l)if(O=l[S],I=s[S],l.hasOwnProperty(S)&&O!==I&&(O!=null||I!=null))switch(S){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ae(t,n,S,O,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in s)O=s[J],s.hasOwnProperty(J)&&O!=null&&!l.hasOwnProperty(J)&&Ae(t,n,J,null,l,O);for(N in l)if(O=l[N],I=s[N],l.hasOwnProperty(N)&&O!==I&&(O!=null||I!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Ae(t,n,N,O,l,I)}return;default:if(_c(n)){for(var Ne in s)O=s[Ne],s.hasOwnProperty(Ne)&&O!==void 0&&!l.hasOwnProperty(Ne)&&rh(t,n,Ne,void 0,l,O);for(M in l)O=l[M],I=s[M],!l.hasOwnProperty(M)||O===I||O===void 0&&I===void 0||rh(t,n,M,O,l,I);return}}for(var T in s)O=s[T],s.hasOwnProperty(T)&&O!=null&&!l.hasOwnProperty(T)&&Ae(t,n,T,null,l,O);for(k in l)O=l[k],I=s[k],!l.hasOwnProperty(k)||O===I||O==null&&I==null||Ae(t,n,k,O,l,I)}function Z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],h=c.transferSize,g=c.initiatorType,v=c.duration;if(h&&v&&Z_(g)){for(g=0,v=c.responseEnd,l+=1;l<s.length;l++){var S=s[l],N=S.startTime;if(N>v)break;var M=S.transferSize,k=S.initiatorType;M&&Z_(k)&&(S=S.responseEnd,g+=M*(S<v?1:(v-N)/(S-N)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sh=null,ah=null;function Do(t){return t.nodeType===9?t:t.ownerDocument}function $_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function lh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var oh=null;function iT(){var t=window.event;return t&&t.type==="popstate"?t===oh?!1:(oh=t,!0):(oh=null,!1)}var ey=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,sT=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(aT)}:ey;function aT(t){setTimeout(function(){throw t})}function yi(t){return t==="head"}function ny(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),os(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")va(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,va(s);for(var h=s.firstChild;h;){var g=h.nextSibling,v=h.nodeName;h[zs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=g}}else s==="body"&&va(t.ownerDocument.body);s=c}while(s);os(n)}function iy(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function uh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":uh(s),dc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function lT(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zs])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Xt(t.nextSibling),t===null)break}return null}function oT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Xt(t.nextSibling),t===null))return null;return t}function ry(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xt(t.nextSibling),t===null))return null;return t}function ch(t){return t.data==="$?"||t.data==="$~"}function fh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uT(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var hh=null;function sy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Xt(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function ly(t,n,s){switch(n=Do(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function va(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);dc(t)}var Wt=new Map,oy=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pn=V.d;V.d={f:cT,r:fT,D:hT,C:dT,L:pT,m:mT,X:_T,S:gT,M:yT};function cT(){var t=Pn.f(),n=bo();return t||n}function fT(t){var n=Ar(t);n!==null&&n.tag===5&&n.type==="form"?wg(n):Pn.r(t)}var ss=typeof document>"u"?null:document;function uy(t,n,s){var l=ss;if(l&&typeof n=="string"&&n){var c=qt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),oy.has(c)||(oy.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ft(n,"link",t),et(n),l.head.appendChild(n)))}}function hT(t){Pn.D(t),uy("dns-prefetch",t,null)}function dT(t,n){Pn.C(t,n),uy("preconnect",t,n)}function pT(t,n,s){Pn.L(t,n,s);var l=ss;if(l&&t&&n){var c='link[rel="preload"][as="'+qt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+qt(s.imageSizes)+'"]')):c+='[href="'+qt(t)+'"]';var h=c;switch(n){case"style":h=as(t);break;case"script":h=ls(t)}Wt.has(h)||(t=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Wt.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ea(h))||n==="script"&&l.querySelector(Sa(h))||(n=l.createElement("link"),ft(n,"link",t),et(n),l.head.appendChild(n)))}}function mT(t,n){Pn.m(t,n);var s=ss;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ls(t)}if(!Wt.has(h)&&(t=y({rel:"modulepreload",href:t},n),Wt.set(h,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Sa(h)))return}l=s.createElement("link"),ft(l,"link",t),et(l),s.head.appendChild(l)}}}function gT(t,n,s){Pn.S(t,n,s);var l=ss;if(l&&t){var c=Nr(l).hoistableStyles,h=as(t);n=n||"default";var g=c.get(h);if(!g){var v={loading:0,preload:null};if(g=l.querySelector(Ea(h)))v.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Wt.get(h))&&dh(t,s);var S=g=l.createElement("link");et(S),ft(S,"link",t),S._p=new Promise(function(N,M){S.onload=N,S.onerror=M}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Mo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(h,g)}}}function _T(t,n){Pn.X(t,n);var s=ss;if(s&&t){var l=Nr(s).hoistableScripts,c=ls(t),h=l.get(c);h||(h=s.querySelector(Sa(c)),h||(t=y({src:t,async:!0},n),(n=Wt.get(c))&&ph(t,n),h=s.createElement("script"),et(h),ft(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function yT(t,n){Pn.M(t,n);var s=ss;if(s&&t){var l=Nr(s).hoistableScripts,c=ls(t),h=l.get(c);h||(h=s.querySelector(Sa(c)),h||(t=y({src:t,async:!0,type:"module"},n),(n=Wt.get(c))&&ph(t,n),h=s.createElement("script"),et(h),ft(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function cy(t,n,s,l){var c=(c=ce.current)?Io(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=as(s.href),s=Nr(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=as(s.href);var h=Nr(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Ea(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Wt.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Wt.set(t,s),h||vT(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(s),s=Nr(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+qt(t)+'"'}function Ea(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function vT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ft(n,"link",s),et(n),t.head.appendChild(n))}function ls(t){return'[src="'+qt(t)+'"]'}function Sa(t){return"script[async]"+t}function hy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+qt(s.href)+'"]');if(l)return n.instance=l,et(l),l;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),ft(l,"style",c),Mo(l,s.precedence,t),n.instance=l;case"stylesheet":c=as(s.href);var h=t.querySelector(Ea(c));if(h)return n.state.loading|=4,n.instance=h,et(h),h;l=fy(s),(c=Wt.get(c))&&dh(l,c),h=(t.ownerDocument||t).createElement("link"),et(h);var g=h;return g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ft(h,"link",l),n.state.loading|=4,Mo(h,s.precedence,t),n.instance=h;case"script":return h=ls(s.src),(c=t.querySelector(Sa(h)))?(n.instance=c,et(c),c):(l=s,(c=Wt.get(h))&&(l=y({},s),ph(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),et(c),ft(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Mo(l,s.precedence,t));return n.instance}function Mo(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var v=l[g];if(v.dataset.precedence===n)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function dh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ph(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xo=null;function dy(t,n,s){if(xo===null){var l=new Map,c=xo=new Map;c.set(s,l)}else c=xo,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var h=s[c];if(!(h[zs]||h[lt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var v=l.get(g);v?v.push(h):l.set(g,[h])}}return l}function py(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function ET(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function my(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ST(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=as(l.href),h=n.querySelector(Ea(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Lo.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=h,et(h);return}h=n.ownerDocument||n,l=fy(l),(c=Wt.get(c))&&dh(l,c),h=h.createElement("link"),et(h);var g=h;g._p=new Promise(function(v,S){g.onload=v,g.onerror=S}),ft(h,"link",l),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Lo.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var mh=0;function bT(t,n){return t.stylesheets&&t.count===0&&Uo(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Uo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&mh===0&&(mh=62500*nT());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>mh?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Lo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ko=null;function Uo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ko=new Map,n.forEach(CT,t),ko=null,Lo.call(t))}function CT(t,n){if(!(n.state.loading&4)){var s=ko.get(t);if(s)var l=s.get(null);else{s=new Map,ko.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=s.get(g)||l,h===l&&s.set(null,c),s.set(g,c),this.count++,l=Lo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ba={$$typeof:B,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function TT(t,n,s,l,c,h,g,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.hiddenUpdates=uc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function gy(t,n,s,l,c,h,g,v,S,N,M,k){return t=new TT(t,n,s,g,S,N,M,k,v),n=1,h===!0&&(n|=24),h=Lt(3,null,null,n),t.current=h,h.stateNode=t,n=Kc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:n},Zc(h),t}function _y(t){return t?(t=Pr,t):Pr}function yy(t,n,s,l,c,h){c=_y(c),l.context===null?l.context=c:l.pendingContext=c,l=li(n),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=oi(t,l,n),s!==null&&(Rt(s,t,n),ea(s,t,n))}function vy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function gh(t,n){vy(t,n),(t=t.alternate)&&vy(t,n)}function Ey(t){if(t.tag===13||t.tag===31){var n=Xi(t,67108864);n!==null&&Rt(n,t,67108864),gh(t,67108864)}}function Sy(t){if(t.tag===13||t.tag===31){var n=Ht();n=cc(n);var s=Xi(t,n);s!==null&&Rt(s,t,n),gh(t,n)}}var zo=!0;function wT(t,n,s,l){var c=x.T;x.T=null;var h=V.p;try{V.p=2,_h(t,n,s,l)}finally{V.p=h,x.T=c}}function RT(t,n,s,l){var c=x.T;x.T=null;var h=V.p;try{V.p=8,_h(t,n,s,l)}finally{V.p=h,x.T=c}}function _h(t,n,s,l){if(zo){var c=yh(l);if(c===null)ih(t,n,l,Po,s),Cy(t,l);else if(NT(c,t,n,s,l))l.stopPropagation();else if(Cy(t,l),n&4&&-1<AT.indexOf(t)){for(;c!==null;){var h=Ar(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Gi(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var S=1<<31-Mt(g);v.entanglements[1]|=S,g&=~S}mn(h),(Se&6)===0&&(Eo=Dt()+500,ga(0))}}break;case 31:case 13:v=Xi(h,2),v!==null&&Rt(v,h,2),bo(),gh(h,2)}if(h=yh(l),h===null&&ih(t,n,l,Po,s),h===c)break;c=h}c!==null&&l.stopPropagation()}else ih(t,n,l,null,s)}}function yh(t){return t=vc(t),vh(t)}var Po=null;function vh(t){if(Po=null,t=Rr(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===31){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Po=t,null}function by(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(h0()){case Dp:return 2;case Ip:return 8;case Rl:case d0:return 32;case Mp:return 268435456;default:return 32}default:return 32}}var Eh=!1,vi=null,Ei=null,Si=null,Ca=new Map,Ta=new Map,bi=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(t,n){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Ca.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(n.pointerId)}}function wa(t,n,s,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ar(n),n!==null&&Ey(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NT(t,n,s,l,c){switch(n){case"focusin":return vi=wa(vi,t,n,s,l,c),!0;case"dragenter":return Ei=wa(Ei,t,n,s,l,c),!0;case"mouseover":return Si=wa(Si,t,n,s,l,c),!0;case"pointerover":var h=c.pointerId;return Ca.set(h,wa(Ca.get(h)||null,t,n,s,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ta.set(h,wa(Ta.get(h)||null,t,n,s,l,c)),!0}return!1}function Ty(t){var n=Rr(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Pp(t.priority,function(){Sy(s)});return}}else if(n===31){if(n=d(s),n!==null){t.blockedOn=n,Pp(t.priority,function(){Sy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ho(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=yh(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);yc=l,s.target.dispatchEvent(l),yc=null}else return n=Ar(s),n!==null&&Ey(n),t.blockedOn=s,!1;n.shift()}return!0}function wy(t,n,s){Ho(t)&&s.delete(n)}function OT(){Eh=!1,vi!==null&&Ho(vi)&&(vi=null),Ei!==null&&Ho(Ei)&&(Ei=null),Si!==null&&Ho(Si)&&(Si=null),Ca.forEach(wy),Ta.forEach(wy)}function Bo(t,n){t.blockedOn===n&&(t.blockedOn=null,Eh||(Eh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,OT)))}var jo=null;function Ry(t){jo!==t&&(jo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jo===t&&(jo=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(vh(l||s)===null)continue;break}var h=Ar(s);h!==null&&(t.splice(n,3),n-=3,yf(h,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function os(t){function n(S){return Bo(S,t)}vi!==null&&Bo(vi,t),Ei!==null&&Bo(Ei,t),Si!==null&&Bo(Si,t),Ca.forEach(n),Ta.forEach(n);for(var s=0;s<bi.length;s++){var l=bi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<bi.length&&(s=bi[0],s.blockedOn===null);)Ty(s),s.blockedOn===null&&bi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],h=s[l+1],g=c[Et]||null;if(typeof h=="function")g||Ry(s);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Et]||null)v=g.formAction;else if(vh(c)!==null)continue}else v=g.action;typeof v=="function"?s[l+1]=v:(s.splice(l,3),l-=3),Ry(s)}}}function Ay(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Sh(t){this._internalRoot=t}qo.prototype.render=Sh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Ht();yy(s,l,t,n,null,null)},qo.prototype.unmount=Sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;yy(t.current,2,null,t,null,null),bo(),n[wr]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var n=zp();t={blockedOn:null,target:t,priority:n};for(var s=0;s<bi.length&&n!==0&&n<bi[s].priority;s++);bi.splice(s,0,t),s===0&&Ty(t)}};var Ny=e.version;if(Ny!=="19.2.0")throw Error(a(527,Ny,"19.2.0"));V.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var DT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{Ls=Vo.inject(DT),It=Vo}catch{}}return Aa.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=kg,h=Ug,g=zg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=gy(t,1,!1,null,null,s,l,null,c,h,g,Ay),t[wr]=n.current,nh(t),new Sh(n)},Aa.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",h=kg,g=Ug,v=zg,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(S=s.formState)),n=gy(t,1,!0,n,s??null,l,c,S,h,g,v,Ay),n.context=_y(null),s=n.current,l=Ht(),l=cc(l),c=li(l),c.callback=null,oi(s,c,l),s=l,n.current.lanes=s,Us(n,s),mn(n),t[wr]=n.current,nh(t),new qo(n)},Aa.version="19.2.0",Aa}var Py;function jT(){if(Py)return Th.exports;Py=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Th.exports=BT(),Th.exports}var qT=jT();const VT=_E(qT);var Nh={exports:{}},Oh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function GT(){if(Hy)return Oh;Hy=1;var i=Lu();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:e,a=i.useSyncExternalStore,o=i.useRef,u=i.useEffect,f=i.useMemo,d=i.useDebugValue;return Oh.useSyncExternalStoreWithSelector=function(p,m,_,y,E){var R=o(null);if(R.current===null){var w={hasValue:!1,value:null};R.current=w}else w=R.current;R=f(function(){function z(Z){if(!H){if(H=!0,j=Z,Z=y(Z),E!==void 0&&w.hasValue){var le=w.value;if(E(le,Z))return B=le}return B=Z}if(le=B,r(j,Z))return le;var Y=y(Z);return E!==void 0&&E(le,Y)?(j=Z,le):(j=Z,B=Y)}var H=!1,j,B,X=_===void 0?null:_;return[function(){return z(m())},X===null?void 0:function(){return z(X())}]},[m,_,y,E]);var P=a(p,R[0],R[1]);return u(function(){w.hasValue=!0,w.value=P},[P]),d(P),P},Oh}var By;function YT(){return By||(By=1,Nh.exports=GT()),Nh.exports}var FT=YT();function KT(i){i()}function QT(){let i=null,e=null;return{clear(){i=null,e=null},notify(){KT(()=>{let r=i;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=i;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const o=e={callback:r,next:null,prev:e};return o.prev?o.prev.next=o:i=o,function(){!a||i===null||(a=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:i=o.next)}}}}var jy={notify(){},get:()=>[]};function XT(i,e){let r,a=jy,o=0,u=!1;function f(P){_();const z=a.subscribe(P);let H=!1;return()=>{H||(H=!0,z(),y())}}function d(){a.notify()}function p(){w.onStateChange&&w.onStateChange()}function m(){return u}function _(){o++,r||(r=i.subscribe(p),a=QT())}function y(){o--,r&&o===0&&(r(),r=void 0,a.clear(),a=jy)}function E(){u||(u=!0,_())}function R(){u&&(u=!1,y())}const w={addNestedSub:f,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:m,trySubscribe:E,tryUnsubscribe:R,getListeners:()=>a};return w}var WT=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZT=WT(),$T=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JT=$T(),e1=()=>ZT||JT?D.useLayoutEffect:D.useEffect,t1=e1(),n1=Symbol.for("react-redux-context"),i1=typeof globalThis<"u"?globalThis:{};function r1(){if(!D.createContext)return{};const i=i1[n1]??=new Map;let e=i.get(D.createContext);return e||(e=D.createContext(null),i.set(D.createContext,e)),e}var Li=r1();function s1(i){const{children:e,context:r,serverState:a,store:o}=i,u=D.useMemo(()=>{const p=XT(o);return{store:o,subscription:p,getServerState:a?()=>a:void 0}},[o,a]),f=D.useMemo(()=>o.getState(),[o]);t1(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const d=r||Li;return D.createElement(d.Provider,{value:u},e)}var a1=s1;function Td(i=Li){return function(){return D.useContext(i)}}var yE=Td();function vE(i=Li){const e=i===Li?yE:Td(i),r=()=>{const{store:a}=e();return a};return Object.assign(r,{withTypes:()=>r}),r}var l1=vE();function o1(i=Li){const e=i===Li?l1:vE(i),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var u1=o1(),c1=(i,e)=>i===e;function f1(i=Li){const e=i===Li?yE:Td(i),r=(a,o={})=>{const{equalityFn:u=c1}=typeof o=="function"?{equalityFn:o}:o,f=e(),{store:d,subscription:p,getServerState:m}=f;D.useRef(!0);const _=D.useCallback({[a.name](E){return a(E)}}[a.name],[a]),y=FT.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,m||d.getState,_,u);return D.useDebugValue(y),y};return Object.assign(r,{withTypes:()=>r}),r}var h1=f1();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qy="popstate";function d1(i={}){function e(a,o){let{pathname:u,search:f,hash:d}=a.location;return Wh("",{pathname:u,search:f,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){return typeof o=="string"?o:Ka(o)}return m1(e,r,null,i)}function Pe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $t(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p1(){return Math.random().toString(36).substring(2,10)}function Vy(i,e){return{usr:i.state,key:i.key,idx:e}}function Wh(i,e,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bs(e):e,state:r,key:e&&e.key||a||p1()}}function Ka({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function bs(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function m1(i,e,r,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,d="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function y(){d="POP";let z=_(),H=z==null?null:z-m;m=z,p&&p({action:d,location:P.location,delta:H})}function E(z,H){d="PUSH";let j=Wh(P.location,z,H);m=_()+1;let B=Vy(j,m),X=P.createHref(j);try{f.pushState(B,"",X)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(X)}u&&p&&p({action:d,location:P.location,delta:1})}function R(z,H){d="REPLACE";let j=Wh(P.location,z,H);m=_();let B=Vy(j,m),X=P.createHref(j);f.replaceState(B,"",X),u&&p&&p({action:d,location:P.location,delta:0})}function w(z){return g1(z)}let P={get action(){return d},get location(){return i(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qy,y),p=z,()=>{o.removeEventListener(qy,y),p=null}},createHref(z){return e(o,z)},createURL:w,encodeLocation(z){let H=w(z);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:R,go(z){return f.go(z)}};return P}function g1(i,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(r,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Ka(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function EE(i,e,r="/"){return _1(i,e,r,!1)}function _1(i,e,r,a){let o=typeof e=="string"?bs(e):e,u=Fn(o.pathname||"/",r);if(u==null)return null;let f=SE(i);y1(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let m=O1(u);d=A1(f[p],m,a)}return d}function SE(i,e=[],r=[],a="",o=!1){let u=(f,d,p=o,m)=>{let _={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&p)return;Pe(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let y=qn([a,_.relativePath]),E=r.concat(_);f.children&&f.children.length>0&&(Pe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),SE(f.children,e,E,y,p)),!(f.path==null&&!f.index)&&e.push({path:y,score:w1(y,f.index),routesMeta:E})};return i.forEach((f,d)=>{if(f.path===""||!f.path?.includes("?"))u(f,d);else for(let p of bE(f.path))u(f,d,!0,p)}),e}function bE(i){let e=i.split("/");if(e.length===0)return[];let[r,...a]=e,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=bE(a.join("/")),d=[];return d.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...f),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function y1(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:R1(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var v1=/^:[\w-]+$/,E1=3,S1=2,b1=1,C1=10,T1=-2,Gy=i=>i==="*";function w1(i,e){let r=i.split("/"),a=r.length;return r.some(Gy)&&(a+=T1),e&&(a+=S1),r.filter(o=>!Gy(o)).reduce((o,u)=>o+(v1.test(u)?E1:u===""?b1:C1),a)}function R1(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function A1(i,e,r=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let d=0;d<a.length;++d){let p=a[d],m=d===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",y=au({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),E=p.route;if(!y&&m&&r&&!a[a.length-1].route.index&&(y=au({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!y)return null;Object.assign(o,y.params),f.push({params:o,pathname:qn([u,y.pathname]),pathnameBase:L1(qn([u,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(u=qn([u,y.pathnameBase]))}return f}function au(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=N1(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((m,{paramName:_,isOptional:y},E)=>{if(_==="*"){let w=d[E]||"";f=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const R=d[E];return y&&!R?m[_]=void 0:m[_]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:i}}function N1(i,e=!1,r=!0){$t(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function O1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Fn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}var D1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I1=i=>D1.test(i);function M1(i,e="/"){let{pathname:r,search:a="",hash:o=""}=typeof i=="string"?bs(i):i,u;if(r)if(I1(r))u=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),$t(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?u=Yy(r.substring(1),"/"):u=Yy(r,e)}else u=e;return{pathname:u,search:k1(a),hash:U1(o)}}function Yy(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Dh(i,e,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wd(i){let e=x1(i);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Rd(i,e,r,a=!1){let o;typeof i=="string"?o=bs(i):(o={...i},Pe(!o.pathname||!o.pathname.includes("?"),Dh("?","pathname","search",o)),Pe(!o.pathname||!o.pathname.includes("#"),Dh("#","pathname","hash",o)),Pe(!o.search||!o.search.includes("#"),Dh("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=r;else{let y=e.length-1;if(!a&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),y-=1;o.pathname=E.join("/")}d=y>=0?e[y]:"/"}let p=M1(o,d),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var qn=i=>i.join("/").replace(/\/\/+/g,"/"),L1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),k1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,U1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function z1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function P1(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CE=["POST","PUT","PATCH","DELETE"];new Set(CE);var H1=["GET",...CE];new Set(H1);var Cs=D.createContext(null);Cs.displayName="DataRouter";var ku=D.createContext(null);ku.displayName="DataRouterState";D.createContext(!1);var TE=D.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var B1=D.createContext(new Map);B1.displayName="Fetchers";var j1=D.createContext(null);j1.displayName="Await";var Jt=D.createContext(null);Jt.displayName="Navigation";var cl=D.createContext(null);cl.displayName="Location";var vn=D.createContext({outlet:null,matches:[],isDataRoute:!1});vn.displayName="Route";var Ad=D.createContext(null);Ad.displayName="RouteError";function q1(i,{relative:e}={}){Pe(Ts(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=D.useContext(Jt),{hash:o,pathname:u,search:f}=hl(i,{relative:e}),d=u;return r!=="/"&&(d=u==="/"?r:qn([r,u])),a.createHref({pathname:d,search:f,hash:o})}function Ts(){return D.useContext(cl)!=null}function Pi(){return Pe(Ts(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(cl).location}var wE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(i){D.useContext(Jt).static||D.useLayoutEffect(i)}function fl(){let{isDataRoute:i}=D.useContext(vn);return i?tw():V1()}function V1(){Pe(Ts(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(Cs),{basename:e,navigator:r}=D.useContext(Jt),{matches:a}=D.useContext(vn),{pathname:o}=Pi(),u=JSON.stringify(wd(a)),f=D.useRef(!1);return RE(()=>{f.current=!0}),D.useCallback((p,m={})=>{if($t(f.current,wE),!f.current)return;if(typeof p=="number"){r.go(p);return}let _=Rd(p,JSON.parse(u),o,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:qn([e,_.pathname])),(m.replace?r.replace:r.push)(_,m.state,m)},[e,r,u,o,i])}D.createContext(null);function hl(i,{relative:e}={}){let{matches:r}=D.useContext(vn),{pathname:a}=Pi(),o=JSON.stringify(wd(r));return D.useMemo(()=>Rd(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function G1(i,e){return AE(i,e)}function AE(i,e,r,a,o){Pe(Ts(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(Jt),{matches:f}=D.useContext(vn),d=f[f.length-1],p=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",y=d&&d.route;{let j=y&&y.path||"";NE(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=Pi(),R;if(e){let j=typeof e=="string"?bs(e):e;Pe(_==="/"||j.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),R=j}else R=E;let w=R.pathname||"/",P=w;if(_!=="/"){let j=_.replace(/^\//,"").split("/");P="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let z=EE(i,{pathname:P});$t(y||z!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),$t(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=X1(z&&z.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:qn([_,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:qn([_,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),f,r,a,o);return e&&H?D.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},H):H}function Y1(){let i=ew(),e=z1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:o},r):null,f)}var F1=D.createElement(Y1,null),K1=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?D.createElement(vn.Provider,{value:this.props.routeContext},D.createElement(Ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q1({routeContext:i,match:e,children:r}){let a=D.useContext(Cs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(vn.Provider,{value:i},r)}function X1(i,e=[],r=null,a=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let u=i,f=r?.errors;if(f!=null){let _=u.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);Pe(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let d=!1,p=-1;if(r)for(let _=0;_<u.length;_++){let y=u[_];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=_),y.route.id){let{loaderData:E,errors:R}=r,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||w){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=r&&a?(_,y)=>{a(_,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:P1(r.matches),errorInfo:y})}:void 0;return u.reduceRight((_,y,E)=>{let R,w=!1,P=null,z=null;r&&(R=f&&y.route.id?f[y.route.id]:void 0,P=y.route.errorElement||F1,d&&(p<0&&E===0?(NE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,z=null):p===E&&(w=!0,z=y.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,E+1)),j=()=>{let B;return R?B=P:w?B=z:y.route.Component?B=D.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=_,D.createElement(Q1,{match:y,routeContext:{outlet:_,matches:H,isDataRoute:r!=null},children:B})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?D.createElement(K1,{location:r.location,revalidation:r.revalidation,component:P,error:R,children:j(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:m}):j()},null)}function Nd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(i){let e=D.useContext(Cs);return Pe(e,Nd(i)),e}function Z1(i){let e=D.useContext(ku);return Pe(e,Nd(i)),e}function $1(i){let e=D.useContext(vn);return Pe(e,Nd(i)),e}function Od(i){let e=$1(i),r=e.matches[e.matches.length-1];return Pe(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function J1(){return Od("useRouteId")}function ew(){let i=D.useContext(Ad),e=Z1("useRouteError"),r=Od("useRouteError");return i!==void 0?i:e.errors?.[r]}function tw(){let{router:i}=W1("useNavigate"),e=Od("useNavigate"),r=D.useRef(!1);return RE(()=>{r.current=!0}),D.useCallback(async(o,u={})=>{$t(r.current,wE),r.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Fy={};function NE(i,e,r){!e&&!Fy[i]&&(Fy[i]=!0,$t(!1,r))}D.memo(nw);function nw({routes:i,future:e,state:r,unstable_onError:a}){return AE(i,void 0,r,a,e)}function Na({to:i,replace:e,state:r,relative:a}){Pe(Ts(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Jt);$t(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=D.useContext(vn),{pathname:f}=Pi(),d=fl(),p=Rd(i,wd(u),f,a==="path"),m=JSON.stringify(p);return D.useEffect(()=>{d(JSON.parse(m),{replace:e,state:r,relative:a})},[d,m,a,e,r]),null}function La(i){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:i="/",children:e=null,location:r,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Pe(!Ts(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[d,o,u,f]);typeof r=="string"&&(r=bs(r));let{pathname:m="/",search:_="",hash:y="",state:E=null,key:R="default"}=r,w=D.useMemo(()=>{let P=Fn(m,d);return P==null?null:{location:{pathname:P,search:_,hash:y,state:E,key:R},navigationType:a}},[d,m,_,y,E,R,a]);return $t(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${_}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:D.createElement(Jt.Provider,{value:p},D.createElement(cl.Provider,{children:e,value:w}))}function rw({children:i,location:e}){return G1(Zh(i),e)}function Zh(i,e=[]){let r=[];return D.Children.forEach(i,(a,o)=>{if(!D.isValidElement(a))return;let u=[...e,o];if(a.type===D.Fragment){r.push.apply(r,Zh(a.props.children,u));return}Pe(a.type===La,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Zh(a.props.children,u)),r.push(f)}),r}var Zo="get",$o="application/x-www-form-urlencoded";function Uu(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function sw(i){return Uu(i)&&i.tagName.toLowerCase()==="button"}function aw(i){return Uu(i)&&i.tagName.toLowerCase()==="form"}function lw(i){return Uu(i)&&i.tagName.toLowerCase()==="input"}function ow(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uw(i,e){return i.button===0&&(!e||e==="_self")&&!ow(i)}var Go=null;function cw(){if(Go===null)try{new FormData(document.createElement("form"),0),Go=!1}catch{Go=!0}return Go}var fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ih(i){return i!=null&&!fw.has(i)?($t(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$o}"`),null):i}function hw(i,e){let r,a,o,u,f;if(aw(i)){let d=i.getAttribute("action");a=d?Fn(d,e):null,r=i.getAttribute("method")||Zo,o=Ih(i.getAttribute("enctype"))||$o,u=new FormData(i)}else if(sw(i)||lw(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(a=p?Fn(p,e):null,r=i.getAttribute("formmethod")||d.getAttribute("method")||Zo,o=Ih(i.getAttribute("formenctype"))||Ih(d.getAttribute("enctype"))||$o,u=new FormData(d,i),!cw()){let{name:m,type:_,value:y}=i;if(_==="image"){let E=m?`${m}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else m&&u.append(m,y)}}else{if(Uu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zo,a=null,o=$o,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dw(i,e,r){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Fn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function pw(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gw(i,e,r){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await pw(u,r);return f.links?f.links():[]}return[]}));return Ew(a.flat(1).filter(mw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ky(i,e,r,a,o,u){let f=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,d=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,m)=>f(p,m)||d(p,m)):u==="data"?e.filter((p,m)=>{let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function _w(i,e,{includeHydrateFallback:r}={}){return yw(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yw(i){return[...new Set(i)]}function vw(i){let e={},r=Object.keys(i).sort();for(let a of r)e[a]=i[a];return e}function Ew(i,e){let r=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(vw(o));return r.has(u)||(r.add(u),a.push({key:u,link:o})),a},[])}function OE(){let i=D.useContext(Cs);return Dd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Sw(){let i=D.useContext(ku);return Dd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Id=D.createContext(void 0);Id.displayName="FrameworkContext";function DE(){let i=D.useContext(Id);return Dd(i,"You must render this element inside a <HydratedRouter> element"),i}function bw(i,e){let r=D.useContext(Id),[a,o]=D.useState(!1),[u,f]=D.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:y}=e,E=D.useRef(null);D.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let P=H=>{H.forEach(j=>{f(j.isIntersecting)})},z=new IntersectionObserver(P,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[i]),D.useEffect(()=>{if(a){let P=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(P)}}},[a]);let R=()=>{o(!0)},w=()=>{o(!1),f(!1)};return r?i!=="intent"?[u,E,{}]:[u,E,{onFocus:Oa(d,R),onBlur:Oa(p,w),onMouseEnter:Oa(m,R),onMouseLeave:Oa(_,w),onTouchStart:Oa(y,R)}]:[!1,E,{}]}function Oa(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function Cw({page:i,...e}){let{router:r}=OE(),a=D.useMemo(()=>EE(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?D.createElement(ww,{page:i,matches:a,...e}):null}function Tw(i){let{manifest:e,routeModules:r}=DE(),[a,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return gw(i,e,r).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,r]),a}function ww({page:i,matches:e,...r}){let a=Pi(),{manifest:o,routeModules:u}=DE(),{basename:f}=OE(),{loaderData:d,matches:p}=Sw(),m=D.useMemo(()=>Ky(i,e,p,o,a,"data"),[i,e,p,o,a]),_=D.useMemo(()=>Ky(i,e,p,o,a,"assets"),[i,e,p,o,a]),y=D.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let w=new Set,P=!1;if(e.forEach(H=>{let j=o.routes[H.route.id];!j||!j.hasLoader||(!m.some(B=>B.route.id===H.route.id)&&H.route.id in d&&u[H.route.id]?.shouldRevalidate||j.hasClientLoader?P=!0:w.add(H.route.id))}),w.size===0)return[];let z=dw(i,f,"data");return P&&w.size>0&&z.searchParams.set("_routes",e.filter(H=>w.has(H.route.id)).map(H=>H.route.id).join(",")),[z.pathname+z.search]},[f,d,a,o,m,e,i,u]),E=D.useMemo(()=>_w(_,o),[_,o]),R=Tw(_);return D.createElement(D.Fragment,null,y.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),E.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),R.map(({key:w,link:P})=>D.createElement("link",{key:w,nonce:r.nonce,...P})))}function Rw(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.10.1")}catch{}function Aw({basename:i,children:e,unstable_useTransitions:r,window:a}){let o=D.useRef();o.current==null&&(o.current=d1({window:a,v5Compat:!0}));let u=o.current,[f,d]=D.useState({action:u.action,location:u.location}),p=D.useCallback(m=>{r===!1?d(m):D.startTransition(()=>d(m))},[r]);return D.useLayoutEffect(()=>u.listen(p),[u,p]),D.createElement(iw,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:r===!0})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zu=D.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:d,target:p,to:m,preventScrollReset:_,viewTransition:y,...E},R){let{basename:w,unstable_useTransitions:P}=D.useContext(Jt),z=typeof m=="string"&&ME.test(m),H,j=!1;if(typeof m=="string"&&z&&(H=m,IE))try{let Je=new URL(window.location.href),st=m.startsWith("//")?new URL(Je.protocol+m):new URL(m),at=Fn(st.pathname,w);st.origin===Je.origin&&at!=null?m=at+st.search+st.hash:j=!0}catch{$t(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=q1(m,{relative:o}),[X,Z,le]=bw(a,E),Y=Iw(m,{replace:f,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:y,unstable_useTransitions:P});function oe(Je){e&&e(Je),Je.defaultPrevented||Y(Je)}let Ye=D.createElement("a",{...E,...le,href:H||B,onClick:j||u?e:oe,ref:Rw(R,Z),target:p,"data-discover":!z&&r==="render"?"true":void 0});return X&&!z?D.createElement(D.Fragment,null,Ye,D.createElement(Cw,{page:B})):Ye});zu.displayName="Link";var Nw=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:d,children:p,...m},_){let y=hl(f,{relative:m.relative}),E=Pi(),R=D.useContext(ku),{navigator:w,basename:P}=D.useContext(Jt),z=R!=null&&Uw(y)&&d===!0,H=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,j=E.pathname,B=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;r||(j=j.toLowerCase(),B=B?B.toLowerCase():null,H=H.toLowerCase()),B&&P&&(B=Fn(B,P)||B);const X=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let Z=j===H||!o&&j.startsWith(H)&&j.charAt(X)==="/",le=B!=null&&(B===H||!o&&B.startsWith(H)&&B.charAt(H.length)==="/"),Y={isActive:Z,isPending:le,isTransitioning:z},oe=Z?e:void 0,Ye;typeof a=="function"?Ye=a(Y):Ye=[a,Z?"active":null,le?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let Je=typeof u=="function"?u(Y):u;return D.createElement(zu,{...m,"aria-current":oe,className:Ye,ref:_,style:Je,to:f,viewTransition:d},typeof p=="function"?p(Y):p)});Nw.displayName="NavLink";var Ow=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:o,state:u,method:f=Zo,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:y,...E},R)=>{let{unstable_useTransitions:w}=D.useContext(Jt),P=Lw(),z=kw(d,{relative:m}),H=f.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&ME.test(d),B=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let Z=X.nativeEvent.submitter,le=Z?.getAttribute("formmethod")||f,Y=()=>P(Z||X.currentTarget,{fetcherKey:e,method:le,navigate:r,replace:o,state:u,relative:m,preventScrollReset:_,viewTransition:y});w&&r!==!1?D.startTransition(()=>Y()):Y()};return D.createElement("form",{ref:R,method:H,action:z,onSubmit:a?p:B,...E,"data-discover":!j&&i==="render"?"true":void 0})});Ow.displayName="Form";function Dw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(i){let e=D.useContext(Cs);return Pe(e,Dw(i)),e}function Iw(i,{target:e,replace:r,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:d}={}){let p=fl(),m=Pi(),_=hl(i,{relative:u});return D.useCallback(y=>{if(uw(y,e)){y.preventDefault();let E=r!==void 0?r:Ka(m)===Ka(_),R=()=>p(i,{replace:E,state:a,preventScrollReset:o,relative:u,viewTransition:f});d?D.startTransition(()=>R()):R()}},[m,p,_,r,a,e,i,o,u,f,d])}var Mw=0,xw=()=>`__${String(++Mw)}__`;function Lw(){let{router:i}=xE("useSubmit"),{basename:e}=D.useContext(Jt),r=J1(),a=i.fetch,o=i.navigate;return D.useCallback(async(u,f={})=>{let{action:d,method:p,encType:m,formData:_,body:y}=hw(u,e);if(f.navigate===!1){let E=f.fetcherKey||xw();await a(E,r,f.action||d,{preventScrollReset:f.preventScrollReset,formData:_,body:y,formMethod:f.method||p,formEncType:f.encType||m,flushSync:f.flushSync})}else await o(f.action||d,{preventScrollReset:f.preventScrollReset,formData:_,body:y,formMethod:f.method||p,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,o,e,r])}function kw(i,{relative:e}={}){let{basename:r}=D.useContext(Jt),a=D.useContext(vn);Pe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...hl(i||".",{relative:e})},f=Pi();if(i==null){u.search=f.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let _=d.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:qn([r,u.pathname])),Ka(u)}function Uw(i,{relative:e}={}){let r=D.useContext(TE);Pe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xE("useViewTransitionState"),o=hl(i,{relative:e});if(!r.isTransitioning)return!1;let u=Fn(r.currentLocation.pathname,a)||r.currentLocation.pathname,f=Fn(r.nextLocation.pathname,a)||r.nextLocation.pathname;return au(o.pathname,f)!=null||au(o.pathname,u)!=null}function ht(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var zw=typeof Symbol=="function"&&Symbol.observable||"@@observable",Qy=zw,Mh=()=>Math.random().toString(36).substring(7).split("").join("."),Pw={INIT:`@@redux/INIT${Mh()}`,REPLACE:`@@redux/REPLACE${Mh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mh()}`},lu=Pw;function Md(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function LE(i,e,r){if(typeof i!="function")throw new Error(ht(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ht(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ht(1));return r(LE)(i,e)}let a=i,o=e,u=new Map,f=u,d=0,p=!1;function m(){f===u&&(f=new Map,u.forEach((z,H)=>{f.set(H,z)}))}function _(){if(p)throw new Error(ht(3));return o}function y(z){if(typeof z!="function")throw new Error(ht(4));if(p)throw new Error(ht(5));let H=!0;m();const j=d++;return f.set(j,z),function(){if(H){if(p)throw new Error(ht(6));H=!1,m(),f.delete(j),u=null}}}function E(z){if(!Md(z))throw new Error(ht(7));if(typeof z.type>"u")throw new Error(ht(8));if(typeof z.type!="string")throw new Error(ht(17));if(p)throw new Error(ht(9));try{p=!0,o=a(o,z)}finally{p=!1}return(u=f).forEach(j=>{j()}),z}function R(z){if(typeof z!="function")throw new Error(ht(10));a=z,E({type:lu.REPLACE})}function w(){const z=y;return{subscribe(H){if(typeof H!="object"||H===null)throw new Error(ht(11));function j(){const X=H;X.next&&X.next(_())}return j(),{unsubscribe:z(j)}},[Qy](){return this}}}return E({type:lu.INIT}),{dispatch:E,subscribe:y,getState:_,replaceReducer:R,[Qy]:w}}function Hw(i){Object.keys(i).forEach(e=>{const r=i[e];if(typeof r(void 0,{type:lu.INIT})>"u")throw new Error(ht(12));if(typeof r(void 0,{type:lu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ht(13))})}function Bw(i){const e=Object.keys(i),r={};for(let u=0;u<e.length;u++){const f=e[u];typeof i[f]=="function"&&(r[f]=i[f])}const a=Object.keys(r);let o;try{Hw(r)}catch(u){o=u}return function(f={},d){if(o)throw o;let p=!1;const m={};for(let _=0;_<a.length;_++){const y=a[_],E=r[y],R=f[y],w=E(R,d);if(typeof w>"u")throw d&&d.type,new Error(ht(14));m[y]=w,p=p||w!==R}return p=p||a.length!==Object.keys(f).length,p?m:f}}function ou(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,r)=>(...a)=>e(r(...a)))}function jw(...i){return e=>(r,a)=>{const o=e(r,a);let u=()=>{throw new Error(ht(15))};const f={getState:o.getState,dispatch:(p,...m)=>u(p,...m)},d=i.map(p=>p(f));return u=ou(...d)(o.dispatch),{...o,dispatch:u}}}function qw(i){return Md(i)&&"type"in i&&typeof i.type=="string"}var kE=Symbol.for("immer-nothing"),Xy=Symbol.for("immer-draftable"),Bt=Symbol.for("immer-state");function sn(i,...e){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Qa=Object.getPrototypeOf;function dr(i){return!!i&&!!i[Bt]}function Kn(i){return i?UE(i)||Array.isArray(i)||!!i[Xy]||!!i.constructor?.[Xy]||dl(i)||Hu(i):!1}var Vw=Object.prototype.constructor.toString(),Wy=new WeakMap;function UE(i){if(!i||typeof i!="object")return!1;const e=Object.getPrototypeOf(i);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=Wy.get(r);return a===void 0&&(a=Function.toString.call(r),Wy.set(r,a)),a===Vw}function uu(i,e,r=!0){Pu(i)===0?(r?Reflect.ownKeys(i):Object.keys(i)).forEach(o=>{e(o,i[o],i)}):i.forEach((a,o)=>e(o,a,i))}function Pu(i){const e=i[Bt];return e?e.type_:Array.isArray(i)?1:dl(i)?2:Hu(i)?3:0}function $h(i,e){return Pu(i)===2?i.has(e):Object.prototype.hasOwnProperty.call(i,e)}function zE(i,e,r){const a=Pu(i);a===2?i.set(e,r):a===3?i.add(r):i[e]=r}function Gw(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}function dl(i){return i instanceof Map}function Hu(i){return i instanceof Set}function or(i){return i.copy_||i.base_}function Jh(i,e){if(dl(i))return new Map(i);if(Hu(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const r=UE(i);if(e===!0||e==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(i);delete a[Bt];let o=Reflect.ownKeys(a);for(let u=0;u<o.length;u++){const f=o[u],d=a[f];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[f]={configurable:!0,writable:!0,enumerable:d.enumerable,value:i[f]})}return Object.create(Qa(i),a)}else{const a=Qa(i);if(a!==null&&r)return{...i};const o=Object.create(a);return Object.assign(o,i)}}function xd(i,e=!1){return Bu(i)||dr(i)||!Kn(i)||(Pu(i)>1&&Object.defineProperties(i,{set:Yo,add:Yo,clear:Yo,delete:Yo}),Object.freeze(i),e&&Object.values(i).forEach(r=>xd(r,!0))),i}function Yw(){sn(2)}var Yo={value:Yw};function Bu(i){return i===null||typeof i!="object"?!0:Object.isFrozen(i)}var Fw={};function pr(i){const e=Fw[i];return e||sn(0,i),e}var Xa;function PE(){return Xa}function Kw(i,e){return{drafts_:[],parent_:i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Zy(i,e){e&&(pr("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=e)}function ed(i){td(i),i.drafts_.forEach(Qw),i.drafts_=null}function td(i){i===Xa&&(Xa=i.parent_)}function $y(i){return Xa=Kw(Xa,i)}function Qw(i){const e=i[Bt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Jy(i,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return i!==void 0&&i!==r?(r[Bt].modified_&&(ed(e),sn(4)),Kn(i)&&(i=cu(e,i),e.parent_||fu(e,i)),e.patches_&&pr("Patches").generateReplacementPatches_(r[Bt].base_,i,e.patches_,e.inversePatches_)):i=cu(e,r,[]),ed(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),i!==kE?i:void 0}function cu(i,e,r){if(Bu(e))return e;const a=i.immer_.shouldUseStrictIteration(),o=e[Bt];if(!o)return uu(e,(u,f)=>ev(i,o,e,u,f,r),a),e;if(o.scope_!==i)return e;if(!o.modified_)return fu(i,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const u=o.copy_;let f=u,d=!1;o.type_===3&&(f=new Set(u),u.clear(),d=!0),uu(f,(p,m)=>ev(i,o,u,p,m,r,d),a),fu(i,u,!1),r&&i.patches_&&pr("Patches").generatePatches_(o,r,i.patches_,i.inversePatches_)}return o.copy_}function ev(i,e,r,a,o,u,f){if(o==null||typeof o!="object"&&!f)return;const d=Bu(o);if(!(d&&!f)){if(dr(o)){const p=u&&e&&e.type_!==3&&!$h(e.assigned_,a)?u.concat(a):void 0,m=cu(i,o,p);if(zE(r,a,m),dr(m))i.canAutoFreeze_=!1;else return}else f&&r.add(o);if(Kn(o)&&!d){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1||e&&e.base_&&e.base_[a]===o&&d)return;cu(i,o),(!e||!e.scope_.parent_)&&typeof a!="symbol"&&(dl(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&fu(i,o)}}}function fu(i,e,r=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&xd(e,r)}function Xw(i,e){const r=Array.isArray(i),a={type_:r?1:0,scope_:e?e.scope_:PE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=a,u=Ld;r&&(o=[a],u=Wa);const{revoke:f,proxy:d}=Proxy.revocable(o,u);return a.draft_=d,a.revoke_=f,d}var Ld={get(i,e){if(e===Bt)return i;const r=or(i);if(!$h(r,e))return Ww(i,r,e);const a=r[e];return i.finalized_||!Kn(a)?a:a===xh(i.base_,e)?(Lh(i),i.copy_[e]=id(a,i)):a},has(i,e){return e in or(i)},ownKeys(i){return Reflect.ownKeys(or(i))},set(i,e,r){const a=HE(or(i),e);if(a?.set)return a.set.call(i.draft_,r),!0;if(!i.modified_){const o=xh(or(i),e),u=o?.[Bt];if(u&&u.base_===r)return i.copy_[e]=r,i.assigned_[e]=!1,!0;if(Gw(r,o)&&(r!==void 0||$h(i.base_,e)))return!0;Lh(i),nd(i)}return i.copy_[e]===r&&(r!==void 0||e in i.copy_)||Number.isNaN(r)&&Number.isNaN(i.copy_[e])||(i.copy_[e]=r,i.assigned_[e]=!0),!0},deleteProperty(i,e){return xh(i.base_,e)!==void 0||e in i.base_?(i.assigned_[e]=!1,Lh(i),nd(i)):delete i.assigned_[e],i.copy_&&delete i.copy_[e],!0},getOwnPropertyDescriptor(i,e){const r=or(i),a=Reflect.getOwnPropertyDescriptor(r,e);return a&&{writable:!0,configurable:i.type_!==1||e!=="length",enumerable:a.enumerable,value:r[e]}},defineProperty(){sn(11)},getPrototypeOf(i){return Qa(i.base_)},setPrototypeOf(){sn(12)}},Wa={};uu(Ld,(i,e)=>{Wa[i]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wa.deleteProperty=function(i,e){return Wa.set.call(this,i,e,void 0)};Wa.set=function(i,e,r){return Ld.set.call(this,i[0],e,r,i[0])};function xh(i,e){const r=i[Bt];return(r?or(r):i)[e]}function Ww(i,e,r){const a=HE(e,r);return a?"value"in a?a.value:a.get?.call(i.draft_):void 0}function HE(i,e){if(!(e in i))return;let r=Qa(i);for(;r;){const a=Object.getOwnPropertyDescriptor(r,e);if(a)return a;r=Qa(r)}}function nd(i){i.modified_||(i.modified_=!0,i.parent_&&nd(i.parent_))}function Lh(i){i.copy_||(i.copy_=Jh(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Zw=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,a)=>{if(typeof e=="function"&&typeof r!="function"){const u=r;r=e;const f=this;return function(p=u,...m){return f.produce(p,_=>r.call(this,_,...m))}}typeof r!="function"&&sn(6),a!==void 0&&typeof a!="function"&&sn(7);let o;if(Kn(e)){const u=$y(this),f=id(e,void 0);let d=!0;try{o=r(f),d=!1}finally{d?ed(u):td(u)}return Zy(u,a),Jy(o,u)}else if(!e||typeof e!="object"){if(o=r(e),o===void 0&&(o=e),o===kE&&(o=void 0),this.autoFreeze_&&xd(o,!0),a){const u=[],f=[];pr("Patches").generateReplacementPatches_(e,o,u,f),a(u,f)}return o}else sn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(f,...d)=>this.produceWithPatches(f,p=>e(p,...d));let a,o;return[this.produce(e,r,(f,d)=>{a=f,o=d}),a,o]},typeof i?.autoFreeze=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof i?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy),typeof i?.useStrictIteration=="boolean"&&this.setUseStrictIteration(i.useStrictIteration)}createDraft(i){Kn(i)||sn(8),dr(i)&&(i=$w(i));const e=$y(this),r=id(i,void 0);return r[Bt].isManual_=!0,td(e),r}finishDraft(i,e){const r=i&&i[Bt];(!r||!r.isManual_)&&sn(9);const{scope_:a}=r;return Zy(a,e),Jy(void 0,a)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}setUseStrictIteration(i){this.useStrictIteration_=i}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(i,e){let r;for(r=e.length-1;r>=0;r--){const o=e[r];if(o.path.length===0&&o.op==="replace"){i=o.value;break}}r>-1&&(e=e.slice(r+1));const a=pr("Patches").applyPatches_;return dr(i)?a(i,e):this.produce(i,o=>a(o,e))}};function id(i,e){const r=dl(i)?pr("MapSet").proxyMap_(i,e):Hu(i)?pr("MapSet").proxySet_(i,e):Xw(i,e);return(e?e.scope_:PE()).drafts_.push(r),r}function $w(i){return dr(i)||sn(10,i),BE(i)}function BE(i){if(!Kn(i)||Bu(i))return i;const e=i[Bt];let r,a=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Jh(i,e.scope_.immer_.useStrictShallowCopy_),a=e.scope_.immer_.shouldUseStrictIteration()}else r=Jh(i,!0);return uu(r,(o,u)=>{zE(r,o,BE(u))},a),e&&(e.finalized_=!1),r}var Jw=new Zw,jE=Jw.produce;function qE(i){return({dispatch:r,getState:a})=>o=>u=>typeof u=="function"?u(r,a,i):o(u)}var eR=qE(),tR=qE,nR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ou:ou.apply(null,arguments)},iR=i=>i&&typeof i.match=="function";function Pa(i,e){function r(...a){if(e){let o=e(...a);if(!o)throw new Error(Vn(0));return{type:i,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:i,payload:a[0]}}return r.toString=()=>`${i}`,r.type=i,r.match=a=>qw(a)&&a.type===i,r}var VE=class ka extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ka.prototype)}static get[Symbol.species](){return ka}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ka(...e[0].concat(this)):new ka(...e.concat(this))}};function tv(i){return Kn(i)?jE(i,()=>{}):i}function Fo(i,e,r){return i.has(e)?i.get(e):i.set(e,r(e)).get(e)}function rR(i){return typeof i=="boolean"}var sR=()=>function(e){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let f=new VE;return r&&(rR(r)?f.push(eR):f.push(tR(r.extraArgument))),f},aR="RTK_autoBatch",nv=i=>e=>{setTimeout(e,i)},lR=(i={type:"raf"})=>e=>(...r)=>{const a=e(...r);let o=!0,u=!1,f=!1;const d=new Set,p=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nv(10):i.type==="callback"?i.queueNotification:nv(i.timeout),m=()=>{f=!1,u&&(u=!1,d.forEach(_=>_()))};return Object.assign({},a,{subscribe(_){const y=()=>o&&_(),E=a.subscribe(y);return d.add(_),()=>{E(),d.delete(_)}},dispatch(_){try{return o=!_?.meta?.[aR],u=!o,u&&(f||(f=!0,p(m))),a.dispatch(_)}finally{o=!0}}})},oR=i=>function(r){const{autoBatch:a=!0}=r??{};let o=new VE(i);return a&&o.push(lR(typeof a=="object"?a:void 0)),o};function uR(i){const e=sR(),{reducer:r=void 0,middleware:a,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=i||{};let d;if(typeof r=="function")d=r;else if(Md(r))d=Bw(r);else throw new Error(Vn(1));let p;typeof a=="function"?p=a(e):p=e();let m=ou;o&&(m=nR({trace:!1,...typeof o=="object"&&o}));const _=jw(...p),y=oR(_);let E=typeof f=="function"?f(y):y();const R=m(...E);return LE(d,u,R)}function GE(i){const e={},r=[];let a;const o={addCase(u,f){const d=typeof u=="string"?u:u.type;if(!d)throw new Error(Vn(28));if(d in e)throw new Error(Vn(29));return e[d]=f,o},addAsyncThunk(u,f){return f.pending&&(e[u.pending.type]=f.pending),f.rejected&&(e[u.rejected.type]=f.rejected),f.fulfilled&&(e[u.fulfilled.type]=f.fulfilled),f.settled&&r.push({matcher:u.settled,reducer:f.settled}),o},addMatcher(u,f){return r.push({matcher:u,reducer:f}),o},addDefaultCase(u){return a=u,o}};return i(o),[e,r,a]}function cR(i){return typeof i=="function"}function fR(i,e){let[r,a,o]=GE(e),u;if(cR(i))u=()=>tv(i());else{const d=tv(i);u=()=>d}function f(d=u(),p){let m=[r[p.type],...a.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return m.filter(_=>!!_).length===0&&(m=[o]),m.reduce((_,y)=>{if(y)if(dr(_)){const R=y(_,p);return R===void 0?_:R}else{if(Kn(_))return jE(_,E=>y(E,p));{const E=y(_,p);if(E===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return _},d)}return f.getInitialState=u,f}var hR=(i,e)=>iR(i)?i.match(e):i(e);function dR(...i){return e=>i.some(r=>hR(r,e))}var pR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mR=(i=21)=>{let e="",r=i;for(;r--;)e+=pR[Math.random()*64|0];return e},gR=["name","message","stack","code"],kh=class{constructor(i,e){this.payload=i,this.meta=e}_type},iv=class{constructor(i,e){this.payload=i,this.meta=e}_type},_R=i=>{if(typeof i=="object"&&i!==null){const e={};for(const r of gR)typeof i[r]=="string"&&(e[r]=i[r]);return e}return{message:String(i)}},rv="External signal was aborted",kd=(()=>{function i(e,r,a){const o=Pa(e+"/fulfilled",(p,m,_,y)=>({payload:p,meta:{...y||{},arg:_,requestId:m,requestStatus:"fulfilled"}})),u=Pa(e+"/pending",(p,m,_)=>({payload:void 0,meta:{..._||{},arg:m,requestId:p,requestStatus:"pending"}})),f=Pa(e+"/rejected",(p,m,_,y,E)=>({payload:y,error:(a&&a.serializeError||_R)(p||"Rejected"),meta:{...E||{},arg:_,requestId:m,rejectedWithValue:!!y,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function d(p,{signal:m}={}){return(_,y,E)=>{const R=a?.idGenerator?a.idGenerator(p):mR(),w=new AbortController;let P,z;function H(B){z=B,w.abort()}m&&(m.aborted?H(rv):m.addEventListener("abort",()=>H(rv),{once:!0}));const j=(async function(){let B;try{let Z=a?.condition?.(p,{getState:y,extra:E});if(vR(Z)&&(Z=await Z),Z===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const le=new Promise((Y,oe)=>{P=()=>{oe({name:"AbortError",message:z||"Aborted"})},w.signal.addEventListener("abort",P)});_(u(R,p,a?.getPendingMeta?.({requestId:R,arg:p},{getState:y,extra:E}))),B=await Promise.race([le,Promise.resolve(r(p,{dispatch:_,getState:y,extra:E,requestId:R,signal:w.signal,abort:H,rejectWithValue:(Y,oe)=>new kh(Y,oe),fulfillWithValue:(Y,oe)=>new iv(Y,oe)})).then(Y=>{if(Y instanceof kh)throw Y;return Y instanceof iv?o(Y.payload,R,p,Y.meta):o(Y,R,p)})])}catch(Z){B=Z instanceof kh?f(null,R,p,Z.payload,Z.meta):f(Z,R,p)}finally{P&&w.signal.removeEventListener("abort",P)}return a&&!a.dispatchConditionRejection&&f.match(B)&&B.meta.condition||_(B),B})();return Object.assign(j,{abort:H,requestId:R,arg:p,unwrap(){return j.then(yR)}})}}return Object.assign(d,{pending:u,rejected:f,fulfilled:o,settled:dR(f,o),typePrefix:e})}return i.withTypes=()=>i,i})();function yR(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function vR(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var ER=Symbol.for("rtk-slice-createasyncthunk");function SR(i,e){return`${i}/${e}`}function bR({creators:i}={}){const e=i?.asyncThunk?.[ER];return function(a){const{name:o,reducerPath:u=o}=a;if(!o)throw new Error(Vn(11));const f=(typeof a.reducers=="function"?a.reducers(wR()):a.reducers)||{},d=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(B,X){const Z=typeof B=="string"?B:B.type;if(!Z)throw new Error(Vn(12));if(Z in p.sliceCaseReducersByType)throw new Error(Vn(13));return p.sliceCaseReducersByType[Z]=X,m},addMatcher(B,X){return p.sliceMatchers.push({matcher:B,reducer:X}),m},exposeAction(B,X){return p.actionCreators[B]=X,m},exposeCaseReducer(B,X){return p.sliceCaseReducersByName[B]=X,m}};d.forEach(B=>{const X=f[B],Z={reducerName:B,type:SR(o,B),createNotation:typeof a.reducers=="function"};AR(X)?OR(Z,X,m,e):RR(Z,X,m)});function _(){const[B={},X=[],Z=void 0]=typeof a.extraReducers=="function"?GE(a.extraReducers):[a.extraReducers],le={...B,...p.sliceCaseReducersByType};return fR(a.initialState,Y=>{for(let oe in le)Y.addCase(oe,le[oe]);for(let oe of p.sliceMatchers)Y.addMatcher(oe.matcher,oe.reducer);for(let oe of X)Y.addMatcher(oe.matcher,oe.reducer);Z&&Y.addDefaultCase(Z)})}const y=B=>B,E=new Map,R=new WeakMap;let w;function P(B,X){return w||(w=_()),w(B,X)}function z(){return w||(w=_()),w.getInitialState()}function H(B,X=!1){function Z(Y){let oe=Y[B];return typeof oe>"u"&&X&&(oe=Fo(R,Z,z)),oe}function le(Y=y){const oe=Fo(E,X,()=>new WeakMap);return Fo(oe,Y,()=>{const Ye={};for(const[Je,st]of Object.entries(a.selectors??{}))Ye[Je]=CR(st,Y,()=>Fo(R,Y,z),X);return Ye})}return{reducerPath:B,getSelectors:le,get selectors(){return le(Z)},selectSlice:Z}}const j={name:o,reducer:P,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:z,...H(u),injectInto(B,{reducerPath:X,...Z}={}){const le=X??u;return B.inject({reducerPath:le,reducer:P},Z),{...j,...H(le,!0)}}};return j}}function CR(i,e,r,a){function o(u,...f){let d=e(u);return typeof d>"u"&&a&&(d=r()),i(d,...f)}return o.unwrapped=i,o}var TR=bR();function wR(){function i(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return i.withTypes=()=>i,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:i}}function RR({type:i,reducerName:e,createNotation:r},a,o){let u,f;if("reducer"in a){if(r&&!NR(a))throw new Error(Vn(17));u=a.reducer,f=a.prepare}else u=a;o.addCase(i,u).exposeCaseReducer(e,u).exposeAction(e,f?Pa(i,f):Pa(i))}function AR(i){return i._reducerDefinitionType==="asyncThunk"}function NR(i){return i._reducerDefinitionType==="reducerWithPrepare"}function OR({type:i,reducerName:e},r,a,o){if(!o)throw new Error(Vn(18));const{payloadCreator:u,fulfilled:f,pending:d,rejected:p,settled:m,options:_}=r,y=o(i,u,_);a.exposeAction(e,y),f&&a.addCase(y.fulfilled,f),d&&a.addCase(y.pending,d),p&&a.addCase(y.rejected,p),m&&a.addMatcher(y.settled,m),a.exposeCaseReducer(e,{fulfilled:f||Ko,pending:d||Ko,rejected:p||Ko,settled:m||Ko})}function Ko(){}function Vn(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const DR=()=>{};var sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(i,e){if(!i)throw ws(e)},ws=function(i){return new Error("Firebase Database ("+YE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},IR=function(i){const e=[];let r=0,a=0;for(;r<i.length;){const o=i[r++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],f=i[r++],d=i[r++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],f=i[r++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Ud={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,d=f?i[o+1]:0,p=o+2<i.length,m=p?i[o+2]:0,_=u>>2,y=(u&3)<<4|d>>4;let E=(d&15)<<2|m>>6,R=m&63;p||(R=64,f||(E=64)),a.push(r[_],r[y],r[E],r[R])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(FE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):IR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],d=o<i.length?r[i.charAt(o)]:0;++o;const m=o<i.length?r[i.charAt(o)]:64;++o;const y=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||d==null||m==null||y==null)throw new MR;const E=u<<2|d>>4;if(a.push(E),m!==64){const R=d<<4&240|m>>2;if(a.push(R),y!==64){const w=m<<6&192|y;a.push(w)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class MR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(i){const e=FE(i);return Ud.encodeByteArray(e,!0)},hu=function(i){return KE(i).replace(/\./g,"")},du=function(i){try{return Ud.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(i){return QE(void 0,i)}function QE(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!LR(r)||(i[r]=QE(i[r],e[r]));return i}function LR(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=()=>kR().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process>"u"||typeof sv>"u")return;const i=sv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},PR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&du(i[1]);return e&&JSON.parse(e)},zd=()=>{try{return DR()||UR()||zR()||PR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},XE=i=>zd()?.emulatorHosts?.[i],HR=i=>{const e=XE(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),a]:[e.substring(0,r),a]},WE=()=>zd()?.config,ZE=i=>zd()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[hu(JSON.stringify(r)),hu(JSON.stringify(f)),""].join(".")}const Ha={};function jR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ha))Ha[e]?i.emulator.push(e):i.prod.push(e);return i}function qR(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let av=!1;function JE(i,e){if(typeof window>"u"||typeof document>"u"||!Rs(window.location.host)||Ha[i]===e||Ha[i]||av)return;Ha[i]=e;function r(E){return`__firebase__banner__${E}`}const a="__firebase__banner",u=jR().prod.length>0;function f(){const E=document.getElementById(a);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{av=!0,f()},E}function _(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=qR(a),R=r("text"),w=document.getElementById(R)||document.createElement("span"),P=r("learnmore"),z=document.getElementById(P)||document.createElement("a"),H=r("preprendIcon"),j=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;d(B),_(z,P);const X=m();p(j,H),B.append(j,w,z,X),document.body.appendChild(B)}u?(w.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const i=vt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function FR(){return YE.NODE_ADMIN===!0}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function QR(){return new Promise((i,e)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="FirebaseError";class Hi extends Error{constructor(e,r,a){super(r),this.code=e,this.customData=a,this.name=XR,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,r,a){this.service=e,this.serviceName=r,this.errors=a}create(e,...r){const a=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?WR(u,a):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Hi(o,d,a)}}function WR(i,e){return i.replace(ZR,(r,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ZR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(i){return JSON.parse(i)}function Ze(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=function(i){let e={},r={},a={},o="";try{const u=i.split(".");e=Za(du(u[0])||""),r=Za(du(u[1])||""),o=u[2],a=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:a,signature:o}},$R=function(i){const e=tS(i),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},JR=function(i){const e=tS(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function _s(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function rd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function pu(i,e,r){const a={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=e.call(r,i[o],o,i));return a}function mr(i,e){if(i===e)return!0;const r=Object.keys(i),a=Object.keys(e);for(const o of r){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(lv(u)&&lv(f)){if(!mr(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!r.includes(o))return!1;return!0}function lv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(i){const e=[];for(const[r,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ua(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function za(i){const e=i.indexOf("?");if(!e)return"";const r=i.indexOf("#",e);return i.substring(e,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const a=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)a[y]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let y=0;y<16;y++)a[y]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let y=16;y<80;y++){const E=a[y-3]^a[y-8]^a[y-14]^a[y-16];a[y]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=d^u&(f^d),_=1518500249):(m=u^f^d,_=1859775393):y<60?(m=u&f|d&(u|f),_=2400959708):(m=u^f^d,_=3395469782);const E=(o<<5|o>>>27)+m+p+_+a[y]&4294967295;p=d,d=f,f=(u<<30|u>>>2)&4294967295,u=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const a=r-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<r;){if(f===0)for(;o<=a;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<r;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<r;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=r&255,r/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[o]>>u&255,++a;return e}}function tA(i,e){const r=new nA(i,e);return r.subscribe.bind(r)}class nA{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,a){let o;if(e===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");iA(e,["next","error","complete"])?o=e:o={next:e,error:r,complete:a},o.next===void 0&&(o.next=Uh),o.error===void 0&&(o.error=Uh),o.complete===void 0&&(o.complete=Uh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(i,e){if(typeof i!="object"||i===null)return!1;for(const r of e)if(r in i&&typeof i[r]=="function")return!0;return!1}function Uh(){}function Hd(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=function(i){const e=[];let r=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);if(o>=55296&&o<=56319){const u=o-55296;a++,q(a<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(a)-56320;o=65536+(u<<10)+f}o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):o<65536?(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},qu=function(i){let e=0;for(let r=0;r<i.length;r++){const a=i.charCodeAt(r);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(i){return i&&i._delegate?i._delegate:i}class gr{constructor(e,r,a){this.name=e,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const a=new ju;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&f.resolve(o)}return o}onInit(e,r){const a=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const a=this.onInitCallbacks.get(r);if(a)for(const o of a)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:r}),this.instances.set(e,a),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(i){return i===ur?void 0:i}function lA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new sA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const uA={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},cA=Oe.INFO,fA={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},hA=(i,e,...r)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=fA[e];if(o)console[o](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bd{constructor(e){this.name=e,this._logLevel=cA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const dA=(i,e)=>e.some(r=>i instanceof r);let ov,uv;function pA(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,sd=new WeakMap,iS=new WeakMap,zh=new WeakMap,jd=new WeakMap;function gA(i){const e=new Promise((r,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(Oi(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&nS.set(r,i)}).catch(()=>{}),jd.set(e,i),e}function _A(i){if(sd.has(i))return;const e=new Promise((r,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});sd.set(i,e)}let ad={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return sd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iS.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Oi(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function yA(i){ad=i(ad)}function vA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const a=i.call(Ph(this),e,...r);return iS.set(a,e.sort?e.sort():[e]),Oi(a)}:mA().includes(i)?function(...e){return i.apply(Ph(this),e),Oi(nS.get(this))}:function(...e){return Oi(i.apply(Ph(this),e))}}function EA(i){return typeof i=="function"?vA(i):(i instanceof IDBTransaction&&_A(i),dA(i,pA())?new Proxy(i,ad):i)}function Oi(i){if(i instanceof IDBRequest)return gA(i);if(zh.has(i))return zh.get(i);const e=EA(i);return e!==i&&(zh.set(i,e),jd.set(e,i)),e}const Ph=i=>jd.get(i);function SA(i,e,{blocked:r,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),d=Oi(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Oi(f.result),p.oldVersion,p.newVersion,Oi(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const bA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Hh=new Map;function cv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Hh.get(e))return Hh.get(e);const r=e.replace(/FromIndex$/,""),a=e!==r,o=CA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(o||bA.includes(r)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let m=p.store;return a&&(m=m.index(d.shift())),(await Promise.all([m[r](...d),o&&p.done]))[0]};return Hh.set(e,u),u}yA(i=>({...i,get:(e,r,a)=>cv(e,r)||i.get(e,r,a),has:(e,r)=>!!cv(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wA(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function wA(i){return i.getComponent()?.type==="VERSION"}const ld="@firebase/app",fv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Bd("@firebase/app"),RA="@firebase/app-compat",AA="@firebase/analytics-compat",NA="@firebase/analytics",OA="@firebase/app-check-compat",DA="@firebase/app-check",IA="@firebase/auth",MA="@firebase/auth-compat",xA="@firebase/database",LA="@firebase/data-connect",kA="@firebase/database-compat",UA="@firebase/functions",zA="@firebase/functions-compat",PA="@firebase/installations",HA="@firebase/installations-compat",BA="@firebase/messaging",jA="@firebase/messaging-compat",qA="@firebase/performance",VA="@firebase/performance-compat",GA="@firebase/remote-config",YA="@firebase/remote-config-compat",FA="@firebase/storage",KA="@firebase/storage-compat",QA="@firebase/firestore",XA="@firebase/ai",WA="@firebase/firestore-compat",ZA="firebase",$A="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",JA={[ld]:"fire-core",[RA]:"fire-core-compat",[NA]:"fire-analytics",[AA]:"fire-analytics-compat",[DA]:"fire-app-check",[OA]:"fire-app-check-compat",[IA]:"fire-auth",[MA]:"fire-auth-compat",[xA]:"fire-rtdb",[LA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[UA]:"fire-fn",[zA]:"fire-fn-compat",[PA]:"fire-iid",[HA]:"fire-iid-compat",[BA]:"fire-fcm",[jA]:"fire-fcm-compat",[qA]:"fire-perf",[VA]:"fire-perf-compat",[GA]:"fire-rc",[YA]:"fire-rc-compat",[FA]:"fire-gcs",[KA]:"fire-gcs-compat",[QA]:"fire-fst",[WA]:"fire-fst-compat",[XA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,eN=new Map,ud=new Map;function hv(i,e){try{i.container.addComponent(e)}catch(r){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function ys(i){const e=i.name;if(ud.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,i);for(const r of mu.values())hv(r,i);for(const r of eN.values())hv(r,i);return!0}function qd(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function Zt(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new pl("app","Firebase",tN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,r,a){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=$A;function rS(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const a={name:od,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(r||(r=WE()),!r)throw Di.create("no-options");const u=mu.get(o);if(u){if(mr(r,u.options)&&mr(a,u.config))return u;throw Di.create("duplicate-app",{appName:o})}const f=new oA(o);for(const p of ud.values())f.addComponent(p);const d=new nN(r,a,f);return mu.set(o,d),d}function sS(i=od){const e=mu.get(i);if(!e&&i===od&&WE())return rS();if(!e)throw Di.create("no-app",{appName:i});return e}function Ii(i,e,r){let a=JA[i]??i;r&&(a+=`-${r}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(f.join(" "));return}ys(new gr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",rN=1,$a="firebase-heartbeat-store";let Bh=null;function aS(){return Bh||(Bh=SA(iN,rN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($a)}catch(r){console.warn(r)}}}}).catch(i=>{throw Di.create("idb-open",{originalErrorMessage:i.message})})),Bh}async function sN(i){try{const r=(await aS()).transaction($a),a=await r.objectStore($a).get(lS(i));return await r.done,a}catch(e){if(e instanceof Hi)Qn.warn(e.message);else{const r=Di.create("idb-get",{originalErrorMessage:e?.message});Qn.warn(r.message)}}}async function dv(i,e){try{const a=(await aS()).transaction($a,"readwrite");await a.objectStore($a).put(e,lS(i)),await a.done}catch(r){if(r instanceof Hi)Qn.warn(r.message);else{const a=Di.create("idb-set",{originalErrorMessage:r?.message});Qn.warn(a.message)}}}function lS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1024,lN=30;class oN{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new cN(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>lN){const o=fN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pv(),{heartbeatsToSend:r,unsentEntries:a}=uN(this._heartbeatsCache.heartbeats),o=hu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qn.warn(e),""}}}function pv(){return new Date().toISOString().substring(0,10)}function uN(i,e=aN){const r=[];let a=i.slice();for(const o of i){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),mv(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),mv(r)>e){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class cN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?QR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await sN(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function mv(i){return hu(JSON.stringify({version:2,heartbeats:i})).length}function fN(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(i){ys(new gr("platform-logger",e=>new TA(e),"PRIVATE")),ys(new gr("heartbeat",e=>new oN(e),"PRIVATE")),Ii(ld,fv,i),Ii(ld,fv,"esm2020"),Ii("fire-js","")}hN("");var gv={};const _v="@firebase/database",yv="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oS="";function dN(i){oS=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:Za(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return Zn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pN(e)}}catch{}return new mN},fr=uS("localStorage"),gN=uS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Bd("@firebase/database"),_N=(function(){let i=1;return function(){return i++}})(),cS=function(i){const e=rA(i),r=new eA;r.update(e);const a=r.digest();return Ud.encodeByteArray(a)},ml=function(...i){let e="";for(let r=0;r<i.length;r++){const a=i[r];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=ml.apply(null,a):typeof a=="object"?e+=Ze(a):e+=a,e+=" "}return e};let Ba=null,vv=!0;const yN=function(i,e){q(!0,"Can't turn on custom loggers persistently."),hs.logLevel=Oe.VERBOSE,Ba=hs.log.bind(hs)},pt=function(...i){if(vv===!0&&(vv=!1,Ba===null&&gN.get("logging_enabled")===!0&&yN()),Ba){const e=ml.apply(null,i);Ba(e)}},gl=function(i){return function(...e){pt(i,...e)}},cd=function(...i){const e="FIREBASE INTERNAL ERROR: "+ml(...i);hs.error(e)},Xn=function(...i){const e=`FIREBASE FATAL ERROR: ${ml(...i)}`;throw hs.error(e),new Error(e)},Nt=function(...i){const e="FIREBASE WARNING: "+ml(...i);hs.warn(e)},vN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fS=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},EN=function(i){if(document.readyState==="complete")i();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},vs="[MIN_NAME]",_r="[MAX_NAME]",Os=function(i,e){if(i===e)return 0;if(i===vs||e===_r)return-1;if(e===vs||i===_r)return 1;{const r=Ev(i),a=Ev(e);return r!==null?a!==null?r-a===0?i.length-e.length:r-a:-1:a!==null?1:i<e?-1:1}},SN=function(i,e){return i===e?0:i<e?-1:1},Da=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Ze(e))},Vd=function(i){if(typeof i!="object"||i===null)return Ze(i);const e=[];for(const a in i)e.push(a);e.sort();let r="{";for(let a=0;a<e.length;a++)a!==0&&(r+=","),r+=Ze(e[a]),r+=":",r+=Vd(i[e[a]]);return r+="}",r},hS=function(i,e){const r=i.length;if(r<=e)return[i];const a=[];for(let o=0;o<r;o+=e)o+e>r?a.push(i.substring(o,r)):a.push(i.substring(o,o+e));return a};function Ot(i,e){for(const r in i)i.hasOwnProperty(r)&&e(r,i[r])}const dS=function(i){q(!fS(i),"Invalid JSON number");const e=11,r=52,a=(1<<e-1)-1;let o,u,f,d,p;i===0?(u=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(i)/Math.LN2),a),u=d+a,f=Math.round(i*Math.pow(2,r-d)-Math.pow(2,r))):(u=0,f=Math.round(i/Math.pow(2,1-a-r))));const m=[];for(p=r;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(o?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(_.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},bN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TN(i,e){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const a=new Error(i+" at "+e._path.toString()+": "+r);return a.code=i.toUpperCase(),a}const wN=new RegExp("^-?(0*)\\d{1,10}$"),RN=-2147483648,AN=2147483647,Ev=function(i){if(wN.test(i)){const e=Number(i);if(e>=RN&&e<=AN)return e}return null},Ds=function(i){try{i()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Nt("Exception was thrown by user callback.",r),e},Math.floor(0))}},NN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ja=function(i,e){const r=setTimeout(i,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,Zt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r?.getImmediate({optional:!0}),this.appCheck||r?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,a):r(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,r,a){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,a):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(e)}}class Jo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Jo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="5",pS="v",mS="s",gS="r",_S="f",yS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vS="ls",ES="p",fd="ac",SS="websocket",bS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,r,a,o,u=!1,f="",d=!1,p=!1,m=null){this.secure=r,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function IN(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function TS(i,e,r){q(typeof e=="string","typeof type must == string"),q(typeof r=="object","typeof params must == object");let a;if(e===SS)a=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===bS)a=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);IN(i)&&(r.ns=i.namespace);const o=[];return Ot(r,(u,f)=>{o.push(u+"="+f)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.counters_={}}incrementCounter(e,r=1){Zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return xR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh={},qh={};function Yd(i){const e=i.toString();return jh[e]||(jh[e]=new MN),jh[e]}function xN(i,e){const r=i.toString();return qh[r]||(qh[r]=e()),qh[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&Ds(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="start",kN="close",UN="pLPCommand",zN="pRTLPCB",wS="id",RS="pw",AS="ser",PN="cb",HN="seg",BN="ts",jN="d",qN="dframe",NS=1870,OS=30,VN=NS-OS,GN=25e3,YN=3e4;class cs{constructor(e,r,a,o,u,f,d){this.connId=e,this.repoInfo=r,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(e),this.stats_=Yd(r),this.urlFn=p=>(this.appCheckToken&&(p[fd]=this.appCheckToken),TS(r,bS,p))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new LN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YN)),EN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fd((...u)=>{const[f,d,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Sv)this.id=d,this.password=p;else if(f===kN)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[Sv]="t",a[AS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[PN]=this.scriptTagHolder.uniqueCallbackIdentifier),a[pS]=Gd,this.transportSessionId&&(a[mS]=this.transportSessionId),this.lastSessionId&&(a[vS]=this.lastSessionId),this.applicationId&&(a[ES]=this.applicationId),this.appCheckToken&&(a[fd]=this.appCheckToken),typeof location<"u"&&location.hostname&&yS.test(location.hostname)&&(a[gS]=_S);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cs.forceAllow_=!0}static forceDisallow(){cs.forceDisallow_=!0}static isAvailable(){return cs.forceAllow_?!0:!cs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bN()&&!CN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Ze(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=KE(r),o=hS(a,VN);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const a={};a[qN]="t",a[wS]=e,a[RS]=r,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Ze(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Fd{constructor(e,r,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_N(),window[UN+this.uniqueCallbackIdentifier]=e,window[zN+this.uniqueCallbackIdentifier]=r,this.myIFrame=Fd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){pt("frame writing exception"),d.stack&&pt(d.stack),pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[wS]=this.myID,e[RS]=this.myPW,e[AS]=this.currentSerial;let r=this.urlFn(e),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OS+a.length<=NS;){const f=this.pendingSegs.shift();a=a+"&"+HN+o+"="+f.seg+"&"+BN+o+"="+f.ts+"&"+jN+o+"="+f.d,o++}return r=r+a,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,a){this.pendingSegs.push({seg:e,ts:r,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const a=()=>{this.outstandingRequests.delete(r),this.newRequest_()},o=setTimeout(a,Math.floor(GN)),u=()=>{clearTimeout(o),a()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),r())},a.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=16384,KN=45e3;let gu=null;typeof MozWebSocket<"u"?gu=MozWebSocket:typeof WebSocket<"u"&&(gu=WebSocket);class an{constructor(e,r,a,o,u,f,d){this.connId=e,this.applicationId=a,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=Yd(r),this.connURL=an.connectionURL_(r,f,d,o,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,o,u){const f={};return f[pS]=Gd,typeof location<"u"&&location.hostname&&yS.test(location.hostname)&&(f[gS]=_S),r&&(f[mS]=r),a&&(f[vS]=a),o&&(f[fd]=o),u&&(f[ES]=u),TS(e,SS,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fr.set("previous_websocket_failure",!0);try{let a;FR(),this.mySock=new gu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(r);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&gu!==null&&!an.forceDisallow_}static previouslyFailed(){return fr.isInMemoryStorage||fr.get("previous_websocket_failure")===!0}markConnectionHealthy(){fr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=Za(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=Ze(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=hS(r,FN);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KN))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static get ALL_TRANSPORTS(){return[cs,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=an&&an.isAvailable();let a=r&&!an.previouslyFailed();if(e.webSocketOnly&&(r||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[an];else{const o=this.transports_=[];for(const u of Ja.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Ja.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ja.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=6e4,XN=5e3,WN=10*1024,ZN=100*1024,Vh="t",bv="d",$N="s",Cv="r",JN="e",Tv="o",wv="a",Rv="n",Av="p",eO="h";class tO{constructor(e,r,a,o,u,f,d,p,m,_){this.id=e,this.repoInfo_=r,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new Ja(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,a)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=ja(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ZN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vh in e){const r=e[Vh];r===wv?this.upgradeIfSecondaryHealthy_():r===Cv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Tv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Da("t",e),a=Da("d",e);if(r==="c")this.onSecondaryControl_(a);else if(r==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Av,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Rv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Da("t",e),a=Da("d",e);r==="c"?this.onControl_(a):r==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Da(Vh,e);if(bv in e){const a=e[bv];if(r===eO){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(r===Rv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===$N?this.onConnectionShutdown_(a):r===Cv?this.onReset_(a):r===JN?cd("Server Error: "+a):r===Tv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cd("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,a=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Gd!==a&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,a),ja(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(QN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ja(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(XN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Av,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{put(e,r,a,o){}merge(e,r,a,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,a){}onDisconnectMerge(e,r,a){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,r)}}on(e,r,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:a});const o=this.getInitialEvent(e);o&&r.apply(a,o)}off(e,r,a){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===r&&(!a||a===o[u].context)){o.splice(u,1);return}}validateEventType_(e){q(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends IS{static getInstance(){return new _u}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=32,Ov=768;class Me{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Ee(){return new Me("")}function ge(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function ki(i){return i.pieces_.length-i.pieceNum_}function xe(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Me(i.pieces_,e)}function MS(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function nO(i){let e="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[r])));return e||"/"}function xS(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function LS(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)e.push(i.pieces_[r]);return new Me(e,0)}function $e(i,e){const r=[];for(let a=i.pieceNum_;a<i.pieces_.length;a++)r.push(i.pieces_[a]);if(e instanceof Me)for(let a=e.pieceNum_;a<e.pieces_.length;a++)r.push(e.pieces_[a]);else{const a=e.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&r.push(a[o])}return new Me(r,0)}function de(i){return i.pieceNum_>=i.pieces_.length}function yt(i,e){const r=ge(i),a=ge(e);if(r===null)return e;if(r===a)return yt(xe(i),xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function kS(i,e){if(ki(i)!==ki(e))return!1;for(let r=i.pieceNum_,a=e.pieceNum_;r<=i.pieces_.length;r++,a++)if(i.pieces_[r]!==e.pieces_[a])return!1;return!0}function ln(i,e){let r=i.pieceNum_,a=e.pieceNum_;if(ki(i)>ki(e))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==e.pieces_[a])return!1;++r,++a}return!0}class iO{constructor(e,r){this.errorPrefix_=r,this.parts_=xS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=qu(this.parts_[a]);US(this)}}function rO(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=qu(e),US(i)}function sO(i){const e=i.parts_.pop();i.byteLength_-=qu(e),i.parts_.length>0&&(i.byteLength_-=1)}function US(i){if(i.byteLength_>Ov)throw new Error(i.errorPrefix_+"has a key path longer than "+Ov+" bytes ("+i.byteLength_+").");if(i.parts_.length>Nv)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nv+") or object contains a cycle "+cr(i))}function cr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends IS{static getInstance(){return new Kd}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=1e3,aO=300*1e3,Dv=30*1e3,lO=1.3,oO=3e4,uO="server_kill",Iv=3;class Gn extends DS{constructor(e,r,a,o,u,f,d,p){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Gn.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ia,this.maxReconnectDelay_=aO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_u.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const o=++this.requestNumber_,u={r:o,a:e,b:r};this.log_(Ze(u)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[o]=a)}get(e){this.initConnection_();const r=new ju,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?r.resolve(d):r.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,a,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:r,query:e,tag:a};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+a+" for "+o);const u={p:a},f="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,m=d.s;Gn.warnOnListenWarnings_(p,r),(this.listens.get(a)&&this.listens.get(a).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(a,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&Zn(e,"w")){const a=_s(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||JR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Dv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=$R(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(r,a,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,e._queryObject,r)}sendUnlisten_(e,r,a,o){this.log_("Unlisten on "+e+" for "+r);const u={p:e},f="n";o&&(u.q=a,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,o){const u={p:r,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,r,a,o){this.putInternal("p",e,r,a,o)}merge(e,r,a,o){this.putInternal("m",e,r,a,o)}putInternal(e,r,a,o,u){this.initConnection_();const f={p:r,d:a};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ze(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):cd("Unrecognized action received from server: "+Ze(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ia,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ia,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oO&&(this.reconnectDelay_=Ia),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Gn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,a())},m=function(y){q(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,d=new tO(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,a,R=>{Nt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(uO)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&Nt(y),p())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],rd(this.interruptReasons_)&&(this.reconnectDelay_=Ia,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;r?a=r.map(u=>Vd(u)).join("$"):a="default";const o=this.removeListen_(e,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,r){const a=new Me(e).toString();let o;if(this.listens.has(a)){const u=this.listens.get(a);o=u.get(r),u.delete(r),u.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(e,r){pt("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Iv&&(this.reconnectDelay_=Dv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){pt("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Iv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+oS.replace(/\./g,"-")]=1,Pd()?e["framework.cordova"]=1:eS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_u.getInstance().currentlyOnline();return rd(this.interruptReasons_)&&e}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new ue(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const a=new ue(vs,e),o=new ue(vs,r);return this.compare(a,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class zS extends Vu{static get __EMPTY_NODE(){return Qo}static set __EMPTY_NODE(e){Qo=e}compare(e,r){return Os(e.name,r.name)}isDefinedOn(e){throw ws("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return ue.MIN}maxPost(){return new ue(_r,Qo)}makePost(e,r){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Qo)}toString(){return".key"}}const ds=new zS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,r,a,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=r?a(e.key,r):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,r,a,o,u){this.key=e,this.value=r,this.color=a??it.RED,this.left=o??At.EMPTY_NODE,this.right=u??At.EMPTY_NODE}copy(e,r,a,o,u){return new it(e??this.key,r??this.value,a??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let o=this;const u=a(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,r,a),null):u===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,r,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,o;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),r(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class cO{copy(e,r,a,o,u){return this}insert(e,r,a){return new it(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(e,r=At.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new At(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let r,a=this.root_;for(;!a.isEmpty();){if(r=this.comparator_(e,a.key),r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}getPredecessorKey(e){let r,a=this.root_,o=null;for(;!a.isEmpty();)if(r=this.comparator_(e,a.key),r===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else r<0?a=a.left:r>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new Xo(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new Xo(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new Xo(this.root_,null,this.comparator_,!0,e)}}At.EMPTY_NODE=new cO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(i,e){return Os(i.name,e.name)}function Qd(i,e){return Os(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd;function hO(i){hd=i}const PS=function(i){return typeof i=="number"?"number:"+dS(i):"string:"+i},HS=function(i){if(i.isLeafNode()){const e=i.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zn(e,".sv"),"Priority must be a string or number.")}else q(i===hd||i.isEmpty(),"priority of unexpected type.");q(i===hd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mv;class nt{static set __childrenNodeConstructor(e){Mv=e}static get __childrenNodeConstructor(){return Mv}constructor(e,r=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ge(e)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=ge(e);return a===null?r:r.isEmpty()&&a!==".priority"?this:(q(a!==".priority"||ki(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(xe(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PS(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=dS(this.value_):e+=this.value_,this.lazyHash_=cS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,o=nt.VALUE_TYPE_ORDER.indexOf(r),u=nt.VALUE_TYPE_ORDER.indexOf(a);return q(o>=0,"Unknown leaf type: "+r),q(u>=0,"Unknown leaf type: "+a),o===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BS,jS;function dO(i){BS=i}function pO(i){jS=i}class mO extends Vu{compare(e,r){const a=e.node.getPriority(),o=r.node.getPriority(),u=a.compareTo(o);return u===0?Os(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(_r,new nt("[PRIORITY-POST]",jS))}makePost(e,r){const a=BS(e);return new ue(r,new nt("[PRIORITY-POST]",a))}toString(){return".priority"}}const je=new mO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=Math.log(2);class _O{constructor(e){const r=u=>parseInt(Math.log(u)/gO,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const o=a(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yu=function(i,e,r,a){i.sort(e);const o=function(p,m){const _=m-p;let y,E;if(_===0)return null;if(_===1)return y=i[p],E=r?r(y):y,new it(E,y.node,it.BLACK,null,null);{const R=parseInt(_/2,10)+p,w=o(p,R),P=o(R+1,m);return y=i[R],E=r?r(y):y,new it(E,y.node,it.BLACK,w,P)}},u=function(p){let m=null,_=null,y=i.length;const E=function(w,P){const z=y-w,H=y;y-=w;const j=o(z+1,H),B=i[z],X=r?r(B):B;R(new it(X,B.node,P,null,j))},R=function(w){m?(m.left=w,m=w):(_=w,m=w)};for(let w=0;w<p.count;++w){const P=p.nextBitIsOne(),z=Math.pow(2,p.count-(w+1));P?E(z,it.BLACK):(E(z,it.BLACK),E(z,it.RED))}return _},f=new _O(i.length),d=u(f);return new At(a||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh;const us={};class Hn{static get Default(){return q(us&&je,"ChildrenNode.ts has not been loaded"),Gh=Gh||new Hn({".priority":us},{".priority":je}),Gh}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=_s(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof At?r:null}hasIndex(e){return Zn(this.indexSet_,e.toString())}addIndex(e,r){q(e!==ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const u=r.getIterator(ue.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),a.push(f),f=u.getNext();let d;o?d=yu(a,e.getCompare()):d=us;const p=e.toString(),m={...this.indexSet_};m[p]=e;const _={...this.indexes_};return _[p]=d,new Hn(_,m)}addToIndexes(e,r){const a=pu(this.indexes_,(o,u)=>{const f=_s(this.indexSet_,u);if(q(f,"Missing index implementation for "+u),o===us)if(f.isDefinedOn(e.node)){const d=[],p=r.getIterator(ue.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),yu(d,f.getCompare())}else return us;else{const d=r.get(e.name);let p=o;return d&&(p=p.remove(new ue(e.name,d))),p.insert(e,e.node)}});return new Hn(a,this.indexSet_)}removeFromIndexes(e,r){const a=pu(this.indexes_,o=>{if(o===us)return o;{const u=r.get(e.name);return u?o.remove(new ue(e.name,u)):o}});return new Hn(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma;class te{static get EMPTY_NODE(){return Ma||(Ma=new te(new At(Qd),null,Hn.Default))}constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&HS(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ma}updatePriority(e){return this.children_.isEmpty()?this:new te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Ma:r}}getChild(e){const r=ge(e);return r===null?this:this.getImmediateChild(r).getChild(xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(q(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const a=new ue(e,r);let o,u;r.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(a,this.children_));const f=o.isEmpty()?Ma:this.priorityNode_;return new te(o,f,u)}}updateChild(e,r){const a=ge(e);if(a===null)return r;{q(ge(e)!==".priority"||ki(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(xe(e),r);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,o=0,u=!0;if(this.forEachChild(je,(f,d)=>{r[f]=d.val(e),a++,u&&te.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*a){const f=[];for(const d in r)f[d]=r[d];return f}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+PS(this.getPriority().val())+":"),this.forEachChild(je,(r,a)=>{const o=a.hash();o!==""&&(e+=":"+r+":"+o)}),this.lazyHash_=e===""?"":cS(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const o=this.resolveIndex_(a);if(o){const u=o.getPredecessorKey(new ue(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new ue(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new ue(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let u=o.peek();for(;u!=null&&r.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let u=o.peek();for(;u!=null&&r.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===ds||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new te(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===ds||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const a=this.getIterator(je),o=r.getIterator(je);let u=a.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=a.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ds?null:this.indexMap_.get(e.toString())}}te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yO extends te{constructor(){super(new At(Qd),te.EMPTY_NODE,Hn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return te.EMPTY_NODE}isEmpty(){return!1}}const _l=new yO;Object.defineProperties(ue,{MIN:{value:new ue(vs,te.EMPTY_NODE)},MAX:{value:new ue(_r,_l)}});zS.__EMPTY_NODE=te.EMPTY_NODE;nt.__childrenNodeConstructor=te;hO(_l);pO(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=!0;function rt(i,e=null){if(i===null)return te.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new nt(r,rt(e))}if(!(i instanceof Array)&&vO){const r=[];let a=!1;if(Ot(i,(f,d)=>{if(f.substring(0,1)!=="."){const p=rt(d);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),r.push(new ue(f,p)))}}),r.length===0)return te.EMPTY_NODE;const u=yu(r,fO,f=>f.name,Qd);if(a){const f=yu(r,je.getCompare());return new te(u,rt(e),new Hn({".priority":f},{".priority":je}))}else return new te(u,rt(e),Hn.Default)}else{let r=te.EMPTY_NODE;return Ot(i,(a,o)=>{if(Zn(i,a)&&a.substring(0,1)!=="."){const u=rt(o);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(a,u))}}),r.updatePriority(rt(e))}}dO(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO extends Vu{constructor(e){super(),this.indexPath_=e,q(!de(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const a=this.extractChild(e.node),o=this.extractChild(r.node),u=a.compareTo(o);return u===0?Os(e.name,r.name):u}makePost(e,r){const a=rt(e),o=te.EMPTY_NODE.updateChild(this.indexPath_,a);return new ue(r,o)}maxPost(){const e=te.EMPTY_NODE.updateChild(this.indexPath_,_l);return new ue(_r,e)}toString(){return xS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO extends Vu{compare(e,r){const a=e.node.compareTo(r.node);return a===0?Os(e.name,r.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,r){const a=rt(e);return new ue(r,a)}toString(){return".value"}}const bO=new SO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i){return{type:"value",snapshotNode:i}}function Es(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function el(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function tl(i,e,r){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:r}}function CO(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.index_=e}updateChild(e,r,a,o,u,f){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(r);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(f!=null&&(a.isEmpty()?e.hasChild(r)?f.trackChildChange(el(r,d)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(Es(r,a)):f.trackChildChange(tl(r,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(r,a).withIndex(this.index_)}updateFullNode(e,r,a){return a!=null&&(e.isLeafNode()||e.forEachChild(je,(o,u)=>{r.hasChild(o)||a.trackChildChange(el(o,u))}),r.isLeafNode()||r.forEachChild(je,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||a.trackChildChange(tl(o,u,f))}else a.trackChildChange(Es(o,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?te.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.indexedFilter_=new Xd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nl.getStartPost_(e),this.endPost_=nl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&a}updateChild(e,r,a,o,u,f){return this.matches(new ue(r,a))||(a=te.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,a,o,u,f)}updateFullNode(e,r,a){r.isLeafNode()&&(r=te.EMPTY_NODE);let o=r.withIndex(this.index_);o=o.updatePriority(te.EMPTY_NODE);const u=this;return r.forEachChild(je,(f,d)=>{u.matches(new ue(f,d))||(o=o.updateImmediateChild(f,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,a)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=r=>{const a=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new nl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,a,o,u,f){return this.rangedFilter_.matches(new ue(r,a))||(a=te.EMPTY_NODE),e.getImmediateChild(r).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,a,o,u,f):this.fullLimitUpdateChild_(e,r,a,u,f)}updateFullNode(e,r,a){let o;if(r.isLeafNode()||r.isEmpty())o=te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){o=te.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{o=r.withIndex(this.index_),o=o.updatePriority(te.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:o=o.updateImmediateChild(d.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,a)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,a,o,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(E,R)=>y(R,E)}else f=this.index_.getCompare();const d=e;q(d.numChildren()===this.limit_,"");const p=new ue(r,a),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(d.hasChild(r)){const y=d.getImmediateChild(r);let E=o.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===r||d.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const R=E==null?1:f(E,p);if(_&&!a.isEmpty()&&R>=0)return u?.trackChildChange(tl(r,a,y)),d.updateImmediateChild(r,a);{u?.trackChildChange(el(r,y));const P=d.updateImmediateChild(r,te.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u?.trackChildChange(Es(E.name,E.node)),P.updateImmediateChild(E.name,E.node)):P}}else return a.isEmpty()?e:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(el(m.name,m.node)),u.trackChildChange(Es(r,a))),d.updateImmediateChild(r,a).updateImmediateChild(m.name,te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vs}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_r}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===je}copy(){const e=new Wd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wO(i){return i.loadsAllData()?new Xd(i.getIndex()):i.hasLimit()?new TO(i):new nl(i)}function xv(i){const e={};if(i.isDefault())return e;let r;if(i.index_===je?r="$priority":i.index_===bO?r="$value":i.index_===ds?r="$key":(q(i.index_ instanceof EO,"Unrecognized index type!"),r=i.index_.toString()),e.orderBy=Ze(r),i.startSet_){const a=i.startAfterSet_?"startAfter":"startAt";e[a]=Ze(i.indexStartValue_),i.startNameSet_&&(e[a]+=","+Ze(i.indexStartName_))}if(i.endSet_){const a=i.endBeforeSet_?"endBefore":"endAt";e[a]=Ze(i.indexEndValue_),i.endNameSet_&&(e[a]+=","+Ze(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Lv(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),e.vf=r}return i.index_!==je&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends DS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,a,o){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=gl("p:rest:"),this.listens_={}}listen(e,r,a,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=vu.getListenId_(e,a),d={};this.listens_[f]=d;const p=xv(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,a),_s(this.listens_,f)===d){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",o(E,null)}})}unlisten(e,r){const a=vu.getListenId_(e,r);delete this.listens_[a]}get(e){const r=xv(e._queryParams),a=e._path.toString(),o=new ju;return this.restRequest_(a+".json",r,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,r={},a){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(r.auth=o.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+As(r);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Za(d.responseText)}catch{Nt("Failed to parse JSON response for "+f+": "+d.responseText)}a(null,p)}else d.status!==401&&d.status!==404&&Nt("Got unsuccessful REST response for "+f+" Status: "+d.status),a(d.status);a=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.rootNode_=te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(){return{value:null,children:new Map}}function VS(i,e,r){if(de(e))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,r);else{const a=ge(e);i.children.has(a)||i.children.set(a,Eu());const o=i.children.get(a);e=xe(e),VS(o,e,r)}}function dd(i,e,r){i.value!==null?r(e,i.value):AO(i,(a,o)=>{const u=new Me(e.toString()+"/"+a);dd(o,u,r)})}function AO(i,e){i.children.forEach((r,a)=>{e(a,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&Ot(this.last_,(a,o)=>{r[a]=r[a]-o}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=10*1e3,OO=30*1e3,DO=300*1e3;class IO{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new NO(e);const a=kv+(OO-kv)*Math.random();ja(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),r={};let a=!1;Ot(e,(o,u)=>{u>0&&Zn(this.statsToReport_,o)&&(r[o]=u,a=!0)}),a&&this.server_.reportStats(r),ja(this.reportStats_.bind(this),Math.floor(Math.random()*2*DO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(on||(on={}));function GS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Zd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function $d(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,r,a){this.path=e,this.affectedTree=r,this.revert=a,this.type=on.ACK_USER_WRITE,this.source=GS()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Me(e));return new Su(Ee(),r,this.revert)}}else return q(ge(this.path)===e,"operationForChild called for unrelated child."),new Su(xe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,r){this.source=e,this.path=r,this.type=on.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new il(this.source,Ee()):new il(this.source,xe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,r,a){this.source=e,this.path=r,this.snap=a,this.type=on.OVERWRITE}operationForChild(e){return de(this.path)?new yr(this.source,Ee(),this.snap.getImmediateChild(e)):new yr(this.source,xe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,r,a){this.source=e,this.path=r,this.children=a,this.type=on.MERGE}operationForChild(e){if(de(this.path)){const r=this.children.subtree(new Me(e));return r.isEmpty()?null:r.value?new yr(this.source,Ee(),r.value):new rl(this.source,Ee(),r)}else return q(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rl(this.source,xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,r,a){this.node_=e,this.fullyInitialized_=r,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const r=ge(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xO(i,e,r,a){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(CO(f.childName,f.snapshotNode))}),xa(i,o,"child_removed",e,a,r),xa(i,o,"child_added",e,a,r),xa(i,o,"child_moved",u,a,r),xa(i,o,"child_changed",e,a,r),xa(i,o,"value",e,a,r),o}function xa(i,e,r,a,o,u){const f=a.filter(d=>d.type===r);f.sort((d,p)=>kO(i,d,p)),f.forEach(d=>{const p=LO(i,d,u);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,i.query_))})})}function LO(i,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function kO(i,e,r){if(e.childName==null||r.childName==null)throw ws("Should only compare child_ events.");const a=new ue(e.childName,e.snapshotNode),o=new ue(r.childName,r.snapshotNode);return i.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(i,e){return{eventCache:i,serverCache:e}}function qa(i,e,r,a){return Gu(new Ui(e,r,a),i.serverCache)}function YS(i,e,r,a){return Gu(i.eventCache,new Ui(e,r,a))}function bu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function vr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh;const UO=()=>(Yh||(Yh=new At(SN)),Yh);class Ue{static fromObject(e){let r=new Ue(null);return Ot(e,(a,o)=>{r=r.set(new Me(a),o)}),r}constructor(e,r=UO()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Ee(),value:this.value};if(de(e))return null;{const a=ge(e),o=this.children.get(a);if(o!==null){const u=o.findRootMostMatchingPathAndValue(xe(e),r);return u!=null?{path:$e(new Me(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const r=ge(e),a=this.children.get(r);return a!==null?a.subtree(xe(e)):new Ue(null)}}set(e,r){if(de(e))return new Ue(r,this.children);{const a=ge(e),u=(this.children.get(a)||new Ue(null)).set(xe(e),r),f=this.children.insert(a,u);return new Ue(this.value,f)}}remove(e){if(de(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const r=ge(e),a=this.children.get(r);if(a){const o=a.remove(xe(e));let u;return o.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,o),this.value===null&&u.isEmpty()?new Ue(null):new Ue(this.value,u)}else return this}}get(e){if(de(e))return this.value;{const r=ge(e),a=this.children.get(r);return a?a.get(xe(e)):null}}setTree(e,r){if(de(e))return r;{const a=ge(e),u=(this.children.get(a)||new Ue(null)).setTree(xe(e),r);let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),new Ue(this.value,f)}}fold(e){return this.fold_(Ee(),e)}fold_(e,r){const a={};return this.children.inorderTraversal((o,u)=>{a[o]=u.fold_($e(e,o),r)}),r(e,this.value,a)}findOnPath(e,r){return this.findOnPath_(e,Ee(),r)}findOnPath_(e,r,a){const o=this.value?a(r,this.value):!1;if(o)return o;if(de(e))return null;{const u=ge(e),f=this.children.get(u);return f?f.findOnPath_(xe(e),$e(r,u),a):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Ee(),r)}foreachOnPath_(e,r,a){if(de(e))return this;{this.value&&a(r,this.value);const o=ge(e),u=this.children.get(o);return u?u.foreachOnPath_(xe(e),$e(r,o),a):new Ue(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,r){this.children.inorderTraversal((a,o)=>{o.foreach_($e(e,a),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,a)=>{a.value&&e(r,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.writeTree_=e}static empty(){return new cn(new Ue(null))}}function Va(i,e,r){if(de(e))return new cn(new Ue(r));{const a=i.writeTree_.findRootMostValueAndPath(e);if(a!=null){const o=a.path;let u=a.value;const f=yt(o,e);return u=u.updateChild(f,r),new cn(i.writeTree_.set(o,u))}else{const o=new Ue(r),u=i.writeTree_.setTree(e,o);return new cn(u)}}}function Uv(i,e,r){let a=i;return Ot(r,(o,u)=>{a=Va(a,$e(e,o),u)}),a}function zv(i,e){if(de(e))return cn.empty();{const r=i.writeTree_.setTree(e,new Ue(null));return new cn(r)}}function pd(i,e){return br(i,e)!=null}function br(i,e){const r=i.writeTree_.findRootMostValueAndPath(e);return r!=null?i.writeTree_.get(r.path).getChild(yt(r.path,e)):null}function Pv(i){const e=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(je,(a,o)=>{e.push(new ue(a,o))}):i.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&e.push(new ue(a,o.value))}),e}function Mi(i,e){if(de(e))return i;{const r=br(i,e);return r!=null?new cn(new Ue(r)):new cn(i.writeTree_.subtree(e))}}function md(i){return i.writeTree_.isEmpty()}function Ss(i,e){return FS(Ee(),i.writeTree_,e)}function FS(i,e,r){if(e.value!=null)return r.updateChild(i,e.value);{let a=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(q(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):r=FS($e(i,o),u,r)}),!r.getChild(i).isEmpty()&&a!==null&&(r=r.updateChild($e(i,".priority"),a)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(i,e){return WS(e,i)}function zO(i,e,r,a,o){q(a>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:r,writeId:a,visible:o}),o&&(i.visibleWrites=Va(i.visibleWrites,e,r)),i.lastWriteId=a}function PO(i,e){for(let r=0;r<i.allWrites.length;r++){const a=i.allWrites[r];if(a.writeId===e)return a}return null}function HO(i,e){const r=i.allWrites.findIndex(d=>d.writeId===e);q(r>=0,"removeWrite called with nonexistent writeId.");const a=i.allWrites[r];i.allWrites.splice(r,1);let o=a.visible,u=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const d=i.allWrites[f];d.visible&&(f>=r&&BO(d,a.path)?o=!1:ln(a.path,d.path)&&(u=!0)),f--}if(o){if(u)return jO(i),!0;if(a.snap)i.visibleWrites=zv(i.visibleWrites,a.path);else{const d=a.children;Ot(d,p=>{i.visibleWrites=zv(i.visibleWrites,$e(a.path,p))})}return!0}else return!1}function BO(i,e){if(i.snap)return ln(i.path,e);for(const r in i.children)if(i.children.hasOwnProperty(r)&&ln($e(i.path,r),e))return!0;return!1}function jO(i){i.visibleWrites=KS(i.allWrites,qO,Ee()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function qO(i){return i.visible}function KS(i,e,r){let a=cn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(e(u)){const f=u.path;let d;if(u.snap)ln(r,f)?(d=yt(r,f),a=Va(a,d,u.snap)):ln(f,r)&&(d=yt(f,r),a=Va(a,Ee(),u.snap.getChild(d)));else if(u.children){if(ln(r,f))d=yt(r,f),a=Uv(a,d,u.children);else if(ln(f,r))if(d=yt(f,r),de(d))a=Uv(a,Ee(),u.children);else{const p=_s(u.children,ge(d));if(p){const m=p.getChild(xe(d));a=Va(a,Ee(),m)}}}else throw ws("WriteRecord should have .snap or .children")}}return a}function QS(i,e,r,a,o){if(!a&&!o){const u=br(i.visibleWrites,e);if(u!=null)return u;{const f=Mi(i.visibleWrites,e);if(md(f))return r;if(r==null&&!pd(f,Ee()))return null;{const d=r||te.EMPTY_NODE;return Ss(f,d)}}}else{const u=Mi(i.visibleWrites,e);if(!o&&md(u))return r;if(!o&&r==null&&!pd(u,Ee()))return null;{const f=function(m){return(m.visible||o)&&(!a||!~a.indexOf(m.writeId))&&(ln(m.path,e)||ln(e,m.path))},d=KS(i.allWrites,f,e),p=r||te.EMPTY_NODE;return Ss(d,p)}}}function VO(i,e,r){let a=te.EMPTY_NODE;const o=br(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(je,(u,f)=>{a=a.updateImmediateChild(u,f)}),a;if(r){const u=Mi(i.visibleWrites,e);return r.forEachChild(je,(f,d)=>{const p=Ss(Mi(u,new Me(f)),d);a=a.updateImmediateChild(f,p)}),Pv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}else{const u=Mi(i.visibleWrites,e);return Pv(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}}function GO(i,e,r,a,o){q(a||o,"Either existingEventSnap or existingServerSnap must exist");const u=$e(e,r);if(pd(i.visibleWrites,u))return null;{const f=Mi(i.visibleWrites,u);return md(f)?o.getChild(r):Ss(f,o.getChild(r))}}function YO(i,e,r,a){const o=$e(e,r),u=br(i.visibleWrites,o);if(u!=null)return u;if(a.isCompleteForChild(r)){const f=Mi(i.visibleWrites,o);return Ss(f,a.getNode().getImmediateChild(r))}else return null}function FO(i,e){return br(i.visibleWrites,e)}function KO(i,e,r,a,o,u,f){let d;const p=Mi(i.visibleWrites,e),m=br(p,Ee());if(m!=null)d=m;else if(r!=null)d=Ss(p,r);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const _=[],y=f.getCompare(),E=u?d.getReverseIteratorFrom(a,f):d.getIteratorFrom(a,f);let R=E.getNext();for(;R&&_.length<o;)y(R,a)!==0&&_.push(R),R=E.getNext();return _}else return[]}function QO(){return{visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1}}function Cu(i,e,r,a){return QS(i.writeTree,i.treePath,e,r,a)}function Jd(i,e){return VO(i.writeTree,i.treePath,e)}function Hv(i,e,r,a){return GO(i.writeTree,i.treePath,e,r,a)}function Tu(i,e){return FO(i.writeTree,$e(i.treePath,e))}function XO(i,e,r,a,o,u){return KO(i.writeTree,i.treePath,e,r,a,o,u)}function ep(i,e,r){return YO(i.writeTree,i.treePath,e,r)}function XS(i,e){return WS($e(i.treePath,e),i.writeTree)}function WS(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,a=e.childName;q(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),q(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const u=o.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(a,tl(a,e.snapshotNode,o.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(a,el(a,o.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(a,Es(a,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(a,tl(a,e.snapshotNode,o.oldSnap));else throw ws("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{getCompleteChild(e){return null}getChildAfterChild(e,r,a){return null}}const ZS=new ZO;class tp{constructor(e,r,a=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=a}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Ui(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ep(this.writes_,e,a)}}getChildAfterChild(e,r,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vr(this.viewCache_),u=XO(this.writes_,o,r,1,a,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i){return{filter:i}}function JO(i,e){q(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function eD(i,e,r,a,o){const u=new WO;let f,d;if(r.type===on.OVERWRITE){const m=r;m.source.fromUser?f=gd(i,e,m.path,m.snap,a,o,u):(q(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!de(m.path),f=wu(i,e,m.path,m.snap,a,o,d,u))}else if(r.type===on.MERGE){const m=r;m.source.fromUser?f=nD(i,e,m.path,m.children,a,o,u):(q(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),f=_d(i,e,m.path,m.children,a,o,d,u))}else if(r.type===on.ACK_USER_WRITE){const m=r;m.revert?f=sD(i,e,m.path,a,o,u):f=iD(i,e,m.path,m.affectedTree,a,o,u)}else if(r.type===on.LISTEN_COMPLETE)f=rD(i,e,r.path,a,u);else throw ws("Unknown operation type: "+r.type);const p=u.getChanges();return tD(e,f,p),{viewCache:f,changes:p}}function tD(i,e,r){const a=e.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=bu(i);(r.length>0||!i.eventCache.isFullyInitialized()||o&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&r.push(qS(bu(e)))}}function $S(i,e,r,a,o,u){const f=e.eventCache;if(Tu(a,r)!=null)return e;{let d,p;if(de(r))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=vr(e),_=m instanceof te?m:te.EMPTY_NODE,y=Jd(a,_);d=i.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=Cu(a,vr(e));d=i.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ge(r);if(m===".priority"){q(ki(r)===1,"Can't have a priority with additional path components");const _=f.getNode();p=e.serverCache.getNode();const y=Hv(a,r,_,p);y!=null?d=i.filter.updatePriority(_,y):d=f.getNode()}else{const _=xe(r);let y;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=Hv(a,r,f.getNode(),p);E!=null?y=f.getNode().getImmediateChild(m).updateChild(_,E):y=f.getNode().getImmediateChild(m)}else y=ep(a,m,e.serverCache);y!=null?d=i.filter.updateChild(f.getNode(),m,y,_,o,u):d=f.getNode()}}return qa(e,d,f.isFullyInitialized()||de(r),i.filter.filtersNodes())}}function wu(i,e,r,a,o,u,f,d){const p=e.serverCache;let m;const _=f?i.filter:i.filter.getIndexedFilter();if(de(r))m=_.updateFullNode(p.getNode(),a,null);else if(_.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(r,a);m=_.updateFullNode(p.getNode(),R,null)}else{const R=ge(r);if(!p.isCompleteForPath(r)&&ki(r)>1)return e;const w=xe(r),z=p.getNode().getImmediateChild(R).updateChild(w,a);R===".priority"?m=_.updatePriority(p.getNode(),z):m=_.updateChild(p.getNode(),R,z,w,ZS,null)}const y=YS(e,m,p.isFullyInitialized()||de(r),_.filtersNodes()),E=new tp(o,y,u);return $S(i,y,r,o,E,d)}function gd(i,e,r,a,o,u,f){const d=e.eventCache;let p,m;const _=new tp(o,e,u);if(de(r))m=i.filter.updateFullNode(e.eventCache.getNode(),a,f),p=qa(e,m,!0,i.filter.filtersNodes());else{const y=ge(r);if(y===".priority")m=i.filter.updatePriority(e.eventCache.getNode(),a),p=qa(e,m,d.isFullyInitialized(),d.isFiltered());else{const E=xe(r),R=d.getNode().getImmediateChild(y);let w;if(de(E))w=a;else{const P=_.getCompleteChild(y);P!=null?MS(E)===".priority"&&P.getChild(LS(E)).isEmpty()?w=P:w=P.updateChild(E,a):w=te.EMPTY_NODE}if(R.equals(w))p=e;else{const P=i.filter.updateChild(d.getNode(),y,w,E,_,f);p=qa(e,P,d.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function Bv(i,e){return i.eventCache.isCompleteForChild(e)}function nD(i,e,r,a,o,u,f){let d=e;return a.foreach((p,m)=>{const _=$e(r,p);Bv(e,ge(_))&&(d=gd(i,d,_,m,o,u,f))}),a.foreach((p,m)=>{const _=$e(r,p);Bv(e,ge(_))||(d=gd(i,d,_,m,o,u,f))}),d}function jv(i,e,r){return r.foreach((a,o)=>{e=e.updateChild(a,o)}),e}function _d(i,e,r,a,o,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;de(r)?m=a:m=new Ue(null).setTree(r,a);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,E)=>{if(_.hasChild(y)){const R=e.serverCache.getNode().getImmediateChild(y),w=jv(i,R,E);p=wu(i,p,new Me(y),w,o,u,f,d)}}),m.children.inorderTraversal((y,E)=>{const R=!e.serverCache.isCompleteForChild(y)&&E.value===null;if(!_.hasChild(y)&&!R){const w=e.serverCache.getNode().getImmediateChild(y),P=jv(i,w,E);p=wu(i,p,new Me(y),P,o,u,f,d)}}),p}function iD(i,e,r,a,o,u,f){if(Tu(o,r)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(de(r)&&p.isFullyInitialized()||p.isCompleteForPath(r))return wu(i,e,r,p.getNode().getChild(r),o,u,d,f);if(de(r)){let m=new Ue(null);return p.getNode().forEachChild(ds,(_,y)=>{m=m.set(new Me(_),y)}),_d(i,e,r,m,o,u,d,f)}else return e}else{let m=new Ue(null);return a.foreach((_,y)=>{const E=$e(r,_);p.isCompleteForPath(E)&&(m=m.set(_,p.getNode().getChild(E)))}),_d(i,e,r,m,o,u,d,f)}}function rD(i,e,r,a,o){const u=e.serverCache,f=YS(e,u.getNode(),u.isFullyInitialized()||de(r),u.isFiltered());return $S(i,f,r,a,ZS,o)}function sD(i,e,r,a,o,u){let f;if(Tu(a,r)!=null)return e;{const d=new tp(a,e,o),p=e.eventCache.getNode();let m;if(de(r)||ge(r)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Cu(a,vr(e));else{const y=e.serverCache.getNode();q(y instanceof te,"serverChildren would be complete if leaf node"),_=Jd(a,y)}_=_,m=i.filter.updateFullNode(p,_,u)}else{const _=ge(r);let y=ep(a,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=i.filter.updateChild(p,_,y,xe(r),d,u):e.eventCache.getNode().hasChild(_)?m=i.filter.updateChild(p,_,te.EMPTY_NODE,xe(r),d,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Cu(a,vr(e)),f.isLeafNode()&&(m=i.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||Tu(a,Ee())!=null,qa(e,m,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Xd(a.getIndex()),u=wO(a);this.processor_=$O(u);const f=r.serverCache,d=r.eventCache,p=o.updateFullNode(te.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(te.EMPTY_NODE,d.getNode(),null),_=new Ui(p,f.isFullyInitialized(),o.filtersNodes()),y=new Ui(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Gu(y,_),this.eventGenerator_=new MO(this.query_)}get query(){return this.query_}}function lD(i){return i.viewCache_.serverCache.getNode()}function oD(i){return bu(i.viewCache_)}function uD(i,e){const r=vr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!de(e)&&!r.getImmediateChild(ge(e)).isEmpty())?r.getChild(e):null}function qv(i){return i.eventRegistrations_.length===0}function cD(i,e){i.eventRegistrations_.push(e)}function Vv(i,e,r){const a=[];if(r){q(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(r,o);f&&a.push(f)})}if(e){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return a}function Gv(i,e,r,a){e.type===on.MERGE&&e.source.queryId!==null&&(q(vr(i.viewCache_),"We should always have a full cache before handling merges"),q(bu(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=eD(i.processor_,o,e,r,a);return JO(i.processor_,u.viewCache),q(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,JS(i,u.changes,u.viewCache.eventCache.getNode(),null)}function fD(i,e){const r=i.viewCache_.eventCache,a=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(je,(u,f)=>{a.push(Es(u,f))}),r.isFullyInitialized()&&a.push(qS(r.getNode())),JS(i,a,r.getNode(),e)}function JS(i,e,r,a){const o=a?[a]:i.eventRegistrations_;return xO(i.eventGenerator_,e,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru;class eb{constructor(){this.views=new Map}}function hD(i){q(!Ru,"__referenceConstructor has already been defined"),Ru=i}function dD(){return q(Ru,"Reference.ts has not been loaded"),Ru}function pD(i){return i.views.size===0}function np(i,e,r,a){const o=e.source.queryId;if(o!==null){const u=i.views.get(o);return q(u!=null,"SyncTree gave us an op for an invalid query."),Gv(u,e,r,a)}else{let u=[];for(const f of i.views.values())u=u.concat(Gv(f,e,r,a));return u}}function tb(i,e,r,a,o){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let d=Cu(r,o?a:null),p=!1;d?p=!0:a instanceof te?(d=Jd(r,a),p=!1):(d=te.EMPTY_NODE,p=!1);const m=Gu(new Ui(d,p,!1),new Ui(a,o,!1));return new aD(e,m)}return f}function mD(i,e,r,a,o,u){const f=tb(i,e,a,o,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),cD(f,r),fD(f,r)}function gD(i,e,r,a){const o=e._queryIdentifier,u=[];let f=[];const d=zi(i);if(o==="default")for(const[p,m]of i.views.entries())f=f.concat(Vv(m,r,a)),qv(m)&&(i.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=i.views.get(o);p&&(f=f.concat(Vv(p,r,a)),qv(p)&&(i.views.delete(o),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!zi(i)&&u.push(new(dD())(e._repo,e._path)),{removed:u,events:f}}function nb(i){const e=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function xi(i,e){let r=null;for(const a of i.views.values())r=r||uD(a,e);return r}function ib(i,e){if(e._queryParams.loadsAllData())return Fu(i);{const a=e._queryIdentifier;return i.views.get(a)}}function rb(i,e){return ib(i,e)!=null}function zi(i){return Fu(i)!=null}function Fu(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au;function _D(i){q(!Au,"__referenceConstructor has already been defined"),Au=i}function yD(){return q(Au,"Reference.ts has not been loaded"),Au}let vD=1;class Yv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=QO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sb(i,e,r,a,o){return zO(i.pendingWriteTree_,e,r,a,o),o?vl(i,new yr(GS(),e,r)):[]}function hr(i,e,r=!1){const a=PO(i.pendingWriteTree_,e);if(HO(i.pendingWriteTree_,e)){let u=new Ue(null);return a.snap!=null?u=u.set(Ee(),!0):Ot(a.children,f=>{u=u.set(new Me(f),!0)}),vl(i,new Su(a.path,u,r))}else return[]}function yl(i,e,r){return vl(i,new yr(Zd(),e,r))}function ED(i,e,r){const a=Ue.fromObject(r);return vl(i,new rl(Zd(),e,a))}function SD(i,e){return vl(i,new il(Zd(),e))}function bD(i,e,r){const a=rp(i,r);if(a){const o=sp(a),u=o.path,f=o.queryId,d=yt(u,e),p=new il($d(f),d);return ap(i,u,p)}else return[]}function ab(i,e,r,a,o=!1){const u=e._path,f=i.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||rb(f,e))){const p=gD(f,e,r,a);pD(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!o){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=i.syncPointTree_.findOnPath(u,(E,R)=>zi(R));if(_&&!y){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const R=RD(E);for(let w=0;w<R.length;++w){const P=R[w],z=P.query,H=cb(i,P);i.listenProvider_.startListening(Ga(z),sl(i,z),H.hashFn,H.onComplete)}}}!y&&m.length>0&&!a&&(_?i.listenProvider_.stopListening(Ga(e),null):m.forEach(E=>{const R=i.queryToTagMap.get(Ku(E));i.listenProvider_.stopListening(Ga(E),R)}))}AD(i,m)}return d}function lb(i,e,r,a){const o=rp(i,a);if(o!=null){const u=sp(o),f=u.path,d=u.queryId,p=yt(f,e),m=new yr($d(d),p,r);return ap(i,f,m)}else return[]}function CD(i,e,r,a){const o=rp(i,a);if(o){const u=sp(o),f=u.path,d=u.queryId,p=yt(f,e),m=Ue.fromObject(r),_=new rl($d(d),p,m);return ap(i,f,_)}else return[]}function TD(i,e,r,a=!1){const o=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(E,R)=>{const w=yt(E,o);u=u||xi(R,w),f=f||zi(R)});let d=i.syncPointTree_.get(o);d?(f=f||zi(d),u=u||xi(d,Ee())):(d=new eb,i.syncPointTree_=i.syncPointTree_.set(o,d));let p;u!=null?p=!0:(p=!1,u=te.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((R,w)=>{const P=xi(w,Ee());P&&(u=u.updateImmediateChild(R,P))}));const m=rb(d,e);if(!m&&!e._queryParams.loadsAllData()){const E=Ku(e);q(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const R=ND();i.queryToTagMap.set(E,R),i.tagToQueryMap.set(R,E)}const _=Yu(i.pendingWriteTree_,o);let y=mD(d,e,r,_,u,p);if(!m&&!f&&!a){const E=ib(d,e);y=y.concat(OD(i,e,E))}return y}function ip(i,e,r){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,d)=>{const p=yt(f,e),m=xi(d,p);if(m)return m});return QS(o,e,u,r,!0)}function wD(i,e){const r=e._path;let a=null;i.syncPointTree_.foreachOnPath(r,(m,_)=>{const y=yt(m,r);a=a||xi(_,y)});let o=i.syncPointTree_.get(r);o?a=a||xi(o,Ee()):(o=new eb,i.syncPointTree_=i.syncPointTree_.set(r,o));const u=a!=null,f=u?new Ui(a,!0,!1):null,d=Yu(i.pendingWriteTree_,e._path),p=tb(o,e,d,u?f.getNode():te.EMPTY_NODE,u);return oD(p)}function vl(i,e){return ob(e,i.syncPointTree_,null,Yu(i.pendingWriteTree_,Ee()))}function ob(i,e,r,a){if(de(i.path))return ub(i,e,r,a);{const o=e.get(Ee());r==null&&o!=null&&(r=xi(o,Ee()));let u=[];const f=ge(i.path),d=i.operationForChild(f),p=e.children.get(f);if(p&&d){const m=r?r.getImmediateChild(f):null,_=XS(a,f);u=u.concat(ob(d,p,m,_))}return o&&(u=u.concat(np(o,i,a,r))),u}}function ub(i,e,r,a){const o=e.get(Ee());r==null&&o!=null&&(r=xi(o,Ee()));let u=[];return e.children.inorderTraversal((f,d)=>{const p=r?r.getImmediateChild(f):null,m=XS(a,f),_=i.operationForChild(f);_&&(u=u.concat(ub(_,d,p,m)))}),o&&(u=u.concat(np(o,i,a,r))),u}function cb(i,e){const r=e.query,a=sl(i,r);return{hashFn:()=>(lD(e)||te.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?bD(i,r._path,a):SD(i,r._path);{const u=TN(o,r);return ab(i,r,null,u)}}}}function sl(i,e){const r=Ku(e);return i.queryToTagMap.get(r)}function Ku(i){return i._path.toString()+"$"+i._queryIdentifier}function rp(i,e){return i.tagToQueryMap.get(e)}function sp(i){const e=i.indexOf("$");return q(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Me(i.substr(0,e))}}function ap(i,e,r){const a=i.syncPointTree_.get(e);q(a,"Missing sync point for query tag that we're tracking");const o=Yu(i.pendingWriteTree_,e);return np(a,r,o,null)}function RD(i){return i.fold((e,r,a)=>{if(r&&zi(r))return[Fu(r)];{let o=[];return r&&(o=nb(r)),Ot(a,(u,f)=>{o=o.concat(f)}),o}})}function Ga(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(yD())(i._repo,i._path):i}function AD(i,e){for(let r=0;r<e.length;++r){const a=e[r];if(!a._queryParams.loadsAllData()){const o=Ku(a),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function ND(){return vD++}function OD(i,e,r){const a=e._path,o=sl(i,e),u=cb(i,r),f=i.listenProvider_.startListening(Ga(e),o,u.hashFn,u.onComplete),d=i.syncPointTree_.subtree(a);if(o)q(!zi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,_,y)=>{if(!de(m)&&_&&zi(_))return[Fu(_).query];{let E=[];return _&&(E=E.concat(nb(_).map(R=>R.query))),Ot(y,(R,w)=>{E=E.concat(w)}),E}});for(let m=0;m<p.length;++m){const _=p[m];i.listenProvider_.stopListening(Ga(_),sl(i,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new lp(r)}node(){return this.node_}}class op{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=$e(this.path_,e);return new op(this.syncTree_,r)}node(){return ip(this.syncTree_,this.path_)}}const DD=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Fv=function(i,e,r){if(!i||typeof i!="object")return i;if(q(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return ID(i[".sv"],e,r);if(typeof i[".sv"]=="object")return MD(i[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},ID=function(i,e,r){switch(i){case"timestamp":return r.timestamp;default:q(!1,"Unexpected server value: "+i)}},MD=function(i,e,r){i.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const a=i.increment;typeof a!="number"&&q(!1,"Unexpected increment value: "+a);const o=e.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const f=o.getValue();return typeof f!="number"?a:f+a},xD=function(i,e,r,a){return up(e,new op(r,i),a)},fb=function(i,e,r){return up(i,new lp(e),r)};function up(i,e,r){const a=i.getPriority().val(),o=Fv(a,e.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const f=i,d=Fv(f.getValue(),e,r);return d!==f.getValue()||o!==f.getPriority().val()?new nt(d,rt(o)):i}else{const f=i;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new nt(o))),f.forEachChild(je,(d,p)=>{const m=up(p,e.getImmediateChild(d),r);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e="",r=null,a={children:{},childCount:0}){this.name=e,this.parent=r,this.node=a}}function fp(i,e){let r=e instanceof Me?e:new Me(e),a=i,o=ge(r);for(;o!==null;){const u=_s(a.node.children,o)||{children:{},childCount:0};a=new cp(o,a,u),r=xe(r),o=ge(r)}return a}function Is(i){return i.node.value}function hb(i,e){i.node.value=e,yd(i)}function db(i){return i.node.childCount>0}function LD(i){return Is(i)===void 0&&!db(i)}function Qu(i,e){Ot(i.node.children,(r,a)=>{e(new cp(r,i,a))})}function pb(i,e,r,a){r&&e(i),Qu(i,o=>{pb(o,e,!0)})}function kD(i,e,r){let a=i.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function El(i){return new Me(i.parent===null?i.name:El(i.parent)+"/"+i.name)}function yd(i){i.parent!==null&&UD(i.parent,i.name,i)}function UD(i,e,r){const a=LD(r),o=Zn(i.node.children,e);a&&o?(delete i.node.children[e],i.node.childCount--,yd(i)):!a&&!o&&(i.node.children[e]=r.node,i.node.childCount++,yd(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/[\[\].#$\/\u0000-\u001F\u007F]/,PD=/[\[\].#$\u0000-\u001F\u007F]/,Fh=10*1024*1024,mb=function(i){return typeof i=="string"&&i.length!==0&&!zD.test(i)},gb=function(i){return typeof i=="string"&&i.length!==0&&!PD.test(i)},HD=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),gb(i)},_b=function(i,e,r,a){a&&e===void 0||hp(Hd(i,"value"),e,r)},hp=function(i,e,r){const a=r instanceof Me?new iO(r,i):r;if(e===void 0)throw new Error(i+"contains undefined "+cr(a));if(typeof e=="function")throw new Error(i+"contains a function "+cr(a)+" with contents = "+e.toString());if(fS(e))throw new Error(i+"contains "+e.toString()+" "+cr(a));if(typeof e=="string"&&e.length>Fh/3&&qu(e)>Fh)throw new Error(i+"contains a string greater than "+Fh+" utf8 bytes "+cr(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Ot(e,(f,d)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!mb(f)))throw new Error(i+" contains an invalid key ("+f+") "+cr(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rO(a,f),hp(i,d,a),sO(a)}),o&&u)throw new Error(i+' contains ".value" child '+cr(a)+" in addition to actual children.")}},yb=function(i,e,r,a){if(!gb(r))throw new Error(Hd(i,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},BD=function(i,e,r,a){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),yb(i,e,r)},dp=function(i,e){if(ge(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},jD=function(i,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!mb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!HD(r))throw new Error(Hd(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vb(i,e){let r=null;for(let a=0;a<e.length;a++){const o=e[a],u=o.getPath();r!==null&&!kS(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(o)}r&&i.eventLists_.push(r)}function yn(i,e,r){vb(i,r),VD(i,a=>ln(a,e)||ln(e,a))}function VD(i,e){i.recursionDepth_++;let r=!0;for(let a=0;a<i.eventLists_.length;a++){const o=i.eventLists_[a];if(o){const u=o.path;e(u)?(GD(i.eventLists_[a]),i.eventLists_[a]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function GD(i){for(let e=0;e<i.events.length;e++){const r=i.events[e];if(r!==null){i.events[e]=null;const a=r.getEventRunner();Ba&&pt("event: "+r.toString()),Ds(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="repo_interrupt",FD=25;class KD{constructor(e,r,a,o){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Eu(),this.transactionQueueTree_=new cp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QD(i,e,r){if(i.stats_=Yd(i.repoInfo_),i.forceRestClient_||NN())i.server_=new vu(i.repoInfo_,(a,o,u,f)=>{Kv(i,a,o,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Qv(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(r)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}i.persistentConnection_=new Gn(i.repoInfo_,e,(a,o,u,f)=>{Kv(i,a,o,u,f)},a=>{Qv(i,a)},a=>{XD(i,a)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(a=>{i.server_.refreshAuthToken(a)}),i.appCheckProvider_.addTokenChangeListener(a=>{i.server_.refreshAppCheckToken(a.token)}),i.statsReporter_=xN(i.repoInfo_,()=>new IO(i.stats_,i.server_)),i.infoData_=new RO,i.infoSyncTree_=new Yv({startListening:(a,o,u,f)=>{let d=[];const p=i.infoData_.getNode(a._path);return p.isEmpty()||(d=yl(i.infoSyncTree_,a._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),mp(i,"connected",!1),i.serverSyncTree_=new Yv({startListening:(a,o,u,f)=>(i.server_.listen(a,u,o,(d,p)=>{const m=f(d,p);yn(i.eventQueue_,a._path,m)}),[]),stopListening:(a,o)=>{i.server_.unlisten(a,o)}})}function Eb(i){const r=i.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function pp(i){return DD({timestamp:Eb(i)})}function Kv(i,e,r,a,o){i.dataUpdateCount++;const u=new Me(e);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,r):r;let f=[];if(o)if(a){const p=pu(r,m=>rt(m));f=CD(i.serverSyncTree_,u,p,o)}else{const p=rt(r);f=lb(i.serverSyncTree_,u,p,o)}else if(a){const p=pu(r,m=>rt(m));f=ED(i.serverSyncTree_,u,p)}else{const p=rt(r);f=yl(i.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=Wu(i,u)),yn(i.eventQueue_,d,f)}function Qv(i,e){mp(i,"connected",e),e===!1&&$D(i)}function XD(i,e){Ot(e,(r,a)=>{mp(i,r,a)})}function mp(i,e,r){const a=new Me("/.info/"+e),o=rt(r);i.infoData_.updateSnapshot(a,o);const u=yl(i.infoSyncTree_,a,o);yn(i.eventQueue_,a,u)}function Sb(i){return i.nextWriteId_++}function WD(i,e,r){const a=wD(i.serverSyncTree_,e);return a!=null?Promise.resolve(a):i.server_.get(e).then(o=>{const u=rt(o).withIndex(e._queryParams.getIndex());TD(i.serverSyncTree_,e,r,!0);let f;if(e._queryParams.loadsAllData())f=yl(i.serverSyncTree_,e._path,u);else{const d=sl(i.serverSyncTree_,e);f=lb(i.serverSyncTree_,e._path,u,d)}return yn(i.eventQueue_,e._path,f),ab(i.serverSyncTree_,e,r,null,!0),u},o=>(Xu(i,"get for query "+Ze(e)+" failed: "+o),Promise.reject(new Error(o))))}function ZD(i,e,r,a,o){Xu(i,"set",{path:e.toString(),value:r,priority:a});const u=pp(i),f=rt(r,a),d=ip(i.serverSyncTree_,e),p=fb(f,d,u),m=Sb(i),_=sb(i.serverSyncTree_,e,p,m,!0);vb(i.eventQueue_,_),i.server_.put(e.toString(),f.val(!0),(E,R)=>{const w=E==="ok";w||Nt("set at "+e+" failed: "+E);const P=hr(i.serverSyncTree_,m,!w);yn(i.eventQueue_,e,P),eI(i,o,E,R)});const y=Rb(i,e);Wu(i,y),yn(i.eventQueue_,y,[])}function $D(i){Xu(i,"onDisconnectEvents");const e=pp(i),r=Eu();dd(i.onDisconnect_,Ee(),(o,u)=>{const f=xD(o,u,i.serverSyncTree_,e);VS(r,o,f)});let a=[];dd(r,Ee(),(o,u)=>{a=a.concat(yl(i.serverSyncTree_,o,u));const f=Rb(i,o);Wu(i,f)}),i.onDisconnect_=Eu(),yn(i.eventQueue_,Ee(),a)}function JD(i){i.persistentConnection_&&i.persistentConnection_.interrupt(YD)}function Xu(i,...e){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),pt(r,...e)}function eI(i,e,r,a){e&&Ds(()=>{if(r==="ok")e(null);else{const o=(r||"error").toUpperCase();let u=o;a&&(u+=": "+a);const f=new Error(u);f.code=o,e(f)}})}function bb(i,e,r){return ip(i.serverSyncTree_,e,r)||te.EMPTY_NODE}function gp(i,e=i.transactionQueueTree_){if(e||Zu(i,e),Is(e)){const r=Tb(i,e);q(r.length>0,"Sending zero length transaction queue"),r.every(o=>o.status===0)&&tI(i,El(e),r)}else db(e)&&Qu(e,r=>{gp(i,r)})}function tI(i,e,r){const a=r.map(m=>m.currentWriteId),o=bb(i,e,a);let u=o;const f=o.hash();for(let m=0;m<r.length;m++){const _=r[m];q(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=yt(e,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;i.server_.put(p.toString(),d,m=>{Xu(i,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let E=0;E<r.length;E++)r[E].status=2,_=_.concat(hr(i.serverSyncTree_,r[E].currentWriteId)),r[E].onComplete&&y.push(()=>r[E].onComplete(null,!0,r[E].currentOutputSnapshotResolved)),r[E].unwatcher();Zu(i,fp(i.transactionQueueTree_,e)),gp(i,i.transactionQueueTree_),yn(i.eventQueue_,e,_);for(let E=0;E<y.length;E++)Ds(y[E])}else{if(m==="datastale")for(let y=0;y<r.length;y++)r[y].status===3?r[y].status=4:r[y].status=0;else{Nt("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<r.length;y++)r[y].status=4,r[y].abortReason=m}Wu(i,e)}},f)}function Wu(i,e){const r=Cb(i,e),a=El(r),o=Tb(i,r);return nI(i,o,a),a}function nI(i,e,r){if(e.length===0)return;const a=[];let o=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=yt(r,p.path);let _=!1,y;if(q(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,o=o.concat(hr(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=FD)_=!0,y="maxretry",o=o.concat(hr(i.serverSyncTree_,p.currentWriteId,!0));else{const E=bb(i,p.path,f);p.currentInputSnapshot=E;const R=e[d].update(E.val());if(R!==void 0){hp("transaction failed: Data returned ",R,p.path);let w=rt(R);typeof R=="object"&&R!=null&&Zn(R,".priority")||(w=w.updatePriority(E.getPriority()));const z=p.currentWriteId,H=pp(i),j=fb(w,E,H);p.currentOutputSnapshotRaw=w,p.currentOutputSnapshotResolved=j,p.currentWriteId=Sb(i),f.splice(f.indexOf(z),1),o=o.concat(sb(i.serverSyncTree_,p.path,j,p.currentWriteId,p.applyLocally)),o=o.concat(hr(i.serverSyncTree_,z,!0))}else _=!0,y="nodata",o=o.concat(hr(i.serverSyncTree_,p.currentWriteId,!0))}yn(i.eventQueue_,r,o),o=[],_&&(e[d].status=2,(function(E){setTimeout(E,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(y),!1,null))))}Zu(i,i.transactionQueueTree_);for(let d=0;d<a.length;d++)Ds(a[d]);gp(i,i.transactionQueueTree_)}function Cb(i,e){let r,a=i.transactionQueueTree_;for(r=ge(e);r!==null&&Is(a)===void 0;)a=fp(a,r),e=xe(e),r=ge(e);return a}function Tb(i,e){const r=[];return wb(i,e,r),r.sort((a,o)=>a.order-o.order),r}function wb(i,e,r){const a=Is(e);if(a)for(let o=0;o<a.length;o++)r.push(a[o]);Qu(e,o=>{wb(i,o,r)})}function Zu(i,e){const r=Is(e);if(r){let a=0;for(let o=0;o<r.length;o++)r[o].status!==2&&(r[a]=r[o],a++);r.length=a,hb(e,r.length>0?r:void 0)}Qu(e,a=>{Zu(i,a)})}function Rb(i,e){const r=El(Cb(i,e)),a=fp(i.transactionQueueTree_,e);return kD(a,o=>{Kh(i,o)}),Kh(i,a),pb(a,o=>{Kh(i,o)}),r}function Kh(i,e){const r=Is(e);if(r){const a=[];let o=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(q(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(q(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),o=o.concat(hr(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&a.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?hb(e,void 0):r.length=u+1,yn(i.eventQueue_,El(e),o);for(let f=0;f<a.length;f++)Ds(a[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(i){let e="";const r=i.split("/");for(let a=0;a<r.length;a++)if(r[a].length>0){let o=r[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function rI(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const a=r.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Nt(`Invalid query segment '${r}' in query '${i}'`)}return e}const Xv=function(i,e){const r=sI(i),a=r.namespace;r.domain==="firebase.com"&&Xn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&r.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||vN();const o=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new CS(r.host,r.secure,a,o,e,"",a!==r.subdomain),path:new Me(r.pathString)}},sI=function(i){let e="",r="",a="",o="",u="",f=!0,d="https",p=443;if(typeof i=="string"){let m=i.indexOf("//");m>=0&&(d=i.substring(0,m-1),i=i.substring(m+2));let _=i.indexOf("/");_===-1&&(_=i.length);let y=i.indexOf("?");y===-1&&(y=i.length),e=i.substring(0,Math.min(_,y)),_<y&&(o=iI(i.substring(_,y)));const E=rI(i.substring(Math.min(i.length,y)));m=e.indexOf(":"),m>=0?(f=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")r="localhost";else if(R.split(".").length<=2)r=R;else{const w=e.indexOf(".");a=e.substring(0,w).toLowerCase(),r=e.substring(w+1),u=a}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:r,subdomain:a,secure:f,scheme:d,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aI=(function(){let i=0;const e=[];return function(r){const a=r===i;i=r;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Wv.charAt(r%64),r=Math.floor(r/64);q(r===0,"Cannot push at time == 0");let f=u.join("");if(a){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=Wv.charAt(e[o]);return q(f.length===20,"nextPushId: Length should be 20."),f}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,r,a,o){this.eventType=e,this.eventRegistration=r,this.snapshot=a,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class oI{constructor(e,r,a){this.eventRegistration=e,this.error=r,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,r,a,o){this._repo=e,this._path=r,this._queryParams=a,this._orderByCalled=o}get key(){return de(this._path)?null:MS(this._path)}get ref(){return new $n(this._repo,this._path)}get _queryIdentifier(){const e=Lv(this._queryParams),r=Vd(e);return r==="{}"?"default":r}get _queryObject(){return Lv(this._queryParams)}isEqual(e){if(e=mt(e),!(e instanceof _p))return!1;const r=this._repo===e._repo,a=kS(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return r&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+nO(this._path)}}class $n extends _p{constructor(e,r){super(e,r,new Wd,!1)}get parent(){const e=LS(this._path);return e===null?null:new $n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class al{constructor(e,r,a){this._node=e,this.ref=r,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new Me(e),a=ll(this.ref,e);return new al(this._node.getChild(r),a,je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>e(new al(o,ll(this.ref,a),je)))}hasChild(e){const r=new Me(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $u(i,e){return i=mt(i),i._checkNotDeleted("ref"),e!==void 0?ll(i._root,e):i._root}function ll(i,e){return i=mt(i),ge(i._path)===null?BD("child","path",e):yb("child","path",e),new $n(i._repo,$e(i._path,e))}function cI(i,e){i=mt(i),dp("push",i._path),_b("push",e,i._path,!0);const r=Eb(i._repo),a=aI(r),o=ll(i,a),u=ll(i,a);let f;return f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function fI(i){return dp("remove",i._path),yp(i,null)}function yp(i,e){i=mt(i),dp("set",i._path),_b("set",e,i._path,!1);const r=new ju;return ZD(i._repo,i._path,e,null,r.wrapCallback(()=>{})),r.promise}function hI(i){i=mt(i);const e=new uI(()=>{}),r=new vp(e);return WD(i._repo,i,r).then(a=>new al(a,new $n(i._repo,i._path),i._queryParams.getIndex()))}class vp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const a=r._queryParams.getIndex();return new lI("value",this,new al(e.snapshotNode,new $n(r._repo,r._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new oI(this,e,r):null}matches(e){return e instanceof vp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}hD($n);_D($n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="FIREBASE_DATABASE_EMULATOR_HOST",vd={};let pI=!1;function mI(i,e,r,a){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=Rs(u);i.repoInfo_=new CS(e,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,r),a&&(i.authTokenProvider_=a)}function gI(i,e,r,a,o){let u=a||i.options.databaseURL;u===void 0&&(i.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Xv(u,o),d=f.repoInfo,p;typeof process<"u"&&gv&&(p=gv[dI]),p?(u=`http://${p}?ns=${d.namespace}`,f=Xv(u,o),d=f.repoInfo):f.repoInfo.secure;const m=new DN(i.name,i.options,e);jD("Invalid Firebase Database URL",f),de(f.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=yI(d,i,m,new ON(i,r));return new vI(_,i)}function _I(i,e){const r=vd[e];(!r||r[i.key]!==i)&&Xn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),JD(i),delete r[i.key]}function yI(i,e,r,a){let o=vd[e.name];o||(o={},vd[e.name]=o);let u=o[i.toURLString()];return u&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new KD(i,pI,r,a),o[i.toURLString()]=u,u}class vI{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $n(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_I(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xn("Cannot call "+e+" on a deleted database.")}}function EI(i=sS(),e){const r=qd(i,"database").getImmediate({identifier:e});if(!r._instanceStarted){const a=HR("database");a&&SI(r,...a)}return r}function SI(i,e,r,a={}){i=mt(i),i._checkNotDeleted("useEmulator");const o=`${e}:${r}`,u=i._repoInternal;if(i._instanceStarted){if(o===i._repoInternal.repoInfo_.host&&mr(a,u.repoInfo_.emulatorOptions))return;Xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Jo(Jo.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:BR(a.mockUserToken,i.app.options.projectId);f=new Jo(d)}Rs(e)&&($E(e),JE("Database",!0)),mI(u,o,a,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(i){dN(Ns),ys(new gr("database",(e,{instanceIdentifier:r})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return gI(a,o,u,r)},"PUBLIC").setMultipleInstances(!0)),Ii(_v,yv,i),Ii(_v,yv,"esm2020")}Gn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Gn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};bI();var CI="firebase",TI="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(CI,TI,"app");function Ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wI=Ab,Nb=new pl("auth","Firebase",Ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new Bd("@firebase/auth");function RI(i,...e){Nu.logLevel<=Oe.WARN&&Nu.warn(`Auth (${Ns}): ${i}`,...e)}function eu(i,...e){Nu.logLevel<=Oe.ERROR&&Nu.error(`Auth (${Ns}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(i,...e){throw Ep(i,...e)}function gn(i,...e){return Ep(i,...e)}function Ob(i,e,r){const a={...wI(),[e]:r};return new pl("auth","Firebase",a).create(e,{appName:i.name})}function Yn(i){return Ob(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(i,...e){if(typeof i!="string"){const r=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return Nb.create(i,...e)}function ee(i,e,...r){if(!i)throw Ep(e,...r)}function Bn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eu(e),new Error(e)}function Wn(i,e){i||Bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(){return typeof self<"u"&&self.location?.href||""}function AI(){return Zv()==="http:"||Zv()==="https:"}function Zv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AI()||GR()||"connection"in navigator)?navigator.onLine:!0}function OI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,r){this.shortDelay=e,this.longDelay=r,Wn(r>e,"Short delay should be less than long delay!"),this.isMobile=Pd()||eS()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(i,e){Wn(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{static initialize(e,r,a){this.fetchImpl=e,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MI=new Sl(3e4,6e4);function Bi(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ji(i,e,r,a,o={}){return Ib(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const d=As({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m={method:e,headers:p,...u};return VR()||(m.referrerPolicy="no-referrer"),i.emulatorConfig&&Rs(i.emulatorConfig.host)&&(m.credentials="include"),Db.fetch()(await Mb(i,i.config.apiHost,r,d),m)})}async function Ib(i,e,r){i._canInitEmulator=!1;const a={...DI,...e};try{const o=new LI(i),u=await Promise.race([r(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wo(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wo(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wo(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wo(i,"user-disabled",f);const _=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ob(i,_,m);fn(i,_)}}catch(o){if(o instanceof Hi)throw o;fn(i,"network-request-failed",{message:String(o)})}}async function bl(i,e,r,a,o={}){const u=await ji(i,e,r,a,o);return"mfaPendingCredential"in u&&fn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Mb(i,e,r,a){const o=`${e}${r}?${a}`,u=i,f=u.config.emulator?Sp(i.config,o):`${i.config.apiScheme}://${o}`;return II.includes(r)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function xI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(gn(this.auth,"network-request-failed")),MI.get())})}}function Wo(i,e,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const o=gn(i,e,a);return o.customData._tokenResponse=r,o}function $v(i){return i!==void 0&&i.enterprise!==void 0}class kI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return xI(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UI(i,e){return ji(i,"GET","/v2/recaptchaConfig",Bi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,e){return ji(i,"POST","/v1/accounts:delete",e)}async function Ou(i,e){return ji(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PI(i,e=!1){const r=mt(i),a=await r.getIdToken(e),o=bp(a);ee(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:Ya(Qh(o.auth_time)),issuedAtTime:Ya(Qh(o.iat)),expirationTime:Ya(Qh(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Qh(i){return Number(i)*1e3}function bp(i){const[e,r,a]=i.split(".");if(e===void 0||r===void 0||a===void 0)return eu("JWT malformed, contained fewer than 3 sections"),null;try{const o=du(r);return o?JSON.parse(o):(eu("Failed to decode base64 JWT payload"),null)}catch(o){return eu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(i){const e=bp(i);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(i,e,r=!1){if(r)return e;try{return await e}catch(a){throw a instanceof Hi&&HI(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function HI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(i){const e=i.auth,r=await i.getIdToken(),a=await ol(i,Ou(e,{idToken:r}));ee(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?xb(o.providerUserInfo):[],f=qI(i.providerData,u),d=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,m=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Sd(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(i,_)}async function jI(i){const e=mt(i);await Du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qI(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function xb(i){return i.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i,e){const r=await Ib(i,{},async()=>{const a=As({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Mb(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return i.emulatorConfig&&Rs(i.emulatorConfig.host)&&(p.credentials="include"),Db.fetch()(f,p)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function GI(i,e){return ji(i,"POST","/v2/accounts:revokeToken",Bi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const r=Jv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:a,refreshToken:o,expiresIn:u}=await VI(e,r);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,r,a){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,r){const{refreshToken:a,accessToken:o,expirationTime:u}=r,f=new ps;return a&&(ee(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ps,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(i,e){ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class un{constructor({uid:e,auth:r,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new BI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await ol(this,this.stsTokenManager.getToken(this.auth,e));return ee(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return PI(this,e)}reload(){return jI(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),r&&await Du(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await ol(this,zI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const a=r.displayName??void 0,o=r.email??void 0,u=r.phoneNumber??void 0,f=r.photoURL??void 0,d=r.tenantId??void 0,p=r._redirectEventId??void 0,m=r.createdAt??void 0,_=r.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:R,providerData:w,stsTokenManager:P}=r;ee(y&&P,e,"internal-error");const z=ps.fromJSON(this.name,P);ee(typeof y=="string",e,"internal-error"),Ti(a,e.name),Ti(o,e.name),ee(typeof E=="boolean",e,"internal-error"),ee(typeof R=="boolean",e,"internal-error"),Ti(u,e.name),Ti(f,e.name),Ti(d,e.name),Ti(p,e.name),Ti(m,e.name),Ti(_,e.name);const H=new un({uid:y,auth:e,email:o,emailVerified:E,displayName:a,isAnonymous:R,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:z,createdAt:m,lastLoginAt:_});return w&&Array.isArray(w)&&(H.providerData=w.map(j=>({...j}))),p&&(H._redirectEventId=p),H}static async _fromIdTokenResponse(e,r,a=!1){const o=new ps;o.updateFromServerResponse(r);const u=new un({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Du(u),u}static async _fromGetAccountInfoResponse(e,r,a){const o=r.users[0];ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,d=new ps;d.updateFromIdToken(a);const p=new un({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function jn(i){Wn(i instanceof Function,"Expected a class definition");let e=eE.get(i);return e?(Wn(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,eE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Lb.type="NONE";const tE=Lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(i,e,r){return`firebase:${i}:${e}:${r}`}class ms{constructor(e,r,a){this.persistence=e,this.auth=r,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=tu(this.userKey,o.apiKey,u),this.fullPersistenceKey=tu("persistence",o.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Ou(this.auth,{idToken:e}).catch(()=>{});return r?un._fromGetAccountInfoResponse(this.auth,r,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,a="authUser"){if(!r.length)return new ms(jn(tE),e,a);const o=(await Promise.all(r.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||jn(tE);const f=tu(a,e.config.apiKey,e.name);let d=null;for(const m of r)try{const _=await m._get(f);if(_){let y;if(typeof _=="string"){const E=await Ou(e,{idToken:_}).catch(()=>{});if(!E)break;y=await un._fromGetAccountInfoResponse(e,E,_)}else y=un._fromJSON(e,_);m!==u&&(d=y),u=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ms(u,e,a):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(r.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new ms(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bb(e))return"Blackberry";if(jb(e))return"Webos";if(Ub(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(Hb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function kb(i=vt()){return/firefox\//i.test(i)}function Ub(i=vt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(i=vt()){return/crios\//i.test(i)}function Pb(i=vt()){return/iemobile/i.test(i)}function Hb(i=vt()){return/android/i.test(i)}function Bb(i=vt()){return/blackberry/i.test(i)}function jb(i=vt()){return/webos/i.test(i)}function Cp(i=vt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function YI(i=vt()){return Cp(i)&&!!window.navigator?.standalone}function FI(){return YR()&&document.documentMode===10}function qb(i=vt()){return Cp(i)||Hb(i)||jb(i)||Bb(i)||/windows phone/i.test(i)||Pb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(i,e=[]){let r;switch(i){case"Browser":r=nE(vt());break;case"Worker":r=`${nE(vt())}-${i}`;break;default:r=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ns}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const a=u=>new Promise((f,d)=>{try{const p=e(u);f(p)}catch(p){d(p)}});a.onAbort=r,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const a of this.queue)await a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(i,e={}){return ji(i,"GET","/v2/passwordPolicy",Bi(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class WI{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??XI,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=e.length>=a),o&&(r.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,r,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,r,a,o){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=jn(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ms.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Ou(this,{idToken:e}),a=await un._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&d?.user&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Du(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zt(this.app))return Promise.reject(Yn(this));const r=e?mt(e):null;return r&&ee(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),r=new WI(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,r,a){return this.registerStateListener(this.authStateSubscription,e,r,a)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,a){return this.registerStateListener(this.idTokenSubscription,e,r,a)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await GI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const a=await this.getOrInitRedirectPersistenceManager(r);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&jn(e)||this._popupRedirectResolver;ee(r,this,"argument-error"),this.redirectPersistenceManager=await ms.create(this,[jn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,a,o){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof r=="function"){const p=e.addObserver(r,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(r);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cr(i){return mt(i)}class iE{constructor(e){this.auth=e,this.observer=null,this.addObserver=tA(r=>this.observer=r)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $I(i){Ju=i}function Gb(i){return Ju.loadJS(i)}function JI(){return Ju.recaptchaEnterpriseScript}function eM(){return Ju.gapiScript}function tM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class nM{constructor(){this.enterprise=new iM}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class iM{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const rM="recaptcha-enterprise",Yb="NO_RECAPTCHA";class sM{constructor(e){this.type=rM,this.auth=Cr(e)}async verify(e="verify",r=!1){async function a(u){if(!r){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{UI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new kI(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{d(p)})})}function o(u,f,d){const p=window.grecaptcha;$v(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(Yb)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(d=>{if(!r&&$v(window.grecaptcha))o(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=JI();p.length!==0&&(p+=d),Gb(p).then(()=>{o(d,u,f)}).catch(m=>{f(m)})}}).catch(d=>{f(d)})})}}async function rE(i,e,r,a=!1,o=!1){const u=new sM(i);let f;if(o)f=Yb;else try{f=await u.verify(r)}catch{f=await u.verify(r,!0)}const d={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bd(i,e,r,a,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await rE(i,e,r,r==="getOobCode");return a(i,u)}else return a(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await rE(i,e,r,r==="getOobCode");return a(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(i,e){const r=qd(i,"auth");if(r.isInitialized()){const o=r.getImmediate(),u=r.getOptions();if(mr(u,e??{}))return o;fn(o,"already-initialized")}return r.initialize({options:e})}function lM(i,e){const r=e?.persistence||[],a=(Array.isArray(r)?r:[r]).map(jn);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function oM(i,e,r){const a=Cr(i);ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Fb(e),{host:f,port:d}=uM(e),p=d===null?"":`:${d}`,m={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ee(mr(m,a.config.emulator)&&mr(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Rs(f)?($E(`${u}//${f}${p}`),JE("Auth",!0)):cM()}function Fb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function uM(i){const e=Fb(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:sE(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:sE(f)}}}function sE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function cM(){function i(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,r){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function fM(i,e){return ji(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(i,e){return bl(i,"POST","/v1/accounts:signInWithPassword",Bi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(i,e){return bl(i,"POST","/v1/accounts:signInWithEmailLink",Bi(i,e))}async function pM(i,e){return bl(i,"POST","/v1/accounts:signInWithEmailLink",Bi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Tp{constructor(e,r,a,o=null){super("password",a),this._email=e,this._password=r,this._tenantId=o}static _fromEmailAndPassword(e,r){return new ul(e,r,"password")}static _fromEmailAndCode(e,r,a=null){return new ul(e,r,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,r,"signInWithPassword",hM);case"emailLink":return dM(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const a={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bd(e,a,"signUpPassword",fM);case"emailLink":return pM(e,{idToken:r,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gs(i,e){return bl(i,"POST","/v1/accounts:signInWithIdp",Bi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="http://localhost";class Er extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Er(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):fn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=r;if(!a||!o)return null;const f=new Er(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const r=this.buildRequest();return gs(e,r)}_linkToIdToken(e,r){const a=this.buildRequest();return a.idToken=r,gs(e,a)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,gs(e,r)}buildRequest(){const e={requestUri:mM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=As(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _M(i){const e=Ua(za(i)).link,r=e?Ua(za(e)).deep_link_id:null,a=Ua(za(i)).deep_link_id;return(a?Ua(za(a)).link:null)||a||r||e||i}class wp{constructor(e){const r=Ua(za(e)),a=r.apiKey??null,o=r.oobCode??null,u=gM(r.mode??null);ee(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=_M(e);try{return new wp(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.providerId=Ms.PROVIDER_ID}static credential(e,r){return ul._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const a=wp.parseLink(r);return ee(a,"argument-error"),ul._fromEmailAndCode(e,a.code,a.tenantId)}}Ms.PROVIDER_ID="password";Ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends Kb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends Cl{constructor(){super("facebook.com")}static credential(e){return Er._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Er._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:a}=e;if(!r&&!a)return null;try{return Ri.credential(r,a)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Cl{constructor(){super("github.com")}static credential(e){return Er._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Cl{constructor(){super("twitter.com")}static credential(e,r){return Er._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=e;if(!r||!a)return null;try{return Ni.credential(r,a)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(i,e){return bl(i,"POST","/v1/accounts:signUp",Bi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,a,o=!1){const u=await un._fromIdTokenResponse(e,a,o),f=aE(a);return new Sr({user:u,providerId:f,_tokenResponse:a,operationType:r})}static async _forOperation(e,r,a){await e._updateTokensIfNecessary(a,!0);const o=aE(a);return new Sr({user:e,providerId:o,_tokenResponse:a,operationType:r})}}function aE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Hi{constructor(e,r,a,o){super(r.code,r.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Iu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,r,a,o){return new Iu(e,r,a,o)}}function Qb(i,e,r,a){return(e==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Iu._fromErrorAndOperation(i,u,e,a):u})}async function vM(i,e,r=!1){const a=await ol(i,e._linkToIdToken(i.auth,await i.getIdToken()),r);return Sr._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(i,e,r=!1){const{auth:a}=i;if(Zt(a.app))return Promise.reject(Yn(a));const o="reauthenticate";try{const u=await ol(i,Qb(a,o,e,i),r);ee(u.idToken,a,"internal-error");const f=bp(u.idToken);ee(f,a,"internal-error");const{sub:d}=f;return ee(i.uid===d,a,"user-mismatch"),Sr._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&fn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(i,e,r=!1){if(Zt(i.app))return Promise.reject(Yn(i));const a="signIn",o=await Qb(i,a,e),u=await Sr._fromIdTokenResponse(i,a,o);return r||await i._updateCurrentUser(u.user),u}async function SM(i,e){return Xb(Cr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(i){const e=Cr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bM(i,e,r){if(Zt(i.app))return Promise.reject(Yn(i));const a=Cr(i),f=await bd(a,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Wb(i),p}),d=await Sr._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(d.user),d}function CM(i,e,r){return Zt(i.app)?Promise.reject(Yn(i)):SM(mt(i),Ms.credential(e,r)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Wb(i),a})}function TM(i,e,r,a){return mt(i).onIdTokenChanged(e,r,a)}function wM(i,e,r){return mt(i).beforeAuthStateChanged(e,r)}function RM(i,e,r,a){return mt(i).onAuthStateChanged(e,r,a)}function AM(i){return mt(i).signOut()}const Mu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Mu,"1"),this.storage.removeItem(Mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=1e3,OM=10;class $b extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),o=this.localCache[r];a!==o&&e(r,o,a)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const a=e.key;r?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!r&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);FI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OM):o()}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:a}),!0)})},NM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}$b.type="LOCAL";const DM=$b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Jb.type="SESSION";const e0=Jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(o=>o.isListeningto(e));if(r)return r;const a=new ec(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:a,eventType:o,data:u}=r.data,f=this.handlersMap[o];if(!f?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(f).map(async m=>m(r.origin,u)),p=await IM(d);r.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ec.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i="",e=10){let r="";for(let a=0;a<e;a++)r+=Math.floor(Math.random()*10);return i+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const m=Rp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(E.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:r},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function xM(i){_n().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function LM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kM(){return navigator?.serviceWorker?.controller||null}function UM(){return t0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firebaseLocalStorageDb",zM=1,xu="firebaseLocalStorage",i0="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function tc(i,e){return i.transaction([xu],e?"readwrite":"readonly").objectStore(xu)}function PM(){const i=indexedDB.deleteDatabase(n0);return new Tl(i).toPromise()}function Cd(){const i=indexedDB.open(n0,zM);return new Promise((e,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(xu,{keyPath:i0})}catch(o){r(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(xu)?e(a):(a.close(),await PM(),e(await Cd()))})})}async function lE(i,e,r){const a=tc(i,!0).put({[i0]:e,value:r});return new Tl(a).toPromise()}async function HM(i,e){const r=tc(i,!1).get(e),a=await new Tl(r).toPromise();return a===void 0?null:a.value}function oE(i,e){const r=tc(i,!0).delete(e);return new Tl(r).toPromise()}const BM=800,jM=3;class r0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cd(),this.db)}async _withRetries(e){let r=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(r++>jM)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ec._getInstance(UM()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LM(),!this.activeServiceWorker)return;this.sender=new MM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cd();return await lE(e,Mu,"1"),await oE(e,Mu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>lE(a,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(a=>HM(a,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tc(o,!1).getAll();return new Tl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),r.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(e,r){this.localCache[e]=r;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r0.type="LOCAL";const qM=r0;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(i,e){return e?jn(e):(ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gs(e,this._buildIdpRequest())}_linkToIdToken(e,r){return gs(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function GM(i){return Xb(i.auth,new Ap(i),i.bypassAuthState)}function YM(i){const{auth:e,user:r}=i;return ee(r,e,"internal-error"),EM(r,new Ap(i),i.bypassAuthState)}async function FM(i){const{auth:e,user:r}=i;return ee(r,e,"internal-error"),vM(r,new Ap(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,r,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:a,postBody:o,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:r,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GM;case"linkViaPopup":case"linkViaRedirect":return FM;case"reauthViaPopup":case"reauthViaRedirect":return YM;default:fn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Sl(2e3,1e4);class fs extends s0{constructor(e,r,a,o,u){super(e,r,o,u),this.provider=a,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KM.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="pendingRedirect",nu=new Map;class XM extends s0{constructor(e,r,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let e=nu.get(this.auth._key());if(!e){try{const a=await WM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(r){e=()=>Promise.reject(r)}nu.set(this.auth._key(),e)}return this.bypassAuthState||nu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WM(i,e){const r=JM(e),a=$M(i);if(!await a._isAvailable())return!1;const o=await a._get(r)==="true";return await a._remove(r),o}function ZM(i,e){nu.set(i._key(),e)}function $M(i){return jn(i._redirectPersistence)}function JM(i){return tu(QM,i.config.apiKey,i.name)}async function e2(i,e,r=!1){if(Zt(i.app))return Promise.reject(Yn(i));const a=Cr(i),o=VM(a,e),f=await new XM(a,o,r).execute();return f&&!r&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=600*1e3;class n2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(r=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!a0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";r.onError(gn(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const a=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function a0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function i2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(i,e={}){return ji(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function l2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await r2(i);for(const r of e)try{if(o2(r))return}catch{}fn(i,"unauthorized-domain")}function o2(i){const e=Ed(),{protocol:r,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&f.hostname===a}if(!a2.test(r))return!1;if(s2.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Sl(3e4,6e4);function cE(){const i=_n().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function c2(i){return new Promise((e,r)=>{function a(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),r(gn(i,"network-request-failed"))},timeout:u2.get()})}if(_n().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_n().gapi?.load)a();else{const o=tM("iframefcb");return _n()[o]=()=>{gapi.load?a():r(gn(i,"network-request-failed"))},Gb(`${eM()}?onload=${o}`).catch(u=>r(u))}}).catch(e=>{throw iu=null,e})}let iu=null;function f2(i){return iu=iu||c2(i),iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Sl(5e3,15e3),d2="__/auth/iframe",p2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _2(i){const e=i.config;ee(e.authDomain,i,"auth-domain-config-required");const r=e.emulator?Sp(e,p2):`https://${i.config.authDomain}/${d2}`,a={apiKey:e.apiKey,appName:i.name,v:Ns},o=g2.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${r}?${As(a).slice(1)}`}async function y2(i){const e=await f2(i),r=_n().gapi;return ee(r,i,"internal-error"),e.open({where:document.body,url:_2(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=gn(i,"network-request-failed"),d=_n().setTimeout(()=>{u(f)},h2.get());function p(){_n().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,S2=600,b2="_blank",C2="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(i,e,r,a=E2,o=S2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...v2,width:a.toString(),height:o.toString(),top:u,left:f},m=vt().toLowerCase();r&&(d=zb(m)?b2:r),kb(m)&&(e=e||C2,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[R,w])=>`${E}${R}=${w},`,"");if(YI(m)&&d!=="_self")return w2(e||"",d),new fE(null);const y=window.open(e||"",d,_);ee(y,i,"popup-blocked");try{y.focus()}catch{}return new fE(y)}function w2(i,e){const r=document.createElement("a");r.href=i,r.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__/auth/handler",A2="emulator/auth/handler",N2=encodeURIComponent("fac");async function hE(i,e,r,a,o,u){ee(i.config.authDomain,i,"auth-domain-config-required"),ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:Ns,eventId:o};if(e instanceof Kb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",rd(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))f[_]=y}if(e instanceof Cl){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const d=f;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),m=p?`#${N2}=${encodeURIComponent(p)}`:"";return`${O2(i)}?${As(d).slice(1)}${m}`}function O2({config:i}){return i.emulator?Sp(i,A2):`https://${i.authDomain}/${R2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="webStorageSupport";class D2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e0,this._completeRedirectFn=e2,this._overrideRedirectResult=ZM}async _openPopup(e,r,a,o){Wn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await hE(e,r,a,Ed(),o);return T2(e,u,Rp())}async _openRedirect(e,r,a,o){await this._originValidation(e);const u=await hE(e,r,a,Ed(),o);return xM(u),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:o,promise:u}=this.eventManagers[r];return o?Promise.resolve(o):(Wn(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(e){const r=await y2(e),a=new n2(e);return r.register("authEvent",o=>(ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=r,a}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Xh,{type:Xh},o=>{const u=o?.[0]?.[Xh];u!==void 0&&r(!!u),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=l2(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return qb()||Ub()||Cp()}}const I2=D2;var dE="@firebase/auth",pE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L2(i){ys(new gr("auth",(e,{options:r})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;ee(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vb(i)},m=new ZI(a,o,u,p);return lM(m,r),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,a)=>{e.getProvider("auth-internal").initialize()})),ys(new gr("auth-internal",e=>{const r=Cr(e.getProvider("auth").getImmediate());return(a=>new M2(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(dE,pE,x2(i)),Ii(dE,pE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=300,U2=ZE("authIdTokenMaxAge")||k2;let mE=null;const z2=i=>async e=>{const r=e&&await e.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>U2)return;const o=r?.token;mE!==o&&(mE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P2(i=sS()){const e=qd(i,"auth");if(e.isInitialized())return e.getImmediate();const r=aM(i,{popupRedirectResolver:I2,persistence:[qM,DM,e0]}),a=ZE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=z2(u.toString());wM(r,f,()=>f(r.currentUser)),TM(r,d=>f(d))}}const o=XE("auth");return o&&oM(r,`http://${o}`),r}function H2(){return document.getElementsByTagName("head")?.[0]??document}$I({loadJS(i){return new Promise((e,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=gn("internal-error");u.customData=o,r(u)},a.type="text/javascript",a.charset="UTF-8",H2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L2("Browser");const B2={apiKey:"AIzaSyAgf8H8TskHD1pXrVK1H8mdjIjLhMGzaOA",authDomain:"contactbook-3ea5d.firebaseapp.com",databaseURL:"https://contactbook-3ea5d-default-rtdb.europe-west1.firebasedatabase.app",projectId:"contactbook-3ea5d",storageBucket:"contactbook-3ea5d.firebasestorage.app",messagingSenderId:"461845570644",appId:"1:461845570644:web:b604be2565048e7355f9c1",measurementId:"G-3QXPNYDZFP"},l0=rS(B2),Tr=P2(l0),nc=EI(l0),Fa=kd("contacts/fetchContacts",async(i,{rejectWithValue:e})=>{try{const r=Tr.currentUser;if(!r)throw new Error("User not authenticated");const a=$u(nc,`users/${r.uid}/contacts`),o=await hI(a);if(o.exists()){const u=o.val();return Object.keys(u).map(f=>({id:f,...u[f]}))}return[]}catch(r){return e(r.message)}}),ru=kd("contacts/addContact",async(i,{rejectWithValue:e})=>{try{const r=Tr.currentUser;if(!r)throw new Error("User not authenticated");const a=$u(nc,`users/${r.uid}/contacts`),o=cI(a),u={...i,createdAt:Date.now()};return await yp(o,u),{id:o.key,...u}}catch(r){return e(r.message)}}),su=kd("contacts/deleteContact",async(i,{rejectWithValue:e})=>{try{const r=Tr.currentUser;if(!r)throw new Error("User not authenticated");const a=$u(nc,`users/${r.uid}/contacts/${i}`);return await fI(a),i}catch(r){return e(r.message)}}),o0=TR({name:"contacts",initialState:{contacts:{items:[],isLoading:!1,error:null},filter:""},reducers:{setFilter:(i,e)=>{i.filter=e.payload},clearContacts:i=>{i.contacts.items=[],i.contacts.error=null}},extraReducers:i=>{i.addCase(Fa.pending,e=>{e.contacts.isLoading=!0,e.contacts.error=null}).addCase(Fa.fulfilled,(e,r)=>{e.contacts.isLoading=!1,e.contacts.items=r.payload}).addCase(Fa.rejected,(e,r)=>{e.contacts.isLoading=!1,e.contacts.error=r.payload}).addCase(ru.pending,e=>{e.contacts.isLoading=!0}).addCase(ru.fulfilled,(e,r)=>{e.contacts.isLoading=!1,e.contacts.items.push(r.payload)}).addCase(ru.rejected,(e,r)=>{e.contacts.isLoading=!1,e.contacts.error=r.payload}).addCase(su.pending,e=>{e.contacts.isLoading=!0}).addCase(su.fulfilled,(e,r)=>{e.contacts.isLoading=!1,e.contacts.items=e.contacts.items.filter(a=>a.id!==r.payload)}).addCase(su.rejected,(e,r)=>{e.contacts.isLoading=!1,e.contacts.error=r.payload})}}),{setFilter:j2,clearContacts:X2}=o0.actions,q2=o0.reducer,V2=uR({reducer:{contacts:q2}});function G2(){const[i,e]=D.useState(""),[r,a]=D.useState(""),[o,u]=D.useState(""),[f,d]=D.useState(!1),p=fl();async function m(_){if(_.preventDefault(),o.length<6){alert("Password must be at least 6 characters");return}d(!0);try{const E=(await bM(Tr,r,o)).user;await yp($u(nc,`users/${E.uid}/profile`),{uid:E.uid,name:i,email:r,createdAt:Date.now()}),localStorage.setItem("user",JSON.stringify({uid:E.uid,name:i,email:r})),alert("Registration successful!"),p("/contacts")}catch(y){console.error("Registration error:",y);let E="Registration failed";switch(y.code){case"auth/email-already-in-use":E="Email already in use";break;case"auth/invalid-email":E="Invalid email address";break;case"auth/weak-password":E="Password is too weak";break;case"auth/network-request-failed":E="Network error. Check your connection.";break;default:E=y.message}alert(E)}finally{d(!1)}}return W.jsx("div",{className:"auth-container",children:W.jsxs("div",{className:"auth-box",children:[W.jsx("h2",{children:"Register"}),W.jsxs("form",{onSubmit:m,children:[W.jsx("input",{placeholder:"Name",value:i,onChange:_=>e(_.target.value),required:!0}),W.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:_=>a(_.target.value),required:!0}),W.jsx("input",{type:"password",placeholder:"Password (min 6 characters)",value:o,onChange:_=>u(_.target.value),required:!0}),W.jsx("button",{type:"submit",disabled:f,children:f?"Registering...":"Register"})]}),W.jsxs("p",{children:["Already have an account?"," ",W.jsx(zu,{to:"/login",children:"Login here"})]})]})})}function Y2(){const[i,e]=D.useState(""),[r,a]=D.useState(""),[o,u]=D.useState(!1),f=fl();async function d(p){p.preventDefault(),u(!0);try{const _=(await CM(Tr,i,r)).user;localStorage.setItem("user",JSON.stringify({uid:_.uid,email:_.email})),alert("Login successful!"),f("/contacts")}catch(m){console.error("Login error:",m);let _="Login failed";switch(m.code){case"auth/invalid-credential":case"auth/user-not-found":case"auth/wrong-password":_="Invalid email or password";break;case"auth/too-many-requests":_="Too many failed attempts. Try again later.";break;case"auth/network-request-failed":_="Network error. Check your connection.";break;default:_=m.message}alert(_)}finally{u(!1)}}return W.jsx("div",{className:"auth-container",children:W.jsxs("div",{className:"auth-box",children:[W.jsx("h2",{children:"Login"}),W.jsxs("form",{onSubmit:d,children:[W.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:p=>e(p.target.value),required:!0}),W.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:p=>a(p.target.value),required:!0}),W.jsx("button",{type:"submit",disabled:o,children:o?"Logging in...":"Login"})]}),W.jsxs("p",{children:["Don't have an account?"," ",W.jsx(zu,{to:"/register",children:"Register here"})]})]})})}const F2=()=>u1(),gE=h1;function K2(){const{items:i,isLoading:e,error:r}=gE(w=>w.contacts.contacts),a=gE(w=>w.contacts.filter),o=F2(),u=fl(),[f,d]=D.useState(""),[p,m]=D.useState("");D.useEffect(()=>{o(Fa())},[o]);const _=i.filter(w=>w.name.toLowerCase().includes(a.toLowerCase())),y=()=>{f.trim()&&p.trim()?(o(ru({name:f,phone:p})),d(""),m("")):alert("Please fill in both name and phone!")},E=w=>{window.confirm("Are you sure you want to delete this contact?")&&o(su(w))},R=async()=>{try{await AM(Tr),localStorage.removeItem("user"),u("/login")}catch(w){console.error("Logout error:",w),alert("Failed to logout")}};return W.jsxs("main",{children:[W.jsxs("div",{className:"header-actions",children:[W.jsx("h1",{children:"Contacts"}),W.jsx("button",{onClick:R,children:"Logout"})]}),W.jsx("button",{onClick:()=>o(Fa()),children:"Refresh Contacts"}),W.jsx("input",{type:"text",placeholder:"Search contacts...",value:a,onChange:w=>o(j2(w.target.value))}),e&&W.jsx("p",{children:"Loading..."}),r&&W.jsxs("p",{style:{color:"red"},children:["Error: ",r]}),!e&&i.length===0&&!r&&W.jsx("p",{className:"empty-state",children:"No contacts yet. Add your first contact below!"}),W.jsx("ul",{children:_.map(w=>W.jsxs("li",{children:[W.jsxs("div",{children:[W.jsx("strong",{children:w.name}),W.jsx("br",{}),w.phone,W.jsxs("small",{children:["Added: ",new Date(w.createdAt).toLocaleDateString()]})]}),W.jsx("button",{onClick:()=>E(w.id),children:"Delete"})]},w.id))}),W.jsxs("div",{className:"addCont",children:[W.jsx("h3",{children:"Add New Contact"}),W.jsx("input",{type:"text",className:"addContInp",placeholder:"Name",value:f,onChange:w=>d(w.target.value)}),W.jsx("input",{type:"text",className:"addContInp",placeholder:"Phone",value:p,onChange:w=>m(w.target.value)}),W.jsx("button",{className:"addContBtn",onClick:y,children:"Add Contact"})]})]})}function Q2(){const[i,e]=D.useState(null),[r,a]=D.useState(!0);return D.useEffect(()=>{const o=RM(Tr,u=>{e(u),a(!1)});return()=>o()},[]),r?W.jsx("div",{className:"auth-container",children:W.jsx("div",{className:"auth-box",children:W.jsx("h2",{children:"Loading..."})})}):W.jsxs(rw,{children:[W.jsx(La,{path:"/",element:i?W.jsx(Na,{to:"/contacts",replace:!0}):W.jsx(Na,{to:"/login",replace:!0})}),W.jsx(La,{path:"/login",element:i?W.jsx(Na,{to:"/contacts",replace:!0}):W.jsx(Y2,{})}),W.jsx(La,{path:"/register",element:i?W.jsx(Na,{to:"/contacts",replace:!0}):W.jsx(G2,{})}),W.jsx(La,{path:"/contacts",element:i?W.jsx(K2,{}):W.jsx(Na,{to:"/login",replace:!0})})]})}VT.createRoot(document.getElementById("root")).render(W.jsx(kT.StrictMode,{children:W.jsx(Aw,{children:W.jsx(a1,{store:V2,children:W.jsx(Q2,{})})})}));
